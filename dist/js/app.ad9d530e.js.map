{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?7e02","webpack:///./src/components/onlineClip/SubmitClip.vue?258d","webpack:///./src/components/onlineClip/tabs/PictureTab.vue?498b","webpack:///./src/assets/video/sunsetGlow.mp4","webpack:///./src/assets/picture/snow.jpg","webpack:///./src/assets/picture/line.jpg","webpack:///./src/assets/video/line.webm","webpack:///./src/components/onlineClip/Loading.vue?d077","webpack:///./src/components/onlineClip/OnlineClip.vue?4eac","webpack:///./src/components/onlineClip/tracks/TransitionTrack.vue?008e","webpack:///./src/assets/material1004.png","webpack:///./src/components/onlineClip/SubmitClip.vue?b730","webpack:///./src/components/onlineClip/VideoControls.vue?6e0e","webpack:///./src/assets/video/circle.webm","webpack:///./src/components/onlineClip/tracks/MultiTracksUl.vue?a77a","webpack:///./src/App.vue?e667","webpack:///./src/components/onlineClip/OnlineClip.vue?4a3e","webpack:///./src/components/onlineClip/TimeAxis.vue?2d69","webpack:///./src/components/onlineClip/global/functions.js","webpack:///./src/components/onlineClip/global/various.vue","webpack:///src/components/onlineClip/TimeAxis.vue","webpack:///./src/components/onlineClip/TimeAxis.vue?82ca","webpack:///./src/components/onlineClip/TimeAxis.vue","webpack:///./src/components/onlineClip/Pointer.vue?ab2a","webpack:///src/components/onlineClip/global/various.vue","webpack:///./src/components/onlineClip/global/various.vue?5628","webpack:///src/components/onlineClip/Pointer.vue","webpack:///./src/components/onlineClip/Pointer.vue?3ac4","webpack:///./src/components/onlineClip/Pointer.vue","webpack:///./src/components/onlineClip/SubmitClip.vue?ecc6","webpack:///./src/components/onlineClip/drrContainers/PictureDrr.vue?a627","webpack:///src/components/onlineClip/drrContainers/PictureDrr.vue","webpack:///./src/components/onlineClip/drrContainers/PictureDrr.vue?70c3","webpack:///./src/components/onlineClip/drrContainers/PictureDrr.vue","webpack:///./src/components/onlineClip/drrContainers/TextDrr.vue?8e55","webpack:///src/components/onlineClip/drrContainers/TextDrr.vue","webpack:///./src/components/onlineClip/drrContainers/TextDrr.vue?322e","webpack:///./src/components/onlineClip/drrContainers/TextDrr.vue","webpack:///./src/components/onlineClip/VideoControls.vue?5882","webpack:///src/components/onlineClip/VideoControls.vue","webpack:///./src/components/onlineClip/VideoControls.vue?d63e","webpack:///./src/components/onlineClip/VideoControls.vue","webpack:///src/components/onlineClip/SubmitClip.vue","webpack:///./src/components/onlineClip/SubmitClip.vue?2934","webpack:///./src/components/onlineClip/SubmitClip.vue","webpack:///./src/components/onlineClip/TempMessage.vue?145e","webpack:///./src/components/onlineClip/TempMessage.vue","webpack:///./src/components/onlineClip/tracks/MultiTracksUl.vue?505b","webpack:///src/components/onlineClip/tracks/MultiTracksUl.vue","webpack:///./src/components/onlineClip/tracks/MultiTracksUl.vue?fad2","webpack:///./src/components/onlineClip/tracks/MultiTracksUl.vue","webpack:///./src/components/onlineClip/tabs/MaterialTab.vue?4445","webpack:///./src/components/onlineClip/Loading.vue?ea78","webpack:///src/components/onlineClip/Loading.vue","webpack:///./src/components/onlineClip/Loading.vue?8d3b","webpack:///./src/components/onlineClip/Loading.vue","webpack:///src/components/onlineClip/tabs/MaterialTab.vue","webpack:///./src/components/onlineClip/tabs/MaterialTab.vue?71bf","webpack:///./src/components/onlineClip/tabs/MaterialTab.vue","webpack:///./src/components/onlineClip/tracks/MaterialTrack.vue?d818","webpack:///src/components/onlineClip/tracks/MaterialTrack.vue","webpack:///./src/components/onlineClip/tracks/MaterialTrack.vue?83c6","webpack:///./src/components/onlineClip/tracks/MaterialTrack.vue","webpack:///./src/components/onlineClip/tabs/PictureTab.vue?c720","webpack:///src/components/onlineClip/tabs/PictureTab.vue","webpack:///./src/components/onlineClip/tabs/PictureTab.vue?677e","webpack:///./src/components/onlineClip/tabs/PictureTab.vue","webpack:///./src/components/onlineClip/tracks/PictureTrack.vue?95f8","webpack:///src/components/onlineClip/tracks/PictureTrack.vue","webpack:///./src/components/onlineClip/tracks/PictureTrack.vue?643f","webpack:///./src/components/onlineClip/tracks/PictureTrack.vue","webpack:///./src/components/onlineClip/tabs/TextTab.vue?c99b","webpack:///src/components/onlineClip/tabs/TextTab.vue","webpack:///./src/components/onlineClip/tabs/TextTab.vue?9fae","webpack:///./src/components/onlineClip/tabs/TextTab.vue","webpack:///./src/components/onlineClip/tracks/TextTrack.vue?f367","webpack:///src/components/onlineClip/tracks/TextTrack.vue","webpack:///./src/components/onlineClip/tracks/TextTrack.vue?a731","webpack:///./src/components/onlineClip/tracks/TextTrack.vue","webpack:///./src/components/onlineClip/tracks/TransitionTrack.vue?d781","webpack:///src/components/onlineClip/tracks/TransitionTrack.vue","webpack:///./src/components/onlineClip/tracks/TransitionTrack.vue?6e25","webpack:///./src/components/onlineClip/tracks/TransitionTrack.vue","webpack:///src/components/onlineClip/OnlineClip.vue","webpack:///./src/components/onlineClip/OnlineClip.vue?4c94","webpack:///./src/components/onlineClip/OnlineClip.vue","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue","webpack:///./src/vuex/store.js","webpack:///./src/main.js","webpack:///./src/components/onlineClip/Pointer.vue?ca32","webpack:///./src/components/onlineClip/tracks/PictureTrack.vue?68ac","webpack:///./src/components/onlineClip/tabs/TextTab.vue?0435","webpack:///./src/components/onlineClip/TempMessage.vue?59c7","webpack:///./src/assets/pause.png","webpack:///./src/components/onlineClip/tabs/MaterialTab.vue?7e25","webpack:///./src/components/onlineClip/OnlineClip.vue?c139","webpack:///./src/components/onlineClip/TimeAxis.vue?9e29","webpack:///./src/assets/picture/forest.jpg","webpack:///./src/components/onlineClip/tracks/TextTrack.vue?0c60","webpack:///./src/assets/video/JX3.mp4","webpack:///./src/assets/play.png","webpack:///./src/assets/picture/circle.jpg","webpack:///./src/components/onlineClip/drrContainers/TextDrr.vue?e7c9","webpack:///./src/components/onlineClip/drrContainers/PictureDrr.vue?0f42","webpack:///./src/assets/video/firework.mp4","webpack:///./src/components/onlineClip/tracks/MaterialTrack.vue?f7a3"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","attrs","staticRenderFns","directives","rawName","expression","staticClass","ref","model","callback","$$v","onlineTab","slot","_v","on","updateData","handleVideoDataSet","drawCanvasVideoCover","handleSelectedClick","handleShowMaterialDialog","_e","handleIconAdd","isTextEdit","handleCancelEdit","staticStyle","videoSrc","_l","item","index","getReverseIndex","reversePictureList","refInFor","keyCode","videoPlay","handleVideoPause","reverseTextList","handleTextEdidState","controlsIcons","play","handleVideoPlay","pause","_s","trackCurrentTime","trackDurationString","class","selected","type","$event","keyUpMonitor","materialTrackList","banClip","handleMediaClip","handleSaveOrSubmit","handleIconHover","isShowUl","style","color","showUlIndex","ulName","top","getUlTop","left","iconWidth","ulText","nativeOn","trackDuration","trackScale","setPointerAndTrack","judgeVideoSource","judgePictureSource","judgeTextSource","judgeTransitionSource","changePointerStart","width","timeAxisDuration","handleTrackClick","handleTrackMouseDown","isSaveOrSubmit","isShowMaterialAdd","saveOrSubmit","videoInfo","videoFrame","handleSubmitClose","handleAllClose","axisWidth","formatDuration","duration","hour","Math","floor","minute","second","stringHour","stringMinute","stringSecond","formatColor","colorArr","replace","split","strHex","decimal","Number","hex","toString","toUpperCase","props","materialDuration","default","drag","canvas","onmousedown","vnode","context","changePointer","e","offsetX","document","onmousemove","preventDefault","moveX","onmouseup","axis","undefined","axisCtx","height","that","computed","watch","handler","getWidth","deep","methods","drawAxis","ctx","strokeStyle","fillStyle","font","lineWidth","beginPath","moveTo","lineTo","fillText","closePath","stroke","translate","time","scale","text","$emit","mounted","$refs","timeAxis","getContext","component","_m","scrollTop","zIndex","isDragging","defaultPicWidth","defaultPicHeight","dragTarget","dragTranslateX","dragWidth","isDropZone","isDragFromTab","pictureList","mouseElement","picturePosition","playingPicture","playingPictureIndex","direction","transitionList","Boolean","widthRange","pointer","judgePlayingTarget","offsetLeft","pointerDuration","tracks","xLeft","val","list","judgePlaying","track","$store","commit","handlePointerYStatic","moveWhenVideoPlay","forEach","findIndex","trackStartTime","trackEndTime","target","tempTargetList","tempIndexIndex","changePointerLeft","querySelector","dialogTitle","handleDialogClose","handleVideoPlaying","drawCanvasVideo","stopCanvasVideo","isVideoLoading","drawCanvasCover","widthScale","heightScale","playingText","playingTextIndex","handleSliderChange","submitRules","saveRules","$set","handleBusinessTypeChange","tagEnName","tagCnName","handleCategorySelelct","id","label","getAdviceTag","tag","handleTagDelete","indexOf","_k","handleAddTag","addTagName","getCoverByVideo","mediaImageUploadUrl","handleUploadChange","handleUploadSuccess","handleUploadBefore","picH","picV","handleSubmitValid","buttonText","handleShow","isSubmit","whirl","nowXAxis","nowYAxis","activeName","trackIndex","handleRotating","handleResizing","handleDragging","handleActive","handleDragStop","handleResizeStop","fileType","fileUrl","domProps","handleResizeClick","components","DraggableResizable","trackList","Array","submitPlaying","submitPlayingIndex","$nextTick","realTarget","targetStyle","opacity","transform","judgeOne","angle","activeTarget","playingName","vm","isFromMouseDown","handleDrrHandler","handleDrrTextEditBlur","handleDrrTextEditEnd","editText","originalWidth","proportion","handleDrrTextEdit","isEdit","fontFamily","fontFile","fontSize","fontColor","fontWeight","bold","fontStyle","italic","letterSpacing","wordSpacing","lineHeight","lineSpacing","border","frame","textAlign","alignment","textShadow","shadowY","textDecoration","underLine","transparency","webkitTextStroke","borderW","isDivRange","inputStyle","transpancy","setTimeout","input","focus","formatTooltip","sliderData","trackCurrentTimeString","created","PictureDrr","TextDrr","VideoControls","isHighlight","editId","formInfo","highlightList","submitVideo","currentTime","lastPlayedMaterial","playingMaterial","playingTransition","coverList","videoTitle","businessType","categoryId","categoryName","productType","fileId","define","status","videoType","submitTime","createdTime","modifyTime","url","userId","firstVideoH","firstVideoV","businessTypeList","categoryTypeList","realCategoryTypeList","educationType","productTypeList","loadingPicH","loadingPicV","loadingSave","isLoading","isLoadingSelect","realSelectedList","realAddedList","realPictureList","realTextList","isEnd","canvasWidth","canvasVideo","canvasTimer","oldPictureIndex","$message","message","playVideoPicture","handleVideoPlayOrPause","playUrl","videoWidth","videoHeight","startTime","getPlayingMaterial","handleVideoChange","videoPicture","isNeedPlay","drrTarget","isNaN","current","newUrl","oldUrl","src","newTime","oldTime","validateField","fileList","handleUploadCanvas","validate","valid","handleVideoSubmit","promiseContainer","judgeCoverType","formatAllMaterial","Promise","all","then","transferBase64ToFile","u8arr","str","charCodeAt","File","picH64","picV64","endTime","test","cover","lastMedia","lastTrackIndex","startSecond","endSecond","xAxis","round","yAxis","listName","mergeZoom","watermark","finally","getDrrElement","way","drrName","assign","getPlaying","getSaveParams","params","rlsList","rlsVideos","pics","transitionsDTOS","textDTOS","canvasH","canvasV","drawImage","video","vWidth","vheight","toDataURL","initForm","pop","initData","lastMaterial","initDrrScale","fetchData","clearInterval","setInterval","JSON","parse","stringify","materialTabList","pictureTrackList","textTrackList","reverse","script","handleTrackAdd","handleTrackDelete","handleTrackCopy","String","judgeTrackSubLimit","amount","pull","put","handleMediaClone","handleMaterialAddBefore","handleMaterialAdd","material","mouseTarget","display","handleMaterialDelete","getDuration","frameDuration","uploadAction","isUploading","judgeUploadType","Draggable","Loading","isLimit","loadingImage","isEditMaterialUploading","isMaterialUploading","materialFileList","materialFileLastLength","isCloseClip","from","to","targetIndex","indexCount","getElementById","updateStyle","before","after","defaultMaterialHeight","backgroundImage","backgroundSize","startFrame","endFrame","judgeTrackDuration","coocaaMId","onTrack","coocaaVId","newIndex","oldIndex","handleUploadCoverDraw","file","setAttribute","onloadeddata","getMaterialLoad","console","log","oncanplay","beforeDestroy","materialUpload","abort","handleSelectedStart","handleSelectedSort","trackContainer","materialTrackWidth","originalTarget","originalIndex","moveWidth","offsetWidth","before2","after2","temp","getDurationByWidth","isShowLocal","first","firstCategory","handleSecondCategorySearch","secondCategory","handlePictureSearch","pictureFileList","isEmpty","picShowAmount","picId","handlePictureOver","handlePictureOut","judgePictureDraggable","handlePictureIconAdd","handleLocalPictureDelete","picUrl","handlePictureStart","prefix","trackId","isTrackDrag","handlePictureDragging","handlePictureDragEnd","isPictureUploading","handleNetworkPictureShow","handleLocalPictureShow","cardType","cardSrc","loadedCardContent","tabRotate","beforePictureResize","tabResize","tabOpacity","flip","h","handlePictureFlip","v","tabName","firstCategoryList","secondCategoryList","isListChange","isPictureLoading","isCardLoading","pagination","currentPage","pageSize","isShowCard","selectedTarget","initTab","realRotate","handlePictureMore","loaded","picture","localStorage","oldTitle","handleUploadProgress","oldName","title","size","fileSize","newPicture","dangerouslyUseHTMLString","targetList","overturn","handlePictureDragEnter","handlePictureDragOver","handlePictureDrop","seq","handleClick","handleMouseDown","handleTrackPicDragStart","handleTrackPicDragging","pictureWidth","resize","holder","handleTrackResize","range","handleResize","handleResizeEnd","isSelected","selectedIndex","className","realE","isNeedTab","textList","handleTextIconAdd","fontWhirl","handleTextDragStart","handleTextDragging","handleTextDragEnd","typeIndex","handleFontFamilyChange","handleFontSizeChange","handleFontColorClear","handleFontColorChange","getIsActive","overIndex","handleFontStyleChange","typeList","fontStyleList","isTextLoading","fontFileList","toFixed","tempNumber","styleName","handleTextAlign","handleBooleanStyle","handleTextDragEnter","handleTextDragOver","handleTextDrop","handleTrackTextDragging","visibility","isShowPopover","activeIcon","ulXMove","ulTop","handleDurationChange","typeId","handleTypeSelect","zoomTime","handlePopoverShow","activeIconIndex","isInitTransition","maxDuration","playbackRate","videoDuration","originStartTime","handleUlPosition","transitionName","handleIconColor","ulWidth","scrollWidth","iconTop","ulTarget","iconTarget","getTransitionList","arr","rlsId","position","beforeTime","durationOne","afterTime","durationTwo","tempItem","tempList","initTransition","clickMonitor","flag","scrollMonitor","addEventListener","removeEventListener","TimeAxis","Pointer","SubmitClip","TempMessage","MultiTracksUl","MaterialTab","MaterialTrack","PictureTab","PictureTrack","TextTab","TextTrack","TransitionTrack","isClipLoading","tempTabName","videoTarget","realLeft","isInputting","titleHeight","canvasVideo2","tempTransitionList","isLoadingVideo","clipResource","playingIndex","paused","handleOnclipClose","dispatch","state","handleAlertClose","$notify","beginMediaClip","finishMediaClip","handleMediaDelete","nextMedia","last","targetName","positionXBegin","playingTarget","positionXEnd","pointerLeft","targetTrackIndex","iconAdd","textDrr","newMedia","clipOne","clipTwo","tempLeft","judgeChangeSrc","judgeChangeCurrentTime","judgeResult","judgePlayingChange","indexList","oldList","newList","realDuration","isplaying","initTrack","videoTimeUpdateMonitor","judgeTrackLast","wholeTime","deleteCode","keyDownMonitor","mouseDownMonitor","inputTarget","resizable","enabled","windowResizeMonitor","innerWidth","frameWidth","axisYScrollMonitor","totalHeight","$el","emptyIcon","clipResourceIcons","OnlineClip","Vue","use","Vuex","lastestDownloadList","defaultTextHeight","defaultDrrHeight","tracksTime","dataURL","materialTabNewList","transitionTrackList","operatingTransition","playing","drr","operationName","operationIndex","operationNewIndex","dragIndex","dragImage","Image","isDragDrop","isConflic","dragPlayingName","x","y","originalElement","textEditIndex","isPictureActive","isTextActive","tabResizedTarget","isTrackResize","needPointerJudge","isNeed","getters","mutations","getTracksDration","updateValue","updateArrayAdd","updateArrayObjectAdd","updateArrayRevalue","updateArrayDelete","updateArrayObjectAttr","attr","updateObjectAttribute","updateTracksDuration","updatePointer","updatePlayingTarget","updateMateriaTime","one","operator","updateTransitionDuration","updateTransitionType","updateDrrResolution","block","resizableContainer","initProportion","initTransitionList","isTrackResizeInvert","isNeedPointerJudging","initDragImage","initTrackListContainer","nextParams","initTrackList","realList","wnh","zoom","realRange","clearSelected","clearPlaying","clearAll","clearDragData","trackBlockSelect","boxShadow","getBoundingClientRect","realObject","trackBlockResize","newWidth","nextToTarget","element","clientWidth","rangeLimit","realWidth","changeWidth","trackBlockResizeMove","trackBlockDelete","dragStart","dataTransfer","setData","setDragImage","positionRect","createElement","backgroundColor","innerText","body","appendChild","tabDragging","clientX","clientY","trackDragging","dragTrackEnter","dragTrackOver","draggingMove","trackPosition","realX","endX","targetOne","targetTwo","targetRange","lengthCompare","newTranslateX","canMove","indexOnBlock","rightOne","leftOne","rightTwo","leftTwo","drop","removeChild","getData","tabDragAdd","tempDragTarget","tabDragRealAdd","parmas","listSort","sort","nextItem","getList","clear","formatList","listIndex","listMove","moveLength","newBeginX","newEndX","nextBeginX","judgeConflicBlock","beginX","coverIndex","containIndex","tabDragEnd","trackDragEnd","trackDragRealEnd","trackDraw","paramsIndex","targetPicture","targetElement","background","trackAdd","trackDelete","trackCopy","addTarget","trackAfter","drrActive","drrDragStop","drrResizing","rect","heightRange","elmX","elmY","elmH","elmW","drrResizeStop","drrRotating","drrTextChange","drrElementData","rotateAngle","drrTabRotate","listTarget","drrTabBeforeResize","lastZoom","beforeWidth","beforeHeight","drrTabResize","drrTabOpacity","drrTabFlip","existWay","exist","drrTabFlipEnd","drrTabFontOperation","isNeedPx","styleValue","drrTabFontStyle","isOnly","getTransitionMaxDuration","indexOne","indexTwo","materialClip","maxDurationOne","maxDurationTwo","oneDuration","twoDuration","materialAdd","materialDelete","materialSort","transitionAdd","newTarget","actions","getWidthAndHeight","img","timer","setTrackDraw","setAllTrackDraw","setTrackBlockSelect","setNextTrackBlock","Store","ElementUI","config","productionTip","store","render","App","$mount"],"mappings":"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","file":"js/app.ad9d530e.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SubmitClip.vue?vue&type=style&index=1&id=3b6c71b9&lang=stylus&scoped=true&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PictureTab.vue?vue&type=style&index=0&id=b818d35c&lang=stylus&scoped=true&\"","module.exports = __webpack_public_path__ + \"media/sunsetGlow.4a030f24.mp4\";","module.exports = __webpack_public_path__ + \"img/snow.ad7436f8.jpg\";","module.exports = __webpack_public_path__ + \"img/line.a3194c1b.jpg\";","module.exports = __webpack_public_path__ + \"media/line.7080c3ba.webm\";","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Loading.vue?vue&type=style&index=0&id=ea5f889a&lang=stylus&scoped=true&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OnlineClip.vue?vue&type=style&index=1&id=8008c63e&lang=stylus&scoped=true&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransitionTrack.vue?vue&type=style&index=0&id=fe1b250c&lang=stylus&scoped=true&\"","module.exports = __webpack_public_path__ + \"img/material1004.e7886882.png\";","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SubmitClip.vue?vue&type=style&index=0&id=3b6c71b9&lang=stylus&scoped=true&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VideoControls.vue?vue&type=style&index=0&id=50911f8a&lang=stylus&scoped=true&\"","module.exports = __webpack_public_path__ + \"media/circle.e91e0343.webm\";","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MultiTracksUl.vue?vue&type=style&index=0&id=02bdaa5b&lang=stylus&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('OnlineClip')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.isClipLoading),expression:\"isClipLoading\"}],staticClass:\"online-clip\",attrs:{\"element-loading-text\":\"努力加载中...\",\"element-loading-background\":\"rgba(0, 0, 0, 0.8)\",\"element-loading-custom-class\":\"loading-style\",\"id\":\"onlineClip\"}},[_c('el-row',{staticClass:\"main-area\"},[_c('el-col',{ref:\"tabsCol\",staticClass:\"material-cols\",attrs:{\"span\":15}},[_c('el-row',{staticClass:\"material-area\"},[_c('el-tabs',{staticClass:\"online-clip-tabs\",model:{value:(_vm.onlineTab),callback:function ($$v) {_vm.onlineTab=$$v},expression:\"onlineTab\"}},[_c('el-tab-pane',{attrs:{\"name\":\"materialTab\"}},[_c('span',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_c('i',{staticClass:\"el-icon-folder-opened\"}),_vm._v(\" 已选素材\")]),(_vm.onlineTab === 'materialTab')?_c('MaterialTab',{ref:\"materialTab\",on:{\"update-date\":_vm.updateData,\"video-data\":_vm.handleVideoDataSet,\"video-cover\":_vm.drawCanvasVideoCover,\"selected-click\":_vm.handleSelectedClick,\"show-material-dialog\":_vm.handleShowMaterialDialog}}):_vm._e()],1),_c('el-tab-pane',{attrs:{\"name\":\"pictureTab\"}},[_c('span',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_c('i',{staticClass:\"el-icon-picture-outline\"}),_vm._v(\" 贴图\")]),(_vm.onlineTab === 'pictureTab')?_c('PictureTab',{ref:\"pictureTab\",attrs:{\"tab-name\":_vm.onlineTab},on:{\"icon-add\":_vm.handleIconAdd}}):_vm._e()],1),_c('el-tab-pane',{attrs:{\"name\":\"textTab\"}},[_c('span',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_c('span',{staticClass:\"diy-icon-t\"},[_vm._v(\"T\")]),_vm._v(\" 字幕 \")]),(_vm.onlineTab === 'textTab')?_c('TextTab',{attrs:{\"is-edit\":_vm.isTextEdit},on:{\"icon-add\":_vm.handleIconAdd,\"stop-edit\":_vm.handleCancelEdit}}):_vm._e()],1),_c('el-tab-pane',[_c('span',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_c('i',{staticClass:\"el-icon-guide\"}),_vm._v(\" 转场\")]),_c('TempMessage')],1),_c('el-tab-pane',[_c('span',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_c('i',{staticClass:\"el-icon-service\"}),_vm._v(\" 配乐\")]),_c('TempMessage')],1),_c('el-tab-pane',[_c('span',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_c('i',{staticClass:\"el-icon-magic-stick\"}),_vm._v(\" 滤镜\")]),_c('TempMessage')],1)],1)],1)],1),_c('el-col',{ref:\"videoCols\",staticClass:\"video-cols\",attrs:{\"span\":9}},[_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.isLoadingVideo),expression:\"isLoadingVideo\"}],ref:\"videoFrame\",staticClass:\"video-frame\"},[_c('video',{ref:\"video\",staticStyle:{\"display\":\"none\"},attrs:{\"id\":\"video\",\"preload\":\"auto\",\"crossOrigin\":\"*\",\"src\":_vm.videoSrc}}),_c('canvas',{ref:\"canvasVideo\",staticClass:\"canvas-video\",attrs:{\"id\":\"canvasVideo\"}}),_vm._l((_vm.reversePictureList),function(item,index){return _c('PictureDrr',{key:'pictureDrr' + _vm.getReverseIndex(index, _vm.reversePictureList.length),ref:\"pictureDrr\",refInFor:true,attrs:{\"track-index\":_vm.getReverseIndex(index, _vm.reversePictureList.length),\"track-list\":item,\"key-code\":_vm.keyCode,\"video-play\":_vm.videoPlay,\"is-text-edit\":_vm.isTextEdit},on:{\"video-pause\":_vm.handleVideoPause,\"stop-edit\":_vm.handleCancelEdit}})}),_vm._l((_vm.reverseTextList),function(item,index){return _c('TextDrr',{key:'textDrr' + _vm.getReverseIndex(index, _vm.reverseTextList.length),ref:\"textDrr\",refInFor:true,attrs:{\"id\":'textDrr' + _vm.getReverseIndex(index, _vm.reverseTextList.length),\"track-index\":_vm.getReverseIndex(index, _vm.reverseTextList.length),\"track-list\":item,\"key-code\":_vm.keyCode,\"video-play\":_vm.videoPlay,\"is-text-edit\":_vm.isTextEdit},on:{\"text-edit\":_vm.handleTextEdidState,\"video-pause\":_vm.handleVideoPause,\"stop-edit\":_vm.handleCancelEdit}})})],2),_c('div',{staticClass:\"video-controls\"},[_c('div',{staticClass:\"controls-icons\"},[(!_vm.videoPlay)?_c('el-image',{staticClass:\"controls-play\",attrs:{\"src\":_vm.controlsIcons.play},on:{\"click\":_vm.handleVideoPlay}}):_vm._e(),(_vm.videoPlay)?_c('el-image',{staticClass:\"controls-pause\",attrs:{\"src\":_vm.controlsIcons.pause},on:{\"click\":_vm.handleVideoPause}}):_vm._e()],1),_c('div',{staticClass:\"controls-duration\"},[_vm._v(\" \"+_vm._s(_vm.trackCurrentTime)+\" / \"+_vm._s(_vm.trackDurationString)+\" \")])])])],1),_c('el-row',{staticClass:\"operations-area\"},[_c('div',{staticClass:\"operations-convenient\"},[_c('i',{class:{\n          'el-icon-delete': true,\n          'icon-ban': !_vm.selected.type\n        },on:{\"click\":function($event){return _vm.keyUpMonitor({ keyCode: 46 })}}}),_c('i',{class:{\n          'el-icon-scissors': true,\n          'icon-ban': _vm.materialTrackList.length === 0 || _vm.banClip || _vm.videoPlay\n        },on:{\"click\":_vm.handleMediaClip}})]),_c('div',{staticClass:\"operations-save\"},[_c('el-button',{staticClass:\"save-my-works\",on:{\"click\":function($event){return _vm.handleSaveOrSubmit(0)}}},[_vm._v(\"保存至我的作品\")]),_c('el-button',{staticClass:\"save-clip\",on:{\"click\":function($event){return _vm.handleSaveOrSubmit(1)}}},[_vm._v(\"提交剪辑\")])],1)]),_c('el-row',{staticClass:\"axis-area\"},[_c('el-col',{ref:\"clipResourceIcons\",staticClass:\"clip-resource-icons\",attrs:{\"span\":1}},[_c('div',{ref:\"emptyIcon\",staticClass:\"empty-icon\"}),_vm._l((_vm.textTrackList),function(item,index){return _c('div',{key:index,on:{\"mouseover\":function($event){return _vm.handleIconHover(index, '文字', 'text')},\"mouseout\":function($event){_vm.isShowUl = false}}},[_c('span',{staticClass:\"track-type-icon\",style:({\n            color: _vm.showUlIndex === index && _vm.ulName === 'text' && _vm.isShowUl ? '#26CB51' : '#606266'\n          })},[_vm._v(\" T \")])])}),_c('i',{staticClass:\"el-icon-picture-outline track-type-icon\"}),_c('i',{staticClass:\"el-icon-video-camera track-type-icon\"}),_c('i',{staticClass:\"el-icon-service track-type-icon\"}),_c('MultiTracksUl',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isShowUl),expression:\"isShowUl\"}],staticClass:\"multi-tracks-ul\",style:({\n          top: _vm.getUlTop() + 15 + 'px',\n          left: _vm.iconWidth + 'px'\n        }),attrs:{\"index\":_vm.showUlIndex,\"icon-width\":_vm.iconWidth,\"text\":_vm.ulText,\"name\":_vm.ulName},nativeOn:{\"mouseover\":function($event){_vm.isShowUl = true},\"mouseout\":function($event){_vm.isShowUl = false}}})],2),_c('el-col',{ref:\"clipResource\",staticClass:\"clip-resource\",attrs:{\"span\":23}},[_c('Pointer',{ref:\"pointer\",staticClass:\"pointer-style\",attrs:{\"video-play\":_vm.videoPlay,\"width-range\":_vm.trackDuration * _vm.trackScale},on:{\"pause-video\":_vm.handleVideoPause,\"set-pointer-track\":_vm.setPointerAndTrack,\"current-material\":_vm.judgeVideoSource,\"current-picture\":_vm.judgePictureSource,\"current-text\":_vm.judgeTextSource,\"current-transition\":_vm.judgeTransitionSource}}),_c('el-row',{ref:\"timeAxis\",staticClass:\"time-axis\"},[_c('TimeAxis',{attrs:{\"material-duration\":_vm.trackDuration},on:{\"move-by-axis\":_vm.changePointerStart}})],1),_vm._l((_vm.textTrackList),function(item,index){return _c('el-row',{key:'textTrack' + index,style:({ width: _vm.timeAxisDuration * _vm.trackScale + 500 > 6000 ? _vm.timeAxisDuration * _vm.trackScale + 500 + 'px' : '6000px' })},[_c('TextTrack',{ref:\"textTrack\",refInFor:true,attrs:{\"track-index\":index,\"track-list\":item},on:{\"click-text\":_vm.handleTrackClick,\"mousedown-text\":_vm.handleTrackMouseDown}})],1)}),_vm._l((_vm.pictureTrackList),function(item,index){return _c('el-row',{key:'pictureTrack' + index,style:({ width: _vm.timeAxisDuration * _vm.trackScale + 500 > 6000 ? _vm.timeAxisDuration * _vm.trackScale + 500 + 'px' : '6000px' })},[_c('PictureTrack',{ref:\"pictureTrack\",refInFor:true,attrs:{\"track-list\":item},on:{\"click-picture\":_vm.handleTrackClick,\"mousedown-picture\":_vm.handleTrackMouseDown}})],1)}),_c('el-row',{staticClass:\"video-track\",style:({ width: _vm.timeAxisDuration * _vm.trackScale + 500 > 6000 ? _vm.timeAxisDuration * _vm.trackScale + 500 + 'px' : '6000px' }),attrs:{\"id\":\"video-track\"}},[_c('MaterialTrack',{attrs:{\"video-play\":_vm.videoPlay},on:{\"selected-click\":_vm.handleSelectedClick,\"video-pause\":_vm.handleVideoPause}}),_c('TransitionTrack',{ref:\"transitionTrack\",attrs:{\"is-save-or-submit\":_vm.isSaveOrSubmit}})],1),_c('el-row',{style:({ width: _vm.timeAxisDuration * _vm.trackScale + 500 > 6000 ? _vm.timeAxisDuration * _vm.trackScale + 500 + 'px' : '6000px' })})],2)],1),(_vm.isShowMaterialAdd)?_c('el-dialog',{staticClass:\"add-material-dialog\",attrs:{\"title\":\"添加素材\",\"width\":\"95%\",\"visible\":_vm.isShowMaterialAdd,\"append-to-body\":true,\"modal-append-to-body\":true},on:{\"update:visible\":function($event){_vm.isShowMaterialAdd=$event}}},[_c('TempMessage')],1):_vm._e(),(_vm.isSaveOrSubmit)?_c('SubmitClip',{attrs:{\"is-save-or-submit\":_vm.isSaveOrSubmit,\"save-or-submit\":_vm.saveOrSubmit,\"form-info\":_vm.videoInfo,\"video-frame\":_vm.videoFrame},on:{\"submit-close\":_vm.handleSubmitClose,\"all-close\":_vm.handleAllClose}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"canvas-container\"},[_c('canvas',{directives:[{name:\"drag\",rawName:\"v-drag\"}],ref:\"timeAxis\",staticClass:\"time-canvas\",style:({ width: _vm.axisWidth + 'px' })})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// 时长格式化\r\nexport function formatDuration(duration) {\r\n  const hour = Math.floor(duration / 3600)\r\n  const minute = Math.floor(duration % 3600 / 60)\r\n  const second = Math.floor(duration % 60)\r\n  const stringHour = hour < 10 ? '0' + hour : hour\r\n  const stringMinute = minute < 10 ? '0' + minute : minute\r\n  const stringSecond = second < 10 ? '0' + second : second\r\n  return stringHour + ':' + stringMinute + ':' + stringSecond\r\n}\r\n// 颜色值格式转换：RGB -> HEV\r\nexport function formatColor(color) {\r\n  var colorArr = color.replace(/(?:\\(|\\)|rgb|RGB)*/g, '').split(',')\r\n  var strHex = '#'\r\n  var decimal = Number(colorArr[0]) * 65536 + Number(colorArr[1]) * 256 + Number(colorArr[2])\r\n  var hex = decimal.toString(16)\r\n  if (hex.length < 6) {\r\n    hex = '0' + hex\r\n  }\r\n  strHex += hex\r\n  // 处理#000000显示成#00的情况\r\n  if (strHex.length < 6) {\r\n    strHex = '#000000'\r\n  }\r\n  return strHex.toUpperCase()\r\n}\r\n","var render, staticRenderFns\nimport script from \"./various.vue?vue&type=script&lang=js&\"\nexport * from \"./various.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"canvas-container\">\r\n    <canvas\r\n      v-drag\r\n      ref=\"timeAxis\"\r\n      class=\"time-canvas\"\r\n      :style=\"{ width: axisWidth + 'px' }\"\r\n    ></canvas>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { formatDuration } from '@/components/onlineClip/global/functions'\r\nimport { mapState } from 'vuex'\r\nexport default {\r\n  props: {\r\n    materialDuration: {\r\n      type: Number,\r\n      default: 0\r\n    }\r\n  },\r\n  directives: {\r\n    drag: function (e, bingding, vnode) {\r\n      let canvas = e\r\n      canvas.onmousedown = (e) => {\r\n        if (vnode.context.duration === 0) {\r\n          return false\r\n        }\r\n        const distanceX = e.clientX - e.offsetX\r\n        vnode.context.changePointer(e.offsetX)\r\n        document.onmousemove = (e) => {\r\n          // 清除浏览器默认行为\r\n          e.preventDefault()\r\n          const moveX = e.clientX - distanceX\r\n          vnode.context.changePointer(moveX)\r\n        }\r\n        document.onmouseup = () => {\r\n          document.onmousemove = null\r\n          document.onmouseup = null\r\n        }\r\n      }\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      axis: undefined,\r\n      axisCtx: undefined,\r\n      axisWidth: 6000,\r\n      height: 25,\r\n      that: this\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState({\r\n      timeAxisDuration: state => state.timeAxisDuration,\r\n      trackScale: state => state.trackScale\r\n    })\r\n  },\r\n  watch: {\r\n    timeAxisDuration: {\r\n      handler: function () {\r\n        this.getWidth()\r\n      },\r\n      deep: true\r\n    }\r\n  },\r\n  methods: {\r\n    getWidth () {\r\n      const width = this.timeAxisDuration * this.trackScale + 500\r\n      if (width > 6000) {\r\n        this.axisWidth = width\r\n      } else {\r\n        this.axisWidth = 6000\r\n      }\r\n      this.drawAxis()\r\n    },\r\n    drawAxis () {\r\n      const width = this.trackScale\r\n      const top = this.height / 2\r\n      const height = this.height\r\n      const duration = this.axisWidth\r\n      const scale = this.trackScale\r\n      let canvas = this.axis\r\n      let ctx = this.axisCtx\r\n      let time = 1\r\n\r\n      canvas.width = this.axisWidth\r\n      canvas.height = this.height\r\n      ctx.strokeStyle = '#999'\r\n      ctx.fillStyle = '#999'\r\n      ctx.font = '12px Source Han Sans CN'\r\n      ctx.lineWidth = 0.2\r\n      ctx.beginPath()\r\n      ctx.moveTo(0, top)\r\n      ctx.lineTo(0, height)\r\n      ctx.fillText('00:00:00', -18, 10)\r\n      ctx.closePath()\r\n      ctx.stroke()\r\n      ctx.translate(0.5, 0.5)\r\n      while (duration >= time) {\r\n        ctx.beginPath()\r\n        if (time % scale === 0) {\r\n          // 长线和时间; +1是为了让指针、刻度以及trackCurrentTime同步\r\n          ctx.moveTo(time * width + 1, top)\r\n          ctx.lineTo(time * width + 1, height)\r\n          let text = formatDuration(time)\r\n          ctx.fillText(text, time * width - 23, 10)\r\n        } else {\r\n          // 短线\r\n          ctx.moveTo(time * width + 1, height * 3 / 4)\r\n          ctx.lineTo(time * width + 1, height)\r\n        }\r\n        ctx.closePath()\r\n        ctx.stroke()\r\n        time++\r\n      }\r\n    },\r\n    changePointer (left) {\r\n      let duration = left / this.trackScale\r\n      if (duration < 0) duration = 0\r\n      if (duration > this.materialDuration) duration = this.materialDuration\r\n      this.$emit('move-by-axis', duration)\r\n    }\r\n  },\r\n  mounted () {\r\n    this.axis = this.$refs.timeAxis\r\n    this.axisCtx = this.$refs.timeAxis.getContext('2d')\r\n    this.drawAxis()\r\n  }\r\n}\r\n</script>\r\n<style lang=\"stylus\" scoped>\r\n.canvas-container\r\n  width 100%\r\n  height 30px\r\n.time-canvas\r\n  // position fixed\r\n  // z-index 2\r\n  height 25px\r\n  border-bottom 1px solid #888\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TimeAxis.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TimeAxis.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TimeAxis.vue?vue&type=template&id=5c9943b6&scoped=true&\"\nimport script from \"./TimeAxis.vue?vue&type=script&lang=js&\"\nexport * from \"./TimeAxis.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TimeAxis.vue?vue&type=style&index=0&id=5c9943b6&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5c9943b6\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{directives:[{name:\"drag\",rawName:\"v-drag\"}],staticClass:\"pointer\"},[_vm._m(0),_c('div',{staticClass:\"line\",style:({\n        top: _vm.scrollTop + 'px',\n        zIndex: _vm.isDragging ? 0 : 1\n      })})])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"head\"},[_c('i',{staticClass:\"iconfont icon-biaoqian3\"})])}]\n\nexport { render, staticRenderFns }","<script>\r\nconst defaultPicWidth = 100\r\nconst defaultPicHeight = 30\r\nconst trackScale = 10\r\nlet dragTarget = {}\r\nlet dragTranslateX = null\r\nlet dragWidth = null\r\nlet isDropZone = false\r\nlet isDragFromTab = false\r\nlet pictureList = []\r\nlet mouseElement = {}\r\nlet picturePosition = {}\r\nlet playingPicture = {}\r\nlet playingPictureIndex = null\r\nlet direction = null\r\nlet iconWidth = null\r\nlet transitionList = []\r\nexport default {\r\n  defaultPicWidth,\r\n  defaultPicHeight,\r\n  trackScale,\r\n  dragTarget,\r\n  dragTranslateX,\r\n  dragWidth,\r\n  isDropZone,\r\n  isDragFromTab,\r\n  pictureList,\r\n  mouseElement,\r\n  picturePosition,\r\n  playingPicture,\r\n  playingPictureIndex,\r\n  direction,\r\n  iconWidth,\r\n  transitionList\r\n}\r\n</script>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./various.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./various.vue?vue&type=script&lang=js&\"","<template>\r\n  <div>\r\n    <div v-drag class=\"pointer\">\r\n      <div class=\"head\">\r\n        <i class=\"iconfont icon-biaoqian3\"></i>\r\n      </div>\r\n      <div\r\n        class=\"line\"\r\n        :style=\"{\r\n          top: scrollTop + 'px',\r\n          zIndex: isDragging ? 0 : 1\r\n        }\"\r\n      ></div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport Various from './global/various'\r\nimport { mapState } from 'vuex'\r\nexport default {\r\n  props: {\r\n    videoPlay: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    widthRange: {\r\n      type: Number,\r\n      default: 0\r\n    },\r\n    scrollTop: {\r\n      type: Number,\r\n      default: 0\r\n    }\r\n  },\r\n  directives: {\r\n    drag: function (e, bingding, vnode) {\r\n      let pointer = e\r\n      pointer.onmousedown = e => {\r\n        const widthRange = vnode.context.widthRange\r\n        // 鼠标相对元素位置\r\n        const distanceX = e.clientX - pointer.offsetLeft\r\n        document.onmousemove = e => {\r\n          // 清除浏览器默认行为\r\n          e.preventDefault()\r\n\r\n          const videoPlay = vnode.context.videoPlay\r\n          // 判断指针是否处于可移动状态\r\n          if (!widthRange) {\r\n            return false\r\n          }\r\n          if (videoPlay) {\r\n            vnode.context.that.$emit('pause-video')\r\n          }\r\n\r\n          // 计算指针新位移\r\n          let left = e.clientX - distanceX\r\n          if (left < 0) left = 0\r\n          if (left > widthRange) left = widthRange - 1\r\n          pointer.style.left = left + 'px'\r\n          // 获得playing-\r\n          vnode.context.judgePlayingTarget()\r\n          // 传递指针新位移\r\n          const pointerDuration = pointer.offsetLeft / vnode.context.trackScale\r\n          vnode.context.that.$emit('set-pointer-track', pointer.offsetLeft, pointerDuration)\r\n        }\r\n        document.onmouseup = () => {\r\n          // 清除监听 - 防止松开鼠标后仍移动\r\n          document.onmousemove = null\r\n          document.onmouseup = null\r\n          if (!widthRange) {\r\n            return false\r\n          }\r\n          // 获得playing-\r\n          vnode.context.judgePlayingTarget()\r\n          // 传递指针新位移\r\n          const pointerDuration = pointer.offsetLeft / vnode.context.trackScale\r\n          vnode.context.that.$emit('set-pointer-track', pointer.offsetLeft, pointerDuration)\r\n        }\r\n      }\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      that: this,\r\n      pointer: undefined,\r\n      transitionList: Various.transitionList,\r\n      tracks: [\r\n        {\r\n          name: 'material',\r\n          list: 'materialTrackList'\r\n        },\r\n        {\r\n          name: 'picture',\r\n          list: 'pictureTrackList'\r\n        },\r\n        {\r\n          name: 'text',\r\n          list: 'textTrackList'\r\n        },\r\n        {\r\n          name: 'transition',\r\n          list: 'transitionList'\r\n        }\r\n      ],\r\n      xLeft: 0\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState({\r\n      materialTrackList: state => state.materialTrackList,\r\n      pictureTrackList: state => state.pictureTrackList,\r\n      textTrackList: state => state.textTrackList,\r\n      needPointerJudge: state => state.needPointerJudge,\r\n      trackScale: state => state.trackScale,\r\n      isDragging: state => state.isDragging\r\n    })\r\n  },\r\n  watch: {\r\n    'needPointerJudge.isNeed': function (val) {\r\n      // 监听 - 是否有需要读取的playing-\r\n      if (val) {\r\n        const list = this.needPointerJudge.target\r\n        const nameIndex = list.indexOf('TrackList')\r\n        const name = list.slice(0, nameIndex)\r\n        const track = {\r\n          list: list,\r\n          name: name\r\n        }\r\n        this.judgePlaying(track)\r\n        // 信息读取完毕 重置needPointerJudge内数据\r\n        this.$store.commit('isNeedPointerJudging')\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    handlePointerYStatic (top) {\r\n      // 指针随滚动条滚动移动 保持相对静止\r\n      this.pointer.style.top = top + 11 + 'px'\r\n    },\r\n    moveWhenVideoPlay (duration) {\r\n      // 通过duration 更新指针位移\r\n      const left = duration * this.trackScale\r\n      this.pointer.style.left = left + 'px'\r\n    },\r\n    judgePlayingTarget () {\r\n      // 获取所有的playing-\r\n      this.tracks.forEach(item => {\r\n        this.judgePlaying(item)\r\n      })\r\n    },\r\n    judgePlaying (track) {\r\n      // 获取playing-\r\n      const list = track.list\r\n      const name = track.name\r\n      if (list === 'transitionList') {\r\n        this[list] = Various.transitionList\r\n      }\r\n      let index = null\r\n      const length = this[list].length\r\n      if (!length) {\r\n        return false\r\n      }\r\n\r\n      if (list === 'materialTrackList' || list === 'transitionList') {\r\n        // 兼容未多轨道化的视频轨道\r\n        index = this[list].findIndex(item => {\r\n          const pointerDuration = this.pointer.offsetLeft / this.trackScale\r\n          return item.trackStartTime <= pointerDuration && item.trackEndTime > pointerDuration\r\n        })\r\n        const target = index === -1 ? undefined : this[list][index]\r\n        this.$emit('current-' + name, target, index)\r\n        return true\r\n      }\r\n\r\n      // 记录同类型多轨道的playing-\r\n      let tempTargetList = []\r\n      let tempIndexIndex = []\r\n      for (let i = 0; i < length; i++) {\r\n        index = this[list][i].findIndex(item => {\r\n          const pointerDuration = this.pointer.offsetLeft / this.trackScale\r\n          return item.trackStartTime <= pointerDuration && item.trackEndTime > pointerDuration\r\n        })\r\n        const target = index === -1 ? undefined : this[list][i][index]\r\n        tempTargetList.push(target)\r\n        tempIndexIndex.push(index)\r\n      }\r\n      this.$emit('current-' + name, tempTargetList, tempIndexIndex)\r\n    },\r\n    changePointerLeft (left) {\r\n      // 通过left 更新指针位移\r\n      if (left < 1) left = 1\r\n      if (left > this.widthRange) left = this.widthRange\r\n      // 减去指针宽度\r\n      this.pointer.style.left = left - 1 + 'px'\r\n    }\r\n  },\r\n  mounted () {\r\n    this.pointer = document.querySelector('.pointer')\r\n  }\r\n}\r\n</script>\r\n<style lang=\"stylus\" scoped>\r\npointer-width = 12px\r\n.pointer\r\n  position absolute\r\n  top 11px\r\n.head\r\n  position absolute\r\n  top -5px\r\n  left -9px\r\n  z-index 3\r\n.icon-biaoqian3\r\n  font-size 20px\r\n  color #BBC4BE\r\n.line\r\n  position absolute\r\n  top 14px\r\n  left 1px\r\n  width 0px\r\n  height 220px\r\n  border-left 1px solid #BBC4BE\r\n  z-index 1\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Pointer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Pointer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Pointer.vue?vue&type=template&id=4b2f2475&scoped=true&\"\nimport script from \"./Pointer.vue?vue&type=script&lang=js&\"\nexport * from \"./Pointer.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Pointer.vue?vue&type=style&index=0&id=4b2f2475&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4b2f2475\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.isLoading),expression:\"isLoading\"}],staticClass:\"submit-dialog\"},[_c('el-dialog',{attrs:{\"width\":\"1200px\",\"append-to-body\":\"\",\"title\":_vm.dialogTitle,\"close-on-click-modal\":false,\"visible\":_vm.isSaveOrSubmit,\"before-close\":_vm.handleDialogClose},on:{\"update:visible\":function($event){_vm.isSaveOrSubmit=$event}}},[_c('el-row',{attrs:{\"gutter\":10}},[_c('el-col',{staticClass:\"submit-video-container\",attrs:{\"span\":14}},[_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.isVideoLoading),expression:\"isVideoLoading\"}],staticClass:\"video-frame\",attrs:{\"element-loading-background\":\"rgba(0, 0, 0, 0.5)\"}},[_c('video',{ref:\"submitVideo\",staticClass:\"submit-video\",staticStyle:{\"display\":\"none\"},attrs:{\"preload\":\"auto\",\"crossOrigin\":\"*\",\"src\":_vm.videoSrc},on:{\"timeupdate\":_vm.handleVideoPlaying,\"play\":_vm.drawCanvasVideo,\"pause\":_vm.stopCanvasVideo,\"seeking\":function($event){_vm.isVideoLoading=true},\"seeked\":_vm.drawCanvasCover}}),_c('canvas',{ref:\"canvasVideo\",staticClass:\"canvas-video\",attrs:{\"id\":\"canvasVideo\"}})]),_vm._l((_vm.reversePictureList),function(item,index){return _c('PictureDrr',{key:'pictureDrr' + _vm.getReverseIndex(index, _vm.reversePictureList.length),ref:\"pictureDrr\",refInFor:true,staticClass:\"resizable-container\",attrs:{\"track-index\":_vm.getReverseIndex(index, _vm.reversePictureList.length),\"track-list\":item,\"is-submit\":true,\"scale\":{\n            width: _vm.widthScale,\n            height: _vm.heightScale\n          },\"submit-playing\":_vm.playingPicture,\"submit-playing-index\":_vm.playingPictureIndex}})}),_vm._l((_vm.reverseTextList),function(item,index){return _c('TextDrr',{key:'textDrr' + _vm.getReverseIndex(index, _vm.reverseTextList.length),ref:\"textDrr\",refInFor:true,staticClass:\"resizable-container\",attrs:{\"id\":'textDrr' + _vm.getReverseIndex(index, _vm.reverseTextList.length),\"track-index\":index,\"track-list\":item,\"is-submit\":true,\"scale\":{\n            width: _vm.widthScale,\n            height: _vm.heightScale\n          },\"submit-playing\":_vm.playingText,\"submit-playing-index\":_vm.playingTextIndex}})}),_c('VideoControls',{attrs:{\"video-play\":_vm.videoPlay,\"track-duration\":_vm.trackDuration,\"track-current-time\":_vm.trackCurrentTime},on:{\"video-play\":_vm.handleVideoPlay,\"video-pause\":_vm.handleVideoPause,\"slider-change\":_vm.handleSliderChange}})],2),_c('el-col',{attrs:{\"span\":10}},[_c('el-form',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.isLoadingSelect),expression:\"isLoadingSelect\"}],ref:\"videoInfo\",attrs:{\"model\":_vm.videoInfo,\"rules\":_vm.saveOrSubmit === 1 ? _vm.submitRules : _vm.saveRules}},[_c('el-form-item',{staticClass:\"input-inner works-title\",attrs:{\"label\":\"作品名称：\",\"prop\":\"videoTitle\"}},[_c('el-input',{model:{value:(_vm.videoInfo.videoTitle),callback:function ($$v) {_vm.$set(_vm.videoInfo, \"videoTitle\", $$v)},expression:\"videoInfo.videoTitle\"}})],1),_c('el-form-item',{attrs:{\"label\":\"业务分类：\",\"prop\":\"businessType\"}},[_c('el-select',{on:{\"change\":_vm.handleBusinessTypeChange},model:{value:(_vm.videoInfo.businessType),callback:function ($$v) {_vm.$set(_vm.videoInfo, \"businessType\", $$v)},expression:\"videoInfo.businessType\"}},_vm._l((_vm.businessTypeList),function(type){return _c('el-option',{key:type.tagEnName * 1,attrs:{\"label\":type.tagCnName,\"value\":type.tagEnName * 1}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"内容分类：\",\"prop\":\"categoryId\"}},[_c('el-select',{on:{\"change\":_vm.handleCategorySelelct},model:{value:(_vm.videoInfo.categoryId),callback:function ($$v) {_vm.$set(_vm.videoInfo, \"categoryId\", $$v)},expression:\"videoInfo.categoryId\"}},_vm._l((_vm.realCategoryTypeList),function(type){return _c('el-option',{key:type.tagEnName * 1,attrs:{\"label\":type.tagCnName,\"value\":type.tagEnName * 1}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"作品类型：\",\"prop\":\"productType\"}},[_c('el-select',{model:{value:(_vm.videoInfo.productType),callback:function ($$v) {_vm.$set(_vm.videoInfo, \"productType\", $$v)},expression:\"videoInfo.productType\"}},_vm._l((_vm.productTypeList),function(type){return _c('el-option',{key:type.id,attrs:{\"label\":type.label,\"value\":type.id}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"标签：\",\"prop\":\"tag\"}},[_c('el-button',{staticClass:\"auto-tag-button\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.getAdviceTag}},[_vm._v(\"自动标签\")]),_c('span',{staticClass:\"message\"},[_vm._v(\"系统智能标签获取\")]),_c('div',{staticClass:\"tags-container\"},_vm._l((_vm.videoInfo.tag),function(tag,index){return _c('span',{key:tag + index,staticClass:\"dialog-tag\"},[_vm._v(\" \"+_vm._s(tag)+\" \"),_c('i',{staticClass:\"el-icon-close\",on:{\"click\":function($event){return _vm.handleTagDelete(index)}}})])}),0),_c('el-input',{staticClass:\"input-inner tag-input\",attrs:{\"placeholder\":\"输入标签按回车确认\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.handleAddTag($event)}},model:{value:(_vm.addTagName),callback:function ($$v) {_vm.addTagName=$$v},expression:\"addTagName\"}})],1),_c('el-form-item',{attrs:{\"label\":\"封面：\"}},[_c('div',{staticClass:\"cover-source\"},[_c('span',{staticClass:\"cover-by-canvas\",on:{\"click\":_vm.getCoverByVideo}},[_c('i',{staticClass:\"el-icon-upload2\"}),_c('el-tooltip',{attrs:{\"placement\":\"top\",\"content\":\"拖动左侧进度条以获取指定封面图\"}},[_c('span',[_vm._v(\" 获取封面\")])])],1),_c('span',{staticClass:\"message\"},[_vm._v(\" 横图竖图同时获取\")])]),_c('el-form-item',{staticClass:\"pic-style\",attrs:{\"prop\":\"picH\"}},[_c('el-upload',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loadingPicH),expression:\"loadingPicH\"}],ref:\"picHUploader\",staticClass:\"avatar-uploader horizontal-cover-uploader\",attrs:{\"accept\":\"image/*\",\"list-type\":\"picture\",\"auto-upload\":\"\",\"multiple\":false,\"action\":_vm.mediaImageUploadUrl,\"on-change\":_vm.handleUploadChange,\"on-success\":function (value) { return _vm.handleUploadSuccess(0, value); },\"before-upload\":function (value) { return _vm.handleUploadBefore(0, value); }}},[(_vm.videoInfo.picH)?_c('el-image',{staticClass:\"horizontal-cover\",attrs:{\"src\":_vm.videoInfo.picH}}):_c('i',{staticClass:\"el-icon-plus horizontal-cover-icon\"})],1)],1),_c('el-form-item',{staticClass:\"pic-style picV-style\",attrs:{\"prop\":\"picV\"}},[_c('el-upload',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loadingPicV),expression:\"loadingPicV\"}],ref:\"picVUploader\",staticClass:\"avatar-uploader vertical-cover-uploader\",attrs:{\"accept\":\"image/*\",\"list-type\":\"picture\",\"name\":\"picV\",\"auto-upload\":\"\",\"multiple\":false,\"action\":_vm.mediaImageUploadUrl,\"on-change\":_vm.handleUploadChange,\"on-success\":function (value) { return _vm.handleUploadSuccess(1, value); },\"before-upload\":function (value) { return _vm.handleUploadBefore(1, value); }}},[(_vm.videoInfo.picV)?_c('el-image',{staticClass:\"vertical-cover\",attrs:{\"src\":_vm.videoInfo.picV}}):_c('i',{staticClass:\"el-icon-plus vertical-cover-icon\"})],1)],1),_c('div',{staticClass:\"cover-message\"},[_c('span',{staticClass:\"message\"},[_vm._v(\"标准尺寸 横图:750*422 竖图:266*366\")])])],1),_c('el-form-item',{attrs:{\"label\":\"输出设置：\",\"prop\":\"define\"}},[_c('el-radio-group',{model:{value:(_vm.videoInfo.define),callback:function ($$v) {_vm.$set(_vm.videoInfo, \"define\", $$v)},expression:\"videoInfo.define\"}},[_c('el-radio-button',{attrs:{\"label\":\"1080P\"}}),_c('el-radio-button',{attrs:{\"label\":\"720P\"}}),_c('el-radio-button',{attrs:{\"label\":\"480P\"}})],1)],1)],1),_c('div',{staticClass:\"submit-button-group\"},[_c('el-button',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loadingSave),expression:\"loadingSave\"}],attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleSubmitValid}},[_vm._v(_vm._s(_vm.buttonText))]),_c('el-button',{attrs:{\"type\":\"info\"},on:{\"click\":_vm.handleDialogClose}},[_vm._v(\"取消\")])],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',_vm._l((_vm.trackList),function(item,index){return _c('div',{key:item.id + '' + index,staticClass:\"resizable-container\"},[(_vm.handleShow(index))?_c('DraggableResizable',{ref:\"resizable\",refInFor:true,staticClass:\"resizable-style\",attrs:{\"class-name-handle\":\"resizable-handle\",\"w\":_vm.isSubmit ? item.width * _vm.scale.width : item.width,\"h\":_vm.isSubmit ? item.height * _vm.scale.height : item.height,\"angle\":item.whirl,\"x\":_vm.isSubmit ? item.nowXAxis * _vm.scale.width : item.nowXAxis,\"y\":_vm.isSubmit ? item.nowYAxis * _vm.scale.height : item.nowYAxis,\"minw\":1,\"minh\":1,\"handles\":_vm.keyCode === 16 ? ['nw', 'ne', 'sw', 'se'] : ['n', 's', 'e', 'w', 'nw', 'ne', 'sw', 'se'],\"active\":!_vm.isSubmit && _vm.activeName === 'picture' && _vm.selected.trackIndex === _vm.trackIndex && _vm.selected.index === index,\"rotatable\":!_vm.isSubmit,\"draggable\":!_vm.isSubmit,\"resizable\":!_vm.isSubmit},on:{\"rotating\":_vm.handleRotating,\"resizing\":_vm.handleResizing,\"dragging\":_vm.handleDragging,\"activated\":function($event){return _vm.handleActive(index)},\"dragstop\":_vm.handleDragStop,\"resizestop\":_vm.handleResizeStop}},[(item.fileType === 'video')?_c('video',{ref:\"drrTarget\",refInFor:true,staticClass:\"picture-video\",attrs:{\"crossOrigin\":\"*\",\"muted\":\"\",\"src\":item.fileUrl},domProps:{\"muted\":true},on:{\"mousedown\":function($event){return _vm.handleResizeClick(index)}}}):_vm._e(),(item.fileType !== 'video')?_c('el-image',{ref:\"drrTarget\",refInFor:true,staticClass:\"picture-image\",attrs:{\"src\":item.fileUrl},on:{\"mousedown\":function($event){return _vm.handleResizeClick(index)}}}):_vm._e()],1):_vm._e()],1)}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n<!-- drr：drag resize rotate -->\r\n  <div>\r\n    <div\r\n      v-for=\"(item, index) in trackList\"\r\n      :key=\"item.id + '' + index\"\r\n      class=\"resizable-container\"\r\n    >\r\n      <DraggableResizable\r\n        v-if=\"handleShow(index)\"\r\n        class=\"resizable-style\"\r\n        class-name-handle=\"resizable-handle\"\r\n        ref=\"resizable\"\r\n        :w=\"isSubmit ? item.width * scale.width : item.width\"\r\n        :h=\"isSubmit ? item.height * scale.height : item.height\"\r\n        :angle=\"item.whirl\"\r\n        :x=\"isSubmit ? item.nowXAxis * scale.width : item.nowXAxis\"\r\n        :y=\"isSubmit ? item.nowYAxis * scale.height : item.nowYAxis\"\r\n        :minw=\"1\"\r\n        :minh=\"1\"\r\n        :handles=\"keyCode === 16 ? ['nw', 'ne', 'sw', 'se'] : ['n', 's', 'e', 'w', 'nw', 'ne', 'sw', 'se']\"\r\n        :active=\"!isSubmit && activeName === 'picture' && selected.trackIndex === trackIndex && selected.index === index\"\r\n        :rotatable=\"!isSubmit\"\r\n        :draggable=\"!isSubmit\"\r\n        :resizable=\"!isSubmit\"\r\n        @rotating=\"handleRotating\"\r\n        @resizing=\"handleResizing\"\r\n        @dragging=\"handleDragging\"\r\n        @activated=\"handleActive(index)\"\r\n        @dragstop=\"handleDragStop\"\r\n        @resizestop=\"handleResizeStop\"\r\n      >\r\n        <video\r\n          v-if=\"item.fileType === 'video'\"\r\n          ref=\"drrTarget\"\r\n          class=\"picture-video\"\r\n          crossOrigin=\"*\"\r\n          muted\r\n          :src=\"item.fileUrl\"\r\n          @mousedown=\"handleResizeClick(index)\"\r\n        ></video>\r\n        <el-image\r\n          v-if=\"item.fileType !== 'video'\"\r\n          ref=\"drrTarget\"\r\n          class=\"picture-image\"\r\n          :src=\"item.fileUrl\"\r\n          @mousedown=\"handleResizeClick(index)\"\r\n        ></el-image>\r\n      </DraggableResizable>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport DraggableResizable from 'vue-drr'\r\nimport { mapState } from 'vuex'\r\nexport default {\r\n  components: {\r\n    DraggableResizable\r\n  },\r\n  props: {\r\n    keyCode: {\r\n      type: Number,\r\n      default: null\r\n    },\r\n    trackIndex: {\r\n      type: Number,\r\n      default: 0\r\n    },\r\n    videoPlay: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    isTextEdit: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    isSubmit: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    trackList: {\r\n      type: Array,\r\n      default: function () {}\r\n    },\r\n    submitPlaying: {\r\n      type: Array,\r\n      default: function () {}\r\n    },\r\n    submitPlayingIndex: {\r\n      type: Array,\r\n      default: function () {}\r\n    },\r\n    scale: { // 保存/提交剪辑页面播放区域与在线剪辑播放区域的比例\r\n      type: Object,\r\n      default: function () {}\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState({\r\n      playingPicture: state => state.playingPicture,\r\n      playingPictureIndex: state => state.playingPictureIndex,\r\n      activeName: state => state.activeName,\r\n      selected: state => state.selected,\r\n      dragPlayingName: state => state.dragPlayingName,\r\n      storeTrackIndex: state => state.trackIndex\r\n    })\r\n  },\r\n  watch: {\r\n    playingPictureIndex: function (val) {\r\n      if (val !== -1 && !this.isSubmit) {\r\n        this.$nextTick(() => {\r\n          const realTarget = this.$refs.drrTarget ? this.$refs.drrTarget[0] : null\r\n          if (!realTarget) {\r\n            return false\r\n          }\r\n          const targetStyle = realTarget.$el ? realTarget.$el.style : realTarget.style\r\n          targetStyle.opacity = this.playingPicture[this.trackIndex].transparency\r\n          targetStyle.transform = this.playingPicture[this.trackIndex].transform ? this.playingPicture[this.trackIndex].transform : ''\r\n        })\r\n      }\r\n    }\r\n    // submitPlayingIndex: function (val) {\r\n    //   if (val !== -1 && this.isSubmit) {\r\n    //     this.$nextTick(() => {\r\n    //       const realTarget = this.$refs.drrTarget ? this.$refs.drrTarget[0] : null\r\n    //       if (!realTarget) {\r\n    //         return false\r\n    //       }\r\n    //       const targetStyle = realTarget.$el ? realTarget.$el.style : realTarget.style\r\n    //       targetStyle.opacity = this.submitPlaying[this.trackIndex].transparency\r\n    //       targetStyle.transform = this.submitPlaying[this.trackIndex].transform ? this.submitPlaying[this.trackIndex].transform : ''\r\n    //     })\r\n    //   }\r\n    // }\r\n  },\r\n  methods: {\r\n    handleShow (index) {\r\n      if (this.isSubmit) {\r\n        return this.submitPlayingIndex[this.trackIndex] === index\r\n      } else {\r\n        const judgeOne = this.dragPlayingName !== 'pixture' || (this.dragPlayingName === 'pixture' && this.storeTrackIndex !== this.trackIndex)\r\n        return judgeOne && this.playingPictureIndex[this.trackIndex] === index\r\n      }\r\n    },\r\n    handleRotating (angle) {\r\n      if (this.videoPlay) {\r\n        this.$emit('video-pause')\r\n      }\r\n      this.$store.commit('drrRotating', angle)\r\n    },\r\n    handleResizing (left, top, width, height) {\r\n      if (this.videoPlay) {\r\n        this.$emit('video-pause')\r\n      }\r\n      const rect = {\r\n        left: left,\r\n        top: top,\r\n        width: width,\r\n        height: height\r\n      }\r\n      this.$store.commit('drrResizing', { keyCode: this.keyCode, rect: rect, playingName: 'playingPicture', vm: this })\r\n    },\r\n    handleDragging () {\r\n      if (this.videoPlay) {\r\n        this.$emit('video-pause')\r\n      }\r\n    },\r\n    handleActive (index, isFromMouseDown) {\r\n      if (this.isSubmit) {\r\n        // 若处于保存/提交剪辑页面 并不允许激活\r\n        return false\r\n      }\r\n      if (this.isTextEdit) {\r\n        // 若某轨道的文字仍处于编辑状态 将其退出\r\n        this.$emit('stop-edit', this.selected.trackIndex)\r\n      }\r\n      this.$store.commit('drrActive', {\r\n        activeTarget: 'picture',\r\n        list: 'pictureTrackList',\r\n        playingName: 'playingPicture',\r\n        vm: this\r\n      })\r\n      const e = document.querySelector('#pictureTrack' + this.trackIndex).querySelector('#picture' + index)\r\n      // 如果是来自mousedown的请求 就不必再select一次\r\n      if (!isFromMouseDown) {\r\n        this.$store.commit('trackBlockSelect', { e: e, index: index, trackIndex: this.trackIndex, list: 'pictureTrackList' })\r\n      }\r\n    },\r\n    handleDragStop (left, top) {\r\n      this.$store.commit('drrDragStop', { left: left, top: top, playingName: 'playingPicture', vm: this })\r\n    },\r\n    handleResizeStop (left, top, width, height) {\r\n      this.$store.commit('drrResizeStop', { left: left, top: top, width: width, height: height })\r\n    },\r\n    handleResizeClick () {\r\n      // const target = this.$refs.pictureTrack.$refs['picture' + index][0]\r\n      // this.onlineTab = 'pictureTab'\r\n      // this.$store.dispatch('setTrackBlockSelect', { e: target, index: index, list: 'pictureTrackList', vm: this })\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"stylus\" scoped>\r\n.resizable-container\r\n  position absolute\r\n  top 0px\r\n  width 100%\r\n  height 100%\r\n  overflow hidden\r\n.resizable-style\r\n  position absolute\r\n  z-index 2\r\n  .el-image\r\n  video\r\n    width inherit\r\n    height inherit\r\n.picture-video\r\n  object-fit fill\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PictureDrr.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PictureDrr.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PictureDrr.vue?vue&type=template&id=20409c3b&scoped=true&\"\nimport script from \"./PictureDrr.vue?vue&type=script&lang=js&\"\nexport * from \"./PictureDrr.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PictureDrr.vue?vue&type=style&index=0&id=20409c3b&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"20409c3b\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isEdit),expression:\"isEdit\"}],ref:\"drrInput\",staticClass:\"drr-input\",on:{\"mousedown\":_vm.handleDrrHandler}},[_c('el-input',{ref:\"input\",staticClass:\"input-style\",attrs:{\"type\":\"textarea\",\"resize\":\"none\"},on:{\"blur\":_vm.handleDrrTextEditBlur},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.handleDrrTextEditEnd($event)}},model:{value:(_vm.editText),callback:function ($$v) {_vm.editText=$$v},expression:\"editText\"}})],1),_vm._l((_vm.trackList),function(item,index){return _c('div',{key:item.id + '' + index,staticClass:\"resizable-container\"},[_c('div',{staticClass:\"draggable-container\",style:({\r\n          transform: _vm.isSubmit ? 'scale(' + (640 / _vm.originalWidth) + ')' : 'scale(' + _vm.proportion + ')'\r\n        })},[(_vm.handleShow(index))?_c('DraggableResizable',{ref:\"resizable\",refInFor:true,staticClass:\"resizable-style\",attrs:{\"class-name-handle\":\"resizable-handle\",\"w\":item.width,\"h\":item.height,\"angle\":item.whirl,\"x\":item.nowXAxis,\"y\":item.nowYAxis,\"minw\":1,\"minh\":1,\"handles\":_vm.keyCode === 16 ? ['nw', 'ne', 'sw', 'se'] : ['n', 's', 'e', 'w', 'nw', 'ne', 'sw', 'se'],\"active\":!_vm.isSubmit && _vm.activeName === 'text' && _vm.selected.trackIndex === _vm.trackIndex && _vm.selected.index === index,\"rotatable\":!_vm.isSubmit,\"draggable\":!_vm.isSubmit,\"resizable\":!_vm.isSubmit},on:{\"rotating\":_vm.handleRotating,\"resizing\":_vm.handleResizing,\"dragging\":_vm.handleDragging,\"activated\":function($event){return _vm.handleActive(index)},\"dragstop\":_vm.handleDragStop,\"resizestop\":_vm.handleResizeStop},nativeOn:{\"dblclick\":function($event){return _vm.handleDrrTextEdit(item, index)}}},[(!_vm.isEdit)?_c('div',{staticClass:\"drr-target-container\"},[_c('span',{ref:\"drrTarget\",refInFor:true,staticClass:\"drr-target\",style:({\r\n                fontFamily: item.fontFile,\r\n                fontSize: item.fontSize + 'px',\r\n                color: item.fontColor,\r\n                fontWeight: item.bold ? item.fontWeight : 400,\r\n                fontStyle: item.italic ? item.fontStyle : 'normal',\r\n                letterSpacing: item.wordSpacing + 'px',\r\n                lineHeight: item.lineSpacing,\r\n                border: item.frame ? item.border : 'none',\r\n                textAlign: item.alignment,\r\n                textShadow: item.shadowY ? item.textShadow : 'none',\r\n                textDecoration: item.underLine ? item.textDecoration : 'none',\r\n                opacity: item.transparency,\r\n                webkitTextStroke: item.borderW ? item.webkitTextStroke : '0px'\r\n              })},[_vm._v(_vm._s(item.text))])]):_vm._e()]):_vm._e()],1)])})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n<!-- drr：drag resize rotate -->\r\n  <div>\r\n    <div v-show=\"isEdit\" ref=\"drrInput\" class=\"drr-input\" @mousedown=\"handleDrrHandler\">\r\n      <el-input\r\n        v-model=\"editText\"\r\n        ref=\"input\"\r\n        type=\"textarea\"\r\n        resize=\"none\"\r\n        class=\"input-style\"\r\n        @blur=\"handleDrrTextEditBlur\"\r\n        @keyup.enter.native=\"handleDrrTextEditEnd\"\r\n      ></el-input>\r\n    </div>\r\n    <div\r\n      v-for=\"(item, index) in trackList\"\r\n      :key=\"item.id + '' + index\"\r\n      class=\"resizable-container\"\r\n    >\r\n      <div\r\n        class=\"draggable-container\"\r\n        :style=\"{\r\n          transform: isSubmit ? 'scale(' + (640 / originalWidth) + ')' : 'scale(' + proportion + ')'\r\n        }\"\r\n      >\r\n        <DraggableResizable\r\n          v-if=\"handleShow(index)\"\r\n          class=\"resizable-style\"\r\n          class-name-handle=\"resizable-handle\"\r\n          ref=\"resizable\"\r\n          :w=\"item.width\"\r\n          :h=\"item.height\"\r\n          :angle=\"item.whirl\"\r\n          :x=\"item.nowXAxis\"\r\n          :y=\"item.nowYAxis\"\r\n          :minw=\"1\"\r\n          :minh=\"1\"\r\n          :handles=\"keyCode === 16 ? ['nw', 'ne', 'sw', 'se'] : ['n', 's', 'e', 'w', 'nw', 'ne', 'sw', 'se']\"\r\n          :active=\"!isSubmit && activeName === 'text' && selected.trackIndex === trackIndex && selected.index === index\"\r\n          :rotatable=\"!isSubmit\"\r\n          :draggable=\"!isSubmit\"\r\n          :resizable=\"!isSubmit\"\r\n          @rotating=\"handleRotating\"\r\n          @resizing=\"handleResizing\"\r\n          @dragging=\"handleDragging\"\r\n          @activated=\"handleActive(index)\"\r\n          @dragstop=\"handleDragStop\"\r\n          @resizestop=\"handleResizeStop\"\r\n          @dblclick.native=\"handleDrrTextEdit(item, index)\"\r\n        >\r\n          <div v-if=\"!isEdit\" class=\"drr-target-container\">\r\n            <span\r\n              ref=\"drrTarget\"\r\n              class=\"drr-target\"\r\n              :style=\"{\r\n                fontFamily: item.fontFile,\r\n                fontSize: item.fontSize + 'px',\r\n                color: item.fontColor,\r\n                fontWeight: item.bold ? item.fontWeight : 400,\r\n                fontStyle: item.italic ? item.fontStyle : 'normal',\r\n                letterSpacing: item.wordSpacing + 'px',\r\n                lineHeight: item.lineSpacing,\r\n                border: item.frame ? item.border : 'none',\r\n                textAlign: item.alignment,\r\n                textShadow: item.shadowY ? item.textShadow : 'none',\r\n                textDecoration: item.underLine ? item.textDecoration : 'none',\r\n                opacity: item.transparency,\r\n                webkitTextStroke: item.borderW ? item.webkitTextStroke : '0px'\r\n              }\"\r\n            >{{ item.text }}</span>\r\n          </div>\r\n        </DraggableResizable>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport DraggableResizable from 'vue-drr'\r\nimport { mapState } from 'vuex'\r\nexport default {\r\n  components: {\r\n    DraggableResizable\r\n  },\r\n  props: {\r\n    keyCode: {\r\n      type: Number,\r\n      default: null\r\n    },\r\n    trackIndex: {\r\n      type: Number,\r\n      default: 0\r\n    },\r\n    videoPlay: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    isTextEdit: { // 某个轨道的编辑状态\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    isSubmit: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    trackList: {\r\n      type: Array,\r\n      default: function () {}\r\n    },\r\n    submitPlaying: {\r\n      type: Array,\r\n      default: function () {}\r\n    },\r\n    submitPlayingIndex: {\r\n      type: Array,\r\n      default: function () {}\r\n    },\r\n    scale: { // 保存/提交剪辑页面播放区域与在线剪辑播放区域的比例\r\n      type: Object,\r\n      default: function () {}\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      editText: '',\r\n      isEdit: false,\r\n      isDivRange: false\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState({\r\n      storeTrackIndex: state => state.trackIndex,\r\n      proportion: state => state.proportion,\r\n      originalWidth: state => state.originalWidth,\r\n      activeName: state => state.activeName,\r\n      dragPlayingName: state => state.dragPlayingName,\r\n      selected: state => state.selected,\r\n      playingText: state => state.playingText,\r\n      playingTextIndex: state => state.playingTextIndex\r\n    })\r\n  },\r\n  watch: {\r\n    videoPlay: function (val) {\r\n      if (val && this.isEdit) {\r\n        // 若视频播放且有drr为编辑状态 需退出\r\n        this.handleDrrTextEditEnd()\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    handleShow (index) {\r\n      // 判断是否显示某drr\r\n      if (this.isSubmit) {\r\n        // 处于保存/提交剪辑页面 index对上就显示\r\n        return this.submitPlayingIndex[this.trackIndex] === index\r\n      } else {\r\n        // 处于在线剪辑页面 还需判断dragPlayingName\r\n        const judgeOne = this.dragPlayingName !== 'text' || (this.dragPlayingName === 'text' && this.storeTrackIndex !== this.trackIndex)\r\n        return judgeOne && this.playingTextIndex[this.trackIndex] === index\r\n      }\r\n    },\r\n    handleRotating (angle) {\r\n      if (this.videoPlay) {\r\n        this.$emit('video-pause')\r\n      }\r\n      if (this.isEdit) {\r\n        this.handleDrrTextEditEnd()\r\n      }\r\n      this.$store.commit('drrRotating', angle)\r\n    },\r\n    handleResizing (left, top, width, height) {\r\n      if (this.videoPlay) {\r\n        this.$emit('video-pause')\r\n      }\r\n      if (this.isEdit) {\r\n        this.handleDrrTextEditEnd()\r\n      }\r\n      const rect = {\r\n        left: left,\r\n        top: top,\r\n        width: width,\r\n        height: height\r\n      }\r\n      this.$store.commit('drrResizing', { keyCode: this.keyCode, rect: rect, playingName: 'playingText', vm: this })\r\n    },\r\n    handleDragging () {\r\n      if (this.videoPlay) {\r\n        this.$emit('video-pause')\r\n      }\r\n    },\r\n    handleActive (index, isFromMouseDown) {\r\n      if (this.isSubmit) {\r\n        // 若处于保存/提交剪辑页面 并不允许激活\r\n        return false\r\n      }\r\n      if (this.isTextEdit) {\r\n        // 若某轨道的文字仍处于编辑状态 将其退出\r\n        this.$emit('stop-edit', this.selected.trackIndex)\r\n      }\r\n      this.$store.commit('drrActive', {\r\n        activeTarget: 'text',\r\n        list: 'textTrackList',\r\n        playingName: 'playingText',\r\n        vm: this\r\n      })\r\n      const e = document.querySelector('#textTrack' + this.trackIndex).querySelector('#text' + index)\r\n      // 如果是来自mousedown的请求 就不必再select一次\r\n      if (!isFromMouseDown) {\r\n        this.$store.commit('trackBlockSelect', { e: e, index: index, trackIndex: this.trackIndex, list: 'textTrackList' })\r\n      }\r\n    },\r\n    handleDragStop (left, top) {\r\n      this.$store.commit('drrDragStop', { left: left, top: top, playingName: 'playingText', vm: this })\r\n    },\r\n    handleResizeStop (left, top, width, height) {\r\n      this.$store.commit('drrResizeStop', { left: left, top: top, width: width, height: height })\r\n    },\r\n    handleDrrHandler () {\r\n      if (!this.isEdit || this.isSubmit) {\r\n        return false\r\n      }\r\n      this.isDivRange = true\r\n      this.$store.commit('drrActive', { activeTarget: 'text', list: 'textTrackList', playingName: 'playingText', vm: this })\r\n    },\r\n    handleDrrTextEdit (item, index) {\r\n      // 唤醒drr的编辑\r\n      if (this.isSubmit) {\r\n        // 若为保存/提交剪辑页面 不允许唤醒\r\n        return false\r\n      }\r\n\r\n      this.isEdit = true\r\n      // 保存处于编辑状态的index\r\n      this.$store.commit('updateNumberOrString', { name: 'textEditIndex', value: index })\r\n      // 编辑的文本与显示文本同步\r\n      this.editText = item.text\r\n      // 编辑文本样式与显示文本样式同步\r\n      const inputStyle = this.$refs.drrInput.style\r\n      const style = this.$refs.input.$el.firstChild.style\r\n      inputStyle.width = item.width + 'px'\r\n      inputStyle.height = item.height + 'px'\r\n      inputStyle.transform = 'translate(' + item.nowXAxis + 'px, ' + item.nowYAxis + 'px)'\r\n      style.width = item.width + 'px'\r\n      style.height = item.height + 'px'\r\n      style.fontSize = item.fontSize + 'px'\r\n      style.fontFamily = item.fontFile\r\n      style.color = item.fontColor\r\n      style.letterSpacing = item.wordSpacing + 'px'\r\n      style.lineHeight = item.lineSpacing\r\n      style.opacity = item.transpancy\r\n      setTimeout(() => {\r\n        // 需等待一会 保证input加载完毕 已有focus事件\r\n        this.$refs.input.focus()\r\n      }, 50)\r\n      // 传出告知其他组件 有drr处于编辑状态\r\n      this.$emit('text-edit', true)\r\n    },\r\n    handleDrrTextEditBlur () {\r\n      // 编辑输入框失焦时\r\n      if (this.isDivRange) {\r\n        // 若还处于编辑块内 保留焦点与激活状态\r\n        this.isDivRange = false\r\n        this.$refs.input.focus()\r\n        this.$store.commit('drrActive', { activeTarget: 'text', list: 'textTrackList', playingName: 'playingText', vm: this })\r\n        return false\r\n      }\r\n      // 若处于编辑块外 退出其编辑状态\r\n      this.handleDrrTextEditEnd()\r\n    },\r\n    handleDrrTextEditEnd () {\r\n      // 退出编辑状态及对应处理\r\n      this.isEdit = false\r\n      // 传出告知其他组件 drr编辑已关闭\r\n      this.$emit('text-edit', false)\r\n      // 保存编辑文本\r\n      this.$store.commit('drrTextChange', { text: this.editText, trackIndex: this.trackIndex })\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"stylus\" scoped>\r\n.resizable-container\r\n  position absolute\r\n  top 0px\r\n  width 100%\r\n  height 100%\r\n  overflow hidden\r\n.resizable-style\r\n  position absolute\r\n.draggable-container\r\n  position relative\r\n  transform-origin 0 0 0\r\n  z-index 2\r\n.drr-input\r\n  position absolute\r\n  z-index 3\r\n.input-style\r\n  >>>.el-textarea__inner\r\n    padding 0px\r\n    border 0px\r\n    background transparent\r\n    overflow hidden\r\n    caret-color #26CB51\r\n.drr-target-container\r\n  width 100%\r\n  height 100%\r\n.drr-target\r\n  display inline-block\r\n  width 100%\r\n  height 100%\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextDrr.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextDrr.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TextDrr.vue?vue&type=template&id=21e03a02&scoped=true&\"\nimport script from \"./TextDrr.vue?vue&type=script&lang=js&\"\nexport * from \"./TextDrr.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TextDrr.vue?vue&type=style&index=0&id=21e03a02&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"21e03a02\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"video-controls\"},[_c('div',{staticClass:\"controls-icons\"},[(!_vm.videoPlay)?_c('el-image',{staticClass:\"controls-play\",attrs:{\"src\":_vm.controlsIcons.play},on:{\"click\":_vm.handleVideoPlay}}):_vm._e(),(_vm.videoPlay)?_c('el-image',{staticClass:\"controls-pause\",attrs:{\"src\":_vm.controlsIcons.pause},on:{\"click\":_vm.handleVideoPause}}):_vm._e()],1),_c('el-slider',{staticClass:\"video-slider\",attrs:{\"min\":0,\"max\":_vm.trackDuration,\"step\":0.1,\"format-tooltip\":_vm.formatTooltip},on:{\"change\":_vm.handleSliderChange},nativeOn:{\"mousedown\":function($event){return _vm.handleVideoPause($event)}},model:{value:(_vm.sliderData),callback:function ($$v) {_vm.sliderData=$$v},expression:\"sliderData\"}}),_c('div',{staticClass:\"controls-duration\"},[_vm._v(\" \"+_vm._s(_vm.trackCurrentTimeString)+\" / \"+_vm._s(_vm.trackDurationString)+\" \")])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n      <div class=\"video-controls\">\r\n        <div class=\"controls-icons\">\r\n          <el-image\r\n            v-if=\"!videoPlay\"\r\n            class=\"controls-play\"\r\n            :src=\"controlsIcons.play\"\r\n            @click=\"handleVideoPlay\"\r\n          ></el-image>\r\n          <el-image\r\n            v-if=\"videoPlay\"\r\n            class=\"controls-pause\"\r\n            :src=\"controlsIcons.pause\"\r\n            @click=\"handleVideoPause\"\r\n          ></el-image>\r\n        </div>\r\n        <el-slider\r\n          v-model=\"sliderData\"\r\n          class=\"video-slider\"\r\n          :min=\"0\"\r\n          :max=\"trackDuration\"\r\n          :step=\"0.1\"\r\n          :format-tooltip=\"formatTooltip\"\r\n          @mousedown.native=\"handleVideoPause\"\r\n          @change=\"handleSliderChange\"\r\n        ></el-slider>\r\n        <div class=\"controls-duration\">\r\n          {{ trackCurrentTimeString }} / {{ trackDurationString }}\r\n        </div>\r\n      </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { formatDuration } from '@/components/onlineClip/global/functions'\r\nexport default {\r\n  props: {\r\n    videoPlay: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    trackDuration: {\r\n      type: Number,\r\n      default: 0\r\n    },\r\n    trackCurrentTime: {\r\n      type: Number,\r\n      default: 0\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      controlsIcons: {\r\n        play: require('../../assets/play.png'),\r\n        pause: require('../../assets/pause.png')\r\n      },\r\n      sliderData: 0,\r\n      trackCurrentTimeString: '00:00:00',\r\n      trackDurationString: '00:00:00'\r\n    }\r\n  },\r\n  watch: {\r\n    trackDuration: function (time) {\r\n      this.trackDurationString = formatDuration(this.trackDuration)\r\n      return time\r\n    },\r\n    trackCurrentTime: function (time) {\r\n      this.sliderData = time\r\n      this.trackCurrentTimeString = formatDuration(this.sliderData)\r\n    }\r\n  },\r\n  methods: {\r\n    handleVideoPlay () {\r\n      this.$emit('video-play')\r\n    },\r\n    handleVideoPause () {\r\n      this.$emit('video-pause')\r\n    },\r\n    handleSliderChange () {\r\n      this.trackCurrentTimeString = formatDuration(this.sliderData)\r\n      this.$emit('slider-change', this.sliderData)\r\n    },\r\n    formatTooltip (time) {\r\n      return formatDuration(time)\r\n    }\r\n  },\r\n  created () {\r\n    this.trackDurationString = formatDuration(this.trackDuration)\r\n    this.sliderData = this.trackCurrentTime\r\n  }\r\n}\r\n</script>\r\n<style lang=\"stylus\" scoped>\r\n.video-controls\r\n  position relative\r\n  margin-top 10px\r\n  padding 0px 10px\r\n.controls-icons\r\n  >>>.el-image\r\n    width 18px\r\n    height 18px\r\n    cursor pointer\r\n.controls-duration\r\n  position absolute\r\n  top 0px\r\n  left 30px\r\n.video-slider\r\n  >>>.el-slider__button\r\n    width 10px !important\r\n    height 10px !important\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VideoControls.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VideoControls.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./VideoControls.vue?vue&type=template&id=50911f8a&scoped=true&\"\nimport script from \"./VideoControls.vue?vue&type=script&lang=js&\"\nexport * from \"./VideoControls.vue?vue&type=script&lang=js&\"\nimport style0 from \"./VideoControls.vue?vue&type=style&index=0&id=50911f8a&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"50911f8a\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div v-loading=\"isLoading\" class=\"submit-dialog\">\r\n    <el-dialog\r\n      width=\"1200px\"\r\n      append-to-body\r\n      :title=\"dialogTitle\"\r\n      :close-on-click-modal=\"false\"\r\n      :visible.sync=\"isSaveOrSubmit\"\r\n      :before-close=\"handleDialogClose\"\r\n    >\r\n      <el-row :gutter=\"10\">\r\n        <!-- 播放区域 -->\r\n        <el-col :span=\"14\" class=\"submit-video-container\">\r\n          <div v-loading=\"isVideoLoading\" element-loading-background=\"rgba(0, 0, 0, 0.5)\" class=\"video-frame\">\r\n            <!-- 播放的视频 -->\r\n            <video\r\n              class=\"submit-video\"\r\n              ref=\"submitVideo\"\r\n              preload=\"auto\"\r\n              crossOrigin=\"*\"\r\n              style=\"display: none\"\r\n              :src=\"videoSrc\"\r\n              @timeupdate=\"handleVideoPlaying\"\r\n              @play=\"drawCanvasVideo\"\r\n              @pause=\"stopCanvasVideo\"\r\n              @seeking=\"isVideoLoading=true\"\r\n              @seeked=\"drawCanvasCover\"\r\n            ></video>\r\n            <!-- <video\r\n              class=\"submit-video\"\r\n              ref=\"videoTransition\"\r\n              preload=\"auto\"\r\n              crossOrigin=\"*\"\r\n              style=\"display: none\"\r\n              :src=\"playingTransition ? playingTransition.transitionMaterialUrl : ''\"\r\n            ></video> -->\r\n            <!-- 实际的页面视频显示 -->\r\n            <canvas\r\n              id=\"canvasVideo\"\r\n              ref=\"canvasVideo\"\r\n              class=\"canvas-video\"\r\n            ></canvas>\r\n          </div>\r\n          <!-- drr区域 -->\r\n          <!-- 先定义的在下层 -->\r\n          <PictureDrr\r\n            v-for=\"(item, index) in reversePictureList\"\r\n            :key=\"'pictureDrr' + getReverseIndex(index, reversePictureList.length)\"\r\n            ref=\"pictureDrr\"\r\n            class=\"resizable-container\"\r\n            :track-index=\"getReverseIndex(index, reversePictureList.length)\"\r\n            :track-list=\"item\"\r\n            :is-submit=\"true\"\r\n            :scale=\"{\r\n              width: widthScale,\r\n              height: heightScale\r\n            }\"\r\n            :submit-playing=\"playingPicture\"\r\n            :submit-playing-index=\"playingPictureIndex\"\r\n          ></PictureDrr>\r\n          <TextDrr\r\n            v-for=\"(item, index) in reverseTextList\"\r\n            :key=\"'textDrr' + getReverseIndex(index, reverseTextList.length)\"\r\n            ref=\"textDrr\"\r\n            class=\"resizable-container\"\r\n            :id=\"'textDrr' + getReverseIndex(index, reverseTextList.length)\"\r\n            :track-index=\"index\"\r\n            :track-list=\"item\"\r\n            :is-submit=\"true\"\r\n            :scale=\"{\r\n              width: widthScale,\r\n              height: heightScale\r\n            }\"\r\n            :submit-playing=\"playingText\"\r\n            :submit-playing-index=\"playingTextIndex\"\r\n          ></TextDrr>\r\n          <!-- 播放器控制条 -->\r\n          <VideoControls\r\n            :video-play=\"videoPlay\"\r\n            :track-duration=\"trackDuration\"\r\n            :track-current-time=\"trackCurrentTime\"\r\n            @video-play=\"handleVideoPlay\"\r\n            @video-pause=\"handleVideoPause\"\r\n            @slider-change=\"handleSliderChange\"\r\n          ></VideoControls>\r\n        </el-col>\r\n        <!-- 表单区域 -->\r\n        <el-col :span=\"10\">\r\n          <el-form\r\n            v-loading=\"isLoadingSelect\"\r\n            ref=\"videoInfo\"\r\n            :model=\"videoInfo\"\r\n            :rules=\"saveOrSubmit === 1 ? submitRules : saveRules\"\r\n          >\r\n            <el-form-item label=\"作品名称：\" class=\"input-inner works-title\" prop=\"videoTitle\">\r\n              <el-input v-model=\"videoInfo.videoTitle\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"业务分类：\" prop=\"businessType\">\r\n              <el-select v-model=\"videoInfo.businessType\" @change=\"handleBusinessTypeChange\">\r\n                <el-option\r\n                  v-for=\"type in businessTypeList\"\r\n                  :key=\"type.tagEnName * 1\"\r\n                  :label=\"type.tagCnName\"\r\n                  :value=\"type.tagEnName * 1\"\r\n                ></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n            <el-form-item label=\"内容分类：\" prop=\"categoryId\">\r\n              <el-select v-model=\"videoInfo.categoryId\" @change=\"handleCategorySelelct\">\r\n                <el-option\r\n                  v-for=\"type in realCategoryTypeList\"\r\n                  :key=\"type.tagEnName * 1\"\r\n                  :label=\"type.tagCnName\"\r\n                  :value=\"type.tagEnName * 1\"\r\n                ></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n            <el-form-item label=\"作品类型：\" prop=\"productType\">\r\n              <el-select v-model=\"videoInfo.productType\">\r\n                <el-option\r\n                  v-for=\"type in productTypeList\"\r\n                  :key=\"type.id\"\r\n                  :label=\"type.label\"\r\n                  :value=\"type.id\"\r\n                ></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n            <el-form-item label=\"标签：\" prop=\"tag\">\r\n              <el-button type=\"primary\" class=\"auto-tag-button\" @click=\"getAdviceTag\">自动标签</el-button>\r\n              <span class=\"message\">系统智能标签获取</span>\r\n              <div class=\"tags-container\">\r\n                <span\r\n                  v-for=\"(tag, index) in videoInfo.tag\"\r\n                  :key=\"tag + index\"\r\n                  class=\"dialog-tag\"\r\n                > {{ tag }}\r\n                <i class=\"el-icon-close\" @click=\"handleTagDelete(index)\"></i>\r\n                </span>\r\n              </div>\r\n              <el-input\r\n                v-model=\"addTagName\"\r\n                class=\"input-inner tag-input\"\r\n                placeholder=\"输入标签按回车确认\"\r\n                @keyup.enter.native=\"handleAddTag\"\r\n              ></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"封面：\">\r\n              <div class=\"cover-source\">\r\n                <!-- 播放区域截图直接获取封面 -->\r\n                <span class=\"cover-by-canvas\" @click=\"getCoverByVideo\">\r\n                  <i class=\"el-icon-upload2\"></i>\r\n                  <el-tooltip placement=\"top\" content=\"拖动左侧进度条以获取指定封面图\">\r\n                    <span> 获取封面</span>\r\n                  </el-tooltip>\r\n                </span>\r\n                <span class=\"message\"> 横图竖图同时获取</span>\r\n              </div>\r\n              <!-- 点击封面显示区域 可本地上传设置贴图 -->\r\n              <el-form-item prop=\"picH\" class=\"pic-style\">\r\n                <el-upload\r\n                  v-loading=\"loadingPicH\"\r\n                  ref=\"picHUploader\"\r\n                  class=\"avatar-uploader horizontal-cover-uploader\"\r\n                  accept=\"image/*\"\r\n                  list-type=\"picture\"\r\n                  auto-upload\r\n                  :multiple=\"false\"\r\n                  :action=\"mediaImageUploadUrl\"\r\n                  :on-change=\"handleUploadChange\"\r\n                  :on-success=\"(value) => handleUploadSuccess(0, value)\"\r\n                  :before-upload=\"(value) =>handleUploadBefore(0, value)\"\r\n                >\r\n                  <el-image\r\n                    v-if=\"videoInfo.picH\"\r\n                    class=\"horizontal-cover\"\r\n                    :src=\"videoInfo.picH\"\r\n                  ></el-image>\r\n                  <i v-else class=\"el-icon-plus horizontal-cover-icon\"></i>\r\n                </el-upload>\r\n              </el-form-item>\r\n              <el-form-item prop=\"picV\" class=\"pic-style picV-style\">\r\n                <el-upload\r\n                  v-loading=\"loadingPicV\"\r\n                  ref=\"picVUploader\"\r\n                  class=\"avatar-uploader vertical-cover-uploader\"\r\n                  accept=\"image/*\"\r\n                  list-type=\"picture\"\r\n                  name=\"picV\"\r\n                  auto-upload\r\n                  :multiple=\"false\"\r\n                  :action=\"mediaImageUploadUrl\"\r\n                  :on-change=\"handleUploadChange\"\r\n                  :on-success=\"(value) => handleUploadSuccess(1, value)\"\r\n                  :before-upload=\"(value) =>handleUploadBefore(1, value)\"\r\n                >\r\n                  <el-image\r\n                    v-if=\"videoInfo.picV\"\r\n                    class=\"vertical-cover\"\r\n                    :src=\"videoInfo.picV\"\r\n                  ></el-image>\r\n                  <i v-else class=\"el-icon-plus vertical-cover-icon\"></i>\r\n                </el-upload>\r\n              </el-form-item>\r\n              <div class=\"cover-message\">\r\n                <span class=\"message\">标准尺寸 横图:750*422 竖图:266*366</span>\r\n              </div>\r\n            </el-form-item>\r\n            <el-form-item label=\"输出设置：\" prop=\"define\">\r\n              <el-radio-group v-model=\"videoInfo.define\">\r\n                <el-radio-button label=\"1080P\"></el-radio-button>\r\n                <el-radio-button label=\"720P\"></el-radio-button>\r\n                <el-radio-button label=\"480P\"></el-radio-button>\r\n              </el-radio-group>\r\n            </el-form-item>\r\n          </el-form>\r\n          <div class=\"submit-button-group\">\r\n            <!-- 根据传值动态显示为保存 / 提交 剪辑 -->\r\n            <el-button v-loading=\"loadingSave\" type=\"primary\" @click=\"handleSubmitValid\">{{ buttonText }}</el-button>\r\n            <el-button type=\"info\" @click=\"handleDialogClose\">取消</el-button>\r\n          </div>\r\n        </el-col>\r\n      </el-row>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n<script>\r\nimport PictureDrr from './drrContainers/PictureDrr'\r\nimport TextDrr from './drrContainers/TextDrr'\r\nimport VideoControls from './VideoControls'\r\n// import Various from './global/various'\r\nimport { formatDuration } from '@/components/onlineClip/global/functions'\r\nimport { mapState } from 'vuex'\r\nexport default {\r\n  components: {\r\n    PictureDrr,\r\n    TextDrr,\r\n    VideoControls\r\n  },\r\n  props: {\r\n    isSaveOrSubmit: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    isHighlight: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    saveOrSubmit: {\r\n      type: Number,\r\n      default: 0\r\n    },\r\n    editId: {\r\n      type: Number,\r\n      default: undefined\r\n    },\r\n    formInfo: {\r\n      type: Object,\r\n      default: function () {}\r\n    },\r\n    videoFrame: {\r\n      type: Object,\r\n      default: function () {}\r\n    },\r\n    highlightList: {\r\n      type: Array,\r\n      default: function () {}\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      dialogTitle: '',\r\n      isVideoLoading: false,\r\n      videoSrc: '',\r\n      submitVideo: undefined,\r\n      currentTime: 0,\r\n      lastPlayedMaterial: {},\r\n      playingMaterial: {},\r\n      playingPicture: [],\r\n      playingText: [],\r\n      playingTransition: {},\r\n      playingPictureIndex: [],\r\n      playingTextIndex: [],\r\n      videoPlay: false,\r\n      trackCurrentTime: 0,\r\n      trackCurrentTimeString: '00:00:00',\r\n      trackDuration: 0,\r\n      controlsIcons: {\r\n        play: require('../../assets/play.png'),\r\n        pause: require('../../assets/pause.png')\r\n      },\r\n      coverList: [],\r\n      mediaImageUploadUrl: '',\r\n      // 关闭接口\r\n      // mediaImageUploadUrl: 'api/uploadHomeImgV2.html',\r\n      videoInfo: {\r\n        editId: '',\r\n        videoTitle: '',\r\n        businessType: null,\r\n        categoryId: null,\r\n        categoryName: '',\r\n        productType: 0,\r\n        tag: [],\r\n        picH: '',\r\n        picV: '',\r\n        fileId: '',\r\n        define: '1080P',\r\n        status: '',\r\n        videoType: 0,\r\n        submitTime: '',\r\n        createdTime: '',\r\n        modifyTime: '',\r\n        url: '',\r\n        userId: '',\r\n        duration: 0,\r\n        firstVideoH: 0,\r\n        firstVideoV: 0\r\n      },\r\n      businessTypeList: [],\r\n      categoryTypeList: [],\r\n      realCategoryTypeList: [],\r\n      educationType: {\r\n        tagEnName: 30,\r\n        tagCnName: '教育'\r\n      },\r\n      productTypeList: [\r\n        {\r\n          id: 0,\r\n          label: '短视频'\r\n        },\r\n        {\r\n          id: 1,\r\n          label: '高能片段'\r\n        }\r\n      ],\r\n      addTagName: '',\r\n      submitRules: {\r\n        videoTitle: [\r\n          { required: true, message: '请输入作品名称' }\r\n        ],\r\n        businessType: [\r\n          { required: true, message: '请选择业务分类', trigger: 'blur' }\r\n        ],\r\n        categoryId: [\r\n          { required: true, message: '请选择内容分类', trigger: 'blur' }\r\n        ],\r\n        productType: [\r\n          { required: true, message: '请选择作品类型', trigger: 'blur' }\r\n        ],\r\n        tag: [\r\n          { required: true, message: '请添加标签' }\r\n        ],\r\n        picH: [\r\n          { required: true, message: '请添加横封面图' }\r\n        ],\r\n        picV: [\r\n          { required: true, message: '请添加竖封面图' }\r\n        ],\r\n        define: [\r\n          { required: true, message: '请选择清晰度' }\r\n        ]\r\n      },\r\n      saveRules: {\r\n        videoTitle: [\r\n          { required: true, message: '请输入作品名称' }\r\n        ]\r\n      },\r\n      buttonText: '',\r\n      loadingPicH: false,\r\n      loadingPicV: false,\r\n      loadingSave: false,\r\n      isLoading: false,\r\n      isLoadingSelect: false,\r\n      realSelectedList: [],\r\n      realAddedList: [],\r\n      realPictureList: [],\r\n      realTextList: [],\r\n      // realTransitionList: Various.transitionList,\r\n      reversePictureList: [],\r\n      reverseTextList: [],\r\n      isEnd: false,\r\n      tracks: [\r\n        {\r\n          target: 'playingMaterial',\r\n          list: 'realSelectedList'\r\n        },\r\n        {\r\n          target: 'playingPicture',\r\n          list: 'realPictureList'\r\n        },\r\n        {\r\n          target: 'playingText',\r\n          list: 'realTextList'\r\n        }\r\n        // {\r\n        //   target: 'playingTransition',\r\n        //   list: 'realTransitionList'\r\n        // }\r\n      ],\r\n      canvasWidth: 100,\r\n      canvasVideo: null,\r\n      canvasTimer: null,\r\n      widthScale: 0,\r\n      heightScale: 0,\r\n      oldPictureIndex: null\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState({\r\n      materialTabList: state => state.materialTabList,\r\n      materialTrackList: state => state.materialTrackList,\r\n      pictureTrackList: state => state.pictureTrackList,\r\n      textTrackList: state => state.textTrackList\r\n    })\r\n  },\r\n  watch: {\r\n    materialTrackList: function (val) {\r\n      if (!val) {\r\n        this.$message({\r\n          type: 'error',\r\n          message: '未获取到轨道素材信息，请重新保存或提交'\r\n        })\r\n        this.$emit('submit-close')\r\n      }\r\n    },\r\n    playingPicture: function (val) {\r\n      // 监听 - 当前是否有视频贴图需要播放\r\n      if (this.oldPictureIndex === this.playingPictureIndex[0]) {\r\n        // 避免视频贴图的卡顿以及不同视频贴图切换时所导致的骤停报错问题\r\n        return true\r\n      }\r\n      this.oldPictureIndex = this.playingPictureIndex[0]\r\n      if (val[0] && val[0].fileType === 'video') {\r\n        if (this.videoPlay) {\r\n          this.playVideoPicture(val[0], true)\r\n        } else {\r\n          this.playVideoPicture(val[0], false)\r\n        }\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    handleDialogClose () {\r\n      if (!this.editId) {\r\n        // 非编辑入口进入情况下 关闭保存/提交剪辑页面时需清空标签\r\n        this.videoInfo.tag.splice(0)\r\n      }\r\n      this.$emit('submit-close')\r\n    },\r\n    handleVideoPlayOrPause () {\r\n      // 处理播放区域的播放/暂停\r\n      if (this.videoPlay) {\r\n        this.handleVideoPause()\r\n      } else {\r\n        this.handleVideoPlay()\r\n      }\r\n    },\r\n    handleVideoPlaying () {\r\n      // 监听 - 视频播放\r\n      if (!this.videoPlay) {\r\n        return false\r\n      }\r\n      if (this.trackCurrentTime >= this.trackDuration) {\r\n        // 播放至末尾 需跳回开头\r\n        this.trackCurrentTime = 0\r\n        this.isEnd = true\r\n      }\r\n      if (!this.videoInfo.firstVideoH && this.videoSrc === this.realSelectedList[0].playUrl) {\r\n        // 剪辑服务以第一个视频分辨率生成视频 故需要获取第一个视频的分辨率\r\n        this.videoInfo.firstVideoH = this.submitVideo.videoWidth\r\n        this.videoInfo.firstVideoV = this.submitVideo.videoHeight\r\n      }\r\n      if (this.submitVideo.currentTime < this.playingMaterial.startTime) {\r\n        // 纠正currentTime\r\n        this.submitVideo.currentTime = this.playingMaterial.startTime\r\n      }\r\n      // 获得当前的time\r\n      this.trackCurrentTime = this.submitVideo.currentTime + this.playingMaterial.trackStartTime - this.playingMaterial.startTime\r\n      this.trackCurrentTimeString = formatDuration(this.trackCurrentTime)\r\n      if (this.trackCurrentTime >= this.trackDuration) {\r\n        // 播放至末尾 需跳回开头\r\n        this.trackCurrentTime = 0\r\n        this.isEnd = true\r\n      }\r\n      // 获得playing-及设置对应播放地址\r\n      this.getPlayingMaterial()\r\n      this.handleVideoChange()\r\n    },\r\n    playVideoPicture (picture, isNeedPlay) {\r\n      // 播放视频贴图\r\n      this.$nextTick(() => {\r\n        let videoPicture = this.$refs.pictureDrr[0].$refs.drrTarget[0]\r\n        videoPicture.currentTime = this.trackCurrentTime - picture.trackStartTime\r\n        // 设置drr的各项数值进行显示\r\n        this.getDrrElement('playingPicture', 'pictureDrr')\r\n        // 需要播放视频贴图\r\n        if (isNeedPlay) {\r\n          setTimeout(() => {\r\n            // 避免异步函数在不允许的条件执行 - 非视频播放时不允许贴图播放\r\n            if (this.videoPlay) {\r\n              videoPicture.play()\r\n            }\r\n          }, 150)\r\n        }\r\n      })\r\n    },\r\n    handleVideoPlay () {\r\n      // 视频区域播放\r\n      setTimeout(() => {\r\n        // 需计时等待一会 避免立即播放/暂停所导致的播放失败及控制台报错\r\n        // 视频轨道播放\r\n        this.submitVideo.currentTime = this.currentTime\r\n        this.submitVideo.play()\r\n        this.videoPlay = true\r\n        // 转场视频播放\r\n        // if (this.playingTransition && this.playingTransition.transitionMaterialUrl) {\r\n        //   let videoTransition = this.$refs.videoTransition\r\n        //   videoTransition.palybackRate = this.playingTransition.palybackRate\r\n        //   videoTransition.currentTime = this.trackCurrentTime - this.playingTransition.trackStartTime\r\n        //   videoTransition.play()\r\n        // }\r\n        const drrTarget = this.$refs.pictureDrr[0].$refs.drrTarget ? this.$refs.pictureDrr[0].$refs.drrTarget[0] : null\r\n        if (drrTarget && this.playingPicture[0].fileType === 'video') {\r\n          const duration = this.trackCurrentTime - this.playingPicture[0].trackStartTime\r\n          if (!isNaN(duration)) {\r\n            // 若存在需要播放的视频贴图 播放\r\n            drrTarget.currentTime = this.trackCurrentTime - this.playingPicture[0].trackStartTime\r\n            drrTarget.play()\r\n          }\r\n        }\r\n      }, 150)\r\n    },\r\n    handleVideoPause () {\r\n      // 播放区域暂停\r\n      // 转场视频暂停\r\n      // if (this.playingTransition && this.playingTransition.transitionMaterialUrl) {\r\n      //   this.$refs.videoTransition.pause()\r\n      // }\r\n      // 视频轨道暂停\r\n      this.videoPlay = false\r\n      this.submitVideo.pause()\r\n      const drrTarget = this.$refs.pictureDrr[0].$refs.drrTarget ? this.$refs.pictureDrr[0].$refs.drrTarget[0] : null\r\n      if (drrTarget && this.playingPicture[0].fileType === 'video') {\r\n        // 避免视频贴图播放时暂停后的无法再次播放\r\n        this.oldPictureIndex = null\r\n        drrTarget.pause()\r\n      }\r\n    },\r\n    handleVideoChange () {\r\n      // 设置播放地址\r\n      const newUrl = this.playingMaterial.playUrl\r\n      const oldUrl = this.lastPlayedMaterial.playUrl\r\n      const newTime = this.playingMaterial.trackStartTime\r\n      const oldTime = this.lastPlayedMaterial.trackStartTime\r\n      const current = this.playingMaterial.startTime + this.trackCurrentTime - this.playingMaterial.trackStartTime\r\n      this.currentTime = current\r\n      // 暂停中\r\n      if (!this.videoPlay) {\r\n        this.videoSrc = this.playingMaterial.playUrl\r\n        this.submitVideo.currentTime = current\r\n        return 1\r\n      }\r\n      // 播放中 需要更换视频源\r\n      if (newUrl !== oldUrl) {\r\n        this.videoSrc = this.playingMaterial.playUrl\r\n        this.submitVideo.src = this.playingMaterial.playUrl\r\n        this.submitVideo.currentTime = current\r\n        this.submitVideo.pause()\r\n        setTimeout(() => {\r\n          this.submitVideo.play()\r\n        }, 150)\r\n      }\r\n      // 播放中 无需更换视频源\r\n      if (newUrl === oldUrl && newTime !== oldTime) {\r\n        this.submitVideo.currentTime = current\r\n      }\r\n      // 智能编辑生成作品 实际视频长度与轨道长度不符 播放中 无需更换视频源\r\n      if (this.isEnd) {\r\n        this.submitVideo.currentTime = current\r\n        this.isEnd = false\r\n      }\r\n    },\r\n    handleSliderChange (current) {\r\n      // 滑块移动 进度条改变 相关数值需更新\r\n      this.trackCurrentTime = current\r\n      this.trackCurrentTimeString = formatDuration(this.trackCurrentTime)\r\n      this.getPlayingMaterial()\r\n      this.handleVideoChange()\r\n      this.drawCanvasCover()\r\n    },\r\n    handleBusinessTypeChange (target) {\r\n      // 业务分类改变\r\n      if (target * 1 === 1) {\r\n        // 选择教育时 内容分类只能为教育\r\n        this.realCategoryTypeList = []\r\n        this.realCategoryTypeList.push(this.educationType)\r\n        this.videoInfo.categoryId = 30\r\n        this.videoInfo.categoryName = '教育'\r\n      } else {\r\n        this.realCategoryTypeList = this.categoryTypeList\r\n      }\r\n    },\r\n    handleCategorySelelct (tagEnName) {\r\n      // 需根据内容分类index获取名称\r\n      let target = this.categoryTypeList.find(item => {\r\n        return item.tagEnName * 1 === tagEnName * 1\r\n      })\r\n      this.videoInfo.categoryName = target.tagCnName\r\n    },\r\n    handleTagDelete (index) {\r\n      this.videoInfo.tag.splice(index, 1)\r\n    },\r\n    handleAddTag () {\r\n      // 添加标签\r\n      // 去除输入中的空格\r\n      const tag = this.addTagName.replace(/\\s/g, '')\r\n      // 判断标签是否已存在\r\n      const index = this.videoInfo.tag.findIndex(item => {\r\n        return item === tag\r\n      })\r\n      if (index !== -1) {\r\n        this.$message({\r\n          type: 'warning',\r\n          message: '该标签已存在'\r\n        })\r\n      }\r\n      // 标签不存在 push\r\n      if (tag && index === -1) {\r\n        this.videoInfo.tag.push(tag)\r\n        this.addTagName = ''\r\n      }\r\n      this.addTagName = ''\r\n      this.$refs.videoInfo.validateField('tag')\r\n    },\r\n    handleUploadChange (file, fileList) {\r\n      // 本地上传添加\r\n      if (fileList.length > 1) {\r\n        fileList.splice(0, 1)\r\n      }\r\n    },\r\n    handleUploadSuccess (index, value) {\r\n      // 本地上传封面 根据index判断是横图/竖图\r\n      if (index) {\r\n        this.videoInfo.picV = value.url\r\n        this.loadingPicV = false\r\n        this.$refs.videoInfo.validateField('picV')\r\n      } else {\r\n        this.videoInfo.picH = value.url\r\n        this.loadingPicH = false\r\n        this.$refs.videoInfo.validateField('picH')\r\n      }\r\n    },\r\n    handleUploadBefore (index) {\r\n      // 本地上传封面前 根据index判断是横图/竖图并设置对应状态\r\n      if (index) {\r\n        this.loadingPicV = true\r\n      } else {\r\n        this.loadingPicH = true\r\n      }\r\n    },\r\n    handleUploadCanvas () {},\r\n    // 关闭接口\r\n    // handleUploadCanvas (value, target, index) { // target: 0 picH, 1 picV, 2 added, 3 selected\r\n      // 处理上传至CDN的图片\r\n      // const imageFile = this.transferBase64ToFile(value)\r\n      // let form = new FormData()\r\n      // form.append('file', imageFile)\r\n      // return this.$service.uploadCover(form).then(data => {\r\n      //   switch (target) {\r\n      //     case 0:\r\n      //       this.videoInfo.picH = data.url\r\n      //       break\r\n      //     case 1:\r\n      //       this.videoInfo.picV = data.url\r\n      //       break\r\n      //     case 2:\r\n      //       this.realAddedList[index].cover = data.url\r\n      //       break\r\n      //     case 3:\r\n      //       this.realSelectedList[index].cover = data.url\r\n      //       break\r\n      //   }\r\n      //   return true\r\n      // })\r\n    // },\r\n    handleSubmitValid () {\r\n      // 保存/提交剪辑前的检查\r\n      if (this.loadingSave) {\r\n        // 若还有数据尚在处理 不允许保存/提交\r\n        return false\r\n      }\r\n      // 保存/提交前需暂停视频播放\r\n      this.submitVideo.pause()\r\n      this.$refs.videoInfo.validate(valid => {\r\n        // 表单信息验证无误后 保存/提交剪辑\r\n        if (valid) {\r\n          this.handleVideoSubmit()\r\n        }\r\n      })\r\n    },\r\n    handleVideoSubmit () {\r\n      // 保存/提交剪辑\r\n      this.isLoading = true\r\n      let promiseContainer = []\r\n      promiseContainer.push(this.judgeCoverType())\r\n      promiseContainer.push(this.formatAllMaterial())\r\n      // 所有数据转换完成后 save\r\n      Promise.all(promiseContainer).then(() => {\r\n        // 关闭接口\r\n        // const params = this.getSaveParams()\r\n        // this.$service.saveClippedVideo(params).then(() => {\r\n        //   if (this.saveOrSubmit) {\r\n        //     this.$message({\r\n        //       type: 'success',\r\n        //       message: '提交剪辑成功！请在【短视频生产】-【剪辑队列】中确认'\r\n        //     })\r\n        //   } else {\r\n        //     this.$message({\r\n        //       type: 'success',\r\n        //       message: '保存作品成功！请在【短视频生产】-【我保存的作品】中确认'\r\n        //     })\r\n        //   }\r\n        //   this.isLoading = false\r\n        //   // 保存成功 关闭剪辑页面\r\n        //   this.$emit('all-close')\r\n        // })\r\n      }).catch(() => {\r\n        this.isLoading = false\r\n        this.$message.error('网络异常，请稍后再试')\r\n      })\r\n    },\r\n    transferBase64ToFile (base64) {\r\n      // 将base64类型的图片转化为文件类型\r\n      let arr = base64.split(',')\r\n      let mime = arr[0].match(/:(.*?);/)[1]\r\n      let str = atob(arr[1])\r\n      let n = str.length\r\n      let u8arr = new Uint8Array(n)\r\n      while (n--) {\r\n        u8arr[n] = str.charCodeAt(n)\r\n      }\r\n      return new File([u8arr], 'cover.jpg', { type: mime })\r\n    },\r\n    judgeCoverType () {\r\n      // 判断横图/竖图\r\n      const base64 = /base64/\r\n      const picH64 = base64.test(this.videoInfo.picH)\r\n      const picV64 = base64.test(this.videoInfo.picV)\r\n      let promiseContainer = []\r\n      if (picH64) {\r\n        promiseContainer.push(this.handleUploadCanvas(this.videoInfo.picH, 0))\r\n      }\r\n      if (picV64) {\r\n        promiseContainer.push(this.handleUploadCanvas(this.videoInfo.picV, 1))\r\n      }\r\n      return Promise.all(promiseContainer)\r\n    },\r\n    formatAllMaterial () {\r\n      // 数据规范化\r\n      this.loadingSave = true\r\n      let promiseContainer = []\r\n      // 视频轨道素材数据规范化\r\n      this.realSelectedList.forEach((item, index) => {\r\n        item.startTime = Math.floor(item.startTime)\r\n        item.endTime = Math.floor(item.endTime)\r\n        item.trackStartTime = Math.floor(item.trackStartTime)\r\n        item.trackEndTime = Math.floor(item.trackEndTime)\r\n        item.duration = Math.floor(item.duration)\r\n        if (/base64/.test(item.cover)) {\r\n          promiseContainer.push(this.handleUploadCanvas(item.cover, 3, index))\r\n        }\r\n      })\r\n      // 已选素材数据规范化\r\n      this.realAddedList.forEach((item, index) => {\r\n        item.duration = Math.floor(item.duration)\r\n        if (/base64/.test(item.cover)) {\r\n          promiseContainer.push(this.handleUploadCanvas(item.cover, 2, index))\r\n        }\r\n      })\r\n      // 需规范的其他轨道\r\n      const tracks = [\r\n        {\r\n          list: 'realPictureList',\r\n          length: this.realPictureList.length\r\n        },\r\n        {\r\n          list: 'realTextList',\r\n          length: this.realTextList.length\r\n        }\r\n      ]\r\n      // 多轨道的处理\r\n      for (let i = 0; i < tracks.length; i++) {\r\n        const listName = tracks[i].list\r\n        const length = tracks[i].length\r\n\r\n        // 无对应轨道素材时 跳过\r\n        if (!this[listName] || !length) {\r\n          continue\r\n        }\r\n\r\n        const lastMedia = this.realSelectedList[this.realSelectedList.length - 1]\r\n        for (let j = 0; j < length; j++) {\r\n          // 需处理超过视频轨道长度的其他轨道内容\r\n          // 获得第一个超过视频轨长度的当前轨道素材\r\n          const lastTrackIndex = this[listName][j].findIndex(item => {\r\n            return item.trackStartTime < lastMedia.trackEndTime && item.trackEndTime >= lastMedia.trackEndTime\r\n          })\r\n          // 当前为保存剪辑时 无需处理; 为提交剪辑时 需裁剪到视频轨道长度\r\n          if (lastTrackIndex !== -1 && this.saveOrSubmit) {\r\n            this[listName][j].splice(lastTrackIndex + 1)\r\n            this[listName][j][lastTrackIndex].trackEndTime = lastMedia.trackEndTime\r\n          }\r\n          // 其余的数据规范操作\r\n          this[listName][j].forEach(item => {\r\n            item.startSecond = Math.floor(item.trackStartTime)\r\n            item.endSecond = Math.floor(item.trackEndTime)\r\n            item.xAxis = Math.round(this.videoInfo.firstVideoH / this.videoFrame.width * item.nowXAxis)\r\n            item.yAxis = Math.round(this.videoInfo.firstVideoV / this.videoFrame.height * item.nowYAxis)\r\n            const width = Math.round(this.videoInfo.firstVideoH / this.videoFrame.width * item.width)\r\n            const height = Math.round(this.videoInfo.firstVideoV / this.videoFrame.height * item.height)\r\n            if (listName === 'realPictureList') {\r\n              item.mergeZoom = width + ':' + height\r\n              item.watermark = item.fileUrl\r\n            }\r\n          })\r\n        }\r\n      }\r\n      return Promise.all(promiseContainer).finally(() => {\r\n        // 规范化都完成后 更新loading状态为false\r\n        this.loadingSave = false\r\n      })\r\n    },\r\n    getDrrElement (name, drrName) {\r\n      // 设置drr的各项数值\r\n      for (let i = 0; i < this[name].length; i++) {\r\n        this.$store.commit('drrElementData', {\r\n          way: false,\r\n          isSubmit: true,\r\n          index: this[name + 'Index'][i],\r\n          target: this[name][i],\r\n          vm: this.$refs[drrName][0],\r\n          scale: {\r\n            width: this.widthScale,\r\n            height: this.heightScale\r\n          }\r\n        })\r\n      }\r\n    },\r\n    getPlayingMaterial () {\r\n      // 获取playing-\r\n      this.lastPlayedMaterial = Object.assign({}, this.playingMaterial)\r\n      this.tracks.forEach(track => {\r\n        this.getPlaying(track)\r\n      })\r\n    },\r\n    getPlaying (track) {\r\n      // 获取playing-\r\n      const trackCurrentTime = this.trackCurrentTime\r\n      const list = track.list\r\n      const target = track.target\r\n      let index = null\r\n      // if (list === 'realTransitionList') {\r\n      //   this[list] = Various.transitionList\r\n      // }\r\n      // 兼容未多轨道化的视频轨道\r\n      if (list === 'realSelectedList') {\r\n        index = this[list].findIndex(item => {\r\n          return item.trackStartTime <= trackCurrentTime && item.trackEndTime > trackCurrentTime\r\n        })\r\n        this[target] = index === -1 ? undefined : this[list][index]\r\n        // 避免手动移到播放末尾造成的再播放错误问题\r\n        if (!this[target]) {\r\n          this[target] = this[list][0]\r\n        }\r\n      } else {\r\n        // 记录同类型多轨道的playing-\r\n        let tempTargetList = []\r\n        let tempIndexIndex = []\r\n\r\n        for (let i = 0; i < this[list].length; i++) {\r\n          if (!this[list][i]) {\r\n            continue\r\n          }\r\n          index = this[list][i].findIndex(item => {\r\n            return item.trackStartTime <= trackCurrentTime && item.trackEndTime > trackCurrentTime\r\n          })\r\n          const target = index === -1 ? undefined : this[list][i][index]\r\n          tempTargetList.push(target)\r\n          tempIndexIndex.push(index)\r\n        }\r\n        this[target] = tempTargetList\r\n        this[target + 'Index'] = tempIndexIndex\r\n      }\r\n    },\r\n    getSaveParams () {\r\n      // 设置需保存的字段\r\n      let params = { ...this.videoInfo }\r\n      params.tag = this.videoInfo.tag.toString()\r\n      params.rlsList = this.realSelectedList\r\n      params.rlsVideos = this.realAddedList\r\n      // 贴图轨道实际上为单轨\r\n      params.pics = this.realPictureList[0]\r\n      // params.transitionsDTOS = Various.transitionList\r\n      params.transitionsDTOS = []\r\n      params.textDTOS = this.realTextList\r\n      return params\r\n    },\r\n    getCoverByVideo () {\r\n      // 获取封面 - 横图竖图\r\n      let canvasH = document.createElement('canvas')\r\n      let canvasV = document.createElement('canvas')\r\n      let video = this.submitVideo\r\n      const vWidth = video.videoWidth / 3\r\n      const vheight = video.videoHeight\r\n      canvasH.width = 640\r\n      canvasH.height = 360\r\n      canvasV.width = 640 / 3\r\n      canvasV.height = 360\r\n      canvasH.getContext('2d').drawImage(video, 0, 0, canvasH.width, canvasH.height)\r\n      canvasV.getContext('2d').drawImage(video, vWidth, 0, vWidth, vheight, 0, 0, canvasV.width, canvasV.height)\r\n      this.videoInfo.picH = canvasH.toDataURL('image/jpeg')\r\n      this.videoInfo.picV = canvasV.toDataURL('image/jpeg')\r\n      this.$refs.videoInfo.validateField('picV')\r\n      this.$refs.videoInfo.validateField('picH')\r\n    },\r\n    getReverseIndex (index, length) {\r\n      // 获得数组反转后原index对应的现index\r\n      return length - 1 + index + index * (-2)\r\n    },\r\n    getAdviceTag () {},\r\n    // 关闭接口\r\n    // getAdviceTag () {\r\n    //   // 智能标签获取\r\n    //   const target = this.realSelectedList.find(item => {\r\n    //     // 获取非本地上传素材的coocaaVId\r\n    //     return item.coocaaVId * 1 !== -1\r\n    //   })\r\n    //   this.$service.getAdviceTag({ coocaaVId: target.coocaaVId }).then(data => {\r\n    //     if (!data.data.length) {\r\n    //       this.$message({\r\n    //         type: 'warning',\r\n    //         message: '素材暂无智能标签'\r\n    //       })\r\n    //     } else {\r\n    //       this.$message({\r\n    //         type: 'success',\r\n    //         message: '智能标签获取成功，已进行重复剔除'\r\n    //       })\r\n    //       // 剔除重复标签\r\n    //       const list = data.data.split(',')\r\n    //       for (let i = 0; i < list.length; i++) {\r\n    //         const tag = this.videoInfo.tag.find(item => {\r\n    //           return list[i] === item\r\n    //         })\r\n    //         if (!tag) {\r\n    //           this.videoInfo.tag.push(list[i])\r\n    //         }\r\n    //       }\r\n    //     }\r\n    //   }).catch(() => {\r\n    //     this.$message({\r\n    //       type: 'warning',\r\n    //       message: '素材暂无智能标签'\r\n    //     })\r\n    //   })\r\n    // },\r\n    initForm () {\r\n      // 编辑入口进入 同步先前数据\r\n      this.videoInfo = { ...this.formInfo }\r\n      if (this.videoInfo.tag.length === 1 && this.videoInfo.tag[0] === '') {\r\n        this.videoInfo.tag.pop()\r\n      }\r\n      this.isLoadingSelect = false\r\n    },\r\n    initData () {\r\n      // 保存/提交剪辑弹窗的信息初始化\r\n      let lastMaterial = this.realSelectedList[this.realSelectedList.length - 1]\r\n      this.videoInfo.videoType = this.saveOrSubmit\r\n      this.videoInfo.duration = lastMaterial.trackEndTime\r\n      this.trackDuration = Math.floor(lastMaterial.trackEndTime)\r\n      this.playingMaterial = this.realSelectedList[0]\r\n      this.videoSrc = this.realSelectedList[0].playUrl\r\n      this.currentTime = Math.round(this.realSelectedList[0].startTime)\r\n    },\r\n    initDrrScale () {\r\n      // 获取宽高比例 用于纠正drr的坐标及缩放显示\r\n      this.widthScale = 640 / this.videoFrame.width\r\n      this.heightScale = 360 / this.videoFrame.height\r\n    },\r\n    fetchData () {\r\n      // 关闭接口\r\n      // 获取业务分类与内容分类\r\n      // this.$service.queryMaterialResource().then(data => {\r\n      //   this.businessTypeList = data.businessType\r\n      //   this.categoryTypeList = data.categoryType\r\n      //   this.categoryTypeList.push(this.educationType)\r\n      //   this.realCategoryTypeList = this.categoryTypeList\r\n      // })\r\n    },\r\n    stopCanvasVideo () {\r\n      clearInterval(this.canvasTimer)\r\n    },\r\n    drawCanvasVideo () {\r\n      // 绘制一帧视频\r\n      let canvasVideo = this.canvasVideo\r\n      let ctx = canvasVideo.getContext('2d')\r\n      let video = this.submitVideo\r\n      // let videoTransition = this.$refs.videoTransition\r\n      canvasVideo.width = 1280\r\n      canvasVideo.height = 720\r\n      this.canvasTimer = setInterval(() => {\r\n        ctx.drawImage(video, 0, 0, canvasVideo.width, canvasVideo.height)\r\n        // if (this.playingTransition) {\r\n        //   ctx.drawImage(videoTransition, 0, 0, canvasVideo.width, canvasVideo.height)\r\n        // }\r\n      }, 40)\r\n    },\r\n    drawCanvasCover () {\r\n      // 绘制视频\r\n      let canvasVideo = this.canvasVideo\r\n      let ctx = canvasVideo.getContext('2d')\r\n      let video = this.submitVideo\r\n      // let videoTransition = this.$refs.videoTransition\r\n      canvasVideo.width = 1280\r\n      canvasVideo.height = 720\r\n      ctx.drawImage(video, 0, 0, canvasVideo.width, canvasVideo.height)\r\n      // if (this.playingTransition) {\r\n      //   videoTransition.palybackRate = this.playingTransition.palybackRate\r\n      //   videoTransition.currentTime = this.trackCurrentTime - this.playingTransition.trackStartTime\r\n      //   ctx.drawImage(videoTransition, 0, 0, canvasVideo.width, canvasVideo.height)\r\n      // }\r\n      this.isVideoLoading = false\r\n    }\r\n  },\r\n  created () {\r\n    // 设置需要的数组\r\n    this.realSelectedList = this.isHighlight ? JSON.parse(JSON.stringify(this.highlightList)) : JSON.parse(JSON.stringify(this.materialTrackList))\r\n    this.realAddedList = this.isHighlight ? JSON.parse(JSON.stringify(this.highlightList)) : JSON.parse(JSON.stringify(this.materialTabList))\r\n    this.realPictureList = this.pictureTrackList ? JSON.parse(JSON.stringify(this.pictureTrackList)) : []\r\n    this.realTextList = this.textTrackList ? JSON.parse(JSON.stringify(this.textTrackList)) : []\r\n    this.reversePictureList = this.pictureTrackList ? JSON.parse(JSON.stringify(this.pictureTrackList)).reverse() : []\r\n    this.reverseTextList = this.textTrackList ? JSON.parse(JSON.stringify(this.textTrackList)).reverse() : []\r\n    // 获取接口数据\r\n    this.fetchData()\r\n    if (this.editId) {\r\n      // 编辑入口进入 需同步先前数据\r\n      this.isLoadingSelect = true\r\n      this.initForm()\r\n    }\r\n    // 规范化数组数据\r\n    this.formatAllMaterial()\r\n    // 根据saveOrSubmit动态显示文本\r\n    if (this.saveOrSubmit) {\r\n      this.dialogTitle = '提交剪辑'\r\n      this.buttonText = '确认提交'\r\n    } else {\r\n      this.dialogTitle = '保存剪辑'\r\n      this.buttonText = '确认保存'\r\n    }\r\n\r\n    if (!this.isHighlight) {\r\n      // 智能识别入口进入 作品类型只允许为短视频\r\n      this.productTypeList.pop()\r\n    }\r\n  },\r\n  mounted () {\r\n    // 初始化数据\r\n    this.initData()\r\n    this.$nextTick(() => {\r\n      this.submitVideo = this.$refs.submitVideo\r\n      this.canvasVideo = this.$refs.canvasVideo\r\n      if (!this.isHighlight) {\r\n        // 非智能识别入口进入 需获取drr比例\r\n        this.initDrrScale()\r\n      }\r\n      // 自动播放\"剪辑\"后的视频\r\n      this.handleVideoPlay()\r\n    })\r\n  }\r\n}\r\n</script>\r\n<style lang=\"stylus\" scoped>\r\n.submit-video-container\r\n  padding 0px !important\r\n  width 640px\r\n  background #000\r\n.video-frame\r\n  width inherit\r\n  height 360px\r\n  canvas\r\n    width 100%\r\n    height 100%\r\n.submit-video\r\n  width 100%\r\n  height 100%\r\n.resizable-container\r\n  position absolute\r\n  top 0px\r\n  width inherit\r\n  height 370px\r\n  overflow hidden\r\n.resizable-style\r\n  position absolute\r\n  z-index 2\r\n  video\r\n    width inherit\r\n    height inherit\r\n    object-fit fill\r\n  .el-image\r\n    width inherit\r\n    height inherit\r\n.video-controls\r\n  position relative\r\n  margin-top 10px\r\n.controls-icons\r\n  >>>.el-image\r\n    width 18px\r\n    height 18px\r\n    cursor pointer\r\n.controls-duration\r\n  position absolute\r\n  top 0px\r\n  left 30px\r\n.video-slider\r\n  >>>.el-slider__button\r\n    width 10px !important\r\n    height 10px !important\r\n.auto-tag-button\r\n  margin-right 10px\r\n.tags-container\r\n  margin-top 18px\r\n  padding-left 90px\r\n.dialog-tag\r\n  display inline-block\r\n  margin 0px 20px 10px 0px\r\n  padding 0px 12px\r\n  height 25px\r\n  line-height 25px\r\n  font-size 13px\r\n  color #ef6139\r\n  border 1px solid #ccc\r\n  border-radius 5px\r\n  background #f2f2f2\r\n.el-icon-close\r\n  cursor pointer\r\n.tag-input\r\n  padding-left 90px\r\n  width -webkit-fill-available\r\n.my-error\r\n  margin-left 90px\r\n.cover-source\r\n  margin-right 20px\r\n  vertical-align top\r\n  .cover-by-canvas\r\n    cursor pointer\r\n    &:hover,\r\n    &:focus\r\n      color #26CB51\r\n.avatar-uploader\r\n  display inline-block\r\n  margin-right 10px\r\n  border 1px dashed #d9d9d9\r\n  border-radius 6px\r\n  overflow hidden\r\n  cursor pointer\r\n  &:hover,\r\n  &:focus\r\n    border-color #26CB51\r\n.horizontal-cover-uploader\r\n  margin-left 90px\r\n.horizontal-cover-uploader, .horizontal-cover, .horizontal-cover-icon\r\n  width 203px\r\n  height 114px\r\n.vertical-cover-uploader, .vertical-cover, .vertical-cover-icon\r\n  width 68px\r\n  height 114px\r\n.el-icon-plus\r\n  line-height 114px\r\n  font-size 28px\r\n  color #333\r\n  &:hover,\r\n  &:focus\r\n    color #26CB51\r\n.pic-style\r\n  display inline-block\r\n  margin-bottom 0px\r\n.cover-message\r\n  padding-left 90px\r\n.submit-button-group\r\n  margin-top 15px\r\n</style>\r\n<style lang=\"stylus\" scoped>\r\n.submit-dialog\r\n  >>>.el-dialog\r\n    margin-top 5vh !important\r\n    // height 90vh\r\n    border-radius 10px\r\n    .el-dialog__body\r\n      padding 30px 10px\r\n      height auto\r\n.input-inner\r\n  >>>.el-input__inner\r\n    border 0px\r\n    border-bottom 1px solid #000\r\n    border-radius 0px\r\n  >>>.el-form-item__content\r\n    display inline-block\r\n>>>.el-form\r\n  .el-form-item__label\r\n    width 95px\r\n    text-align right\r\n  .el-form-item__error\r\n    left 90px\r\n    width max-content\r\n.works-title\r\n  >>>.el-form-item__error\r\n    left 0px\r\n.picV-style\r\n  >>>.el-form-item__error\r\n    left 0px\r\n.pic-style\r\n  >>>.el-form-item__error\r\n    margin-top -10px\r\n.submit-button-group\r\n  >>>.el-button\r\n    margin-left 15px\r\n    width 80px\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SubmitClip.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SubmitClip.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SubmitClip.vue?vue&type=template&id=3b6c71b9&scoped=true&\"\nimport script from \"./SubmitClip.vue?vue&type=script&lang=js&\"\nexport * from \"./SubmitClip.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SubmitClip.vue?vue&type=style&index=0&id=3b6c71b9&lang=stylus&scoped=true&\"\nimport style1 from \"./SubmitClip.vue?vue&type=style&index=1&id=3b6c71b9&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3b6c71b9\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"message\"},[_c('span',[_vm._v(\"功能开发中\")])])])}]\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./TempMessage.vue?vue&type=template&id=64763dce&scoped=true&\"\nvar script = {}\nimport style0 from \"./TempMessage.vue?vue&type=style&index=0&id=64763dce&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"64763dce\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('ul',{staticClass:\"ul-style\"},[_c('li',{on:{\"click\":_vm.handleTrackAdd}},[_c('i',{staticClass:\"el-icon-plus\"}),_c('span',[_vm._v(\" 添加\"+_vm._s(_vm.text)+\"轨\")])]),_c('li',{on:{\"click\":_vm.handleTrackDelete}},[_c('i',{staticClass:\"el-icon-minus\"}),_c('span',[_vm._v(\" 删除\"+_vm._s(_vm.text)+\"轨\")])]),_c('li',{on:{\"click\":_vm.handleTrackCopy}},[_c('i',{staticClass:\"el-icon-copy-document\"}),_c('span',[_vm._v(\" 复制当前轨道\")])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <ul class=\"ul-style\">\r\n      <li @click=\"handleTrackAdd\">\r\n        <i class=\"el-icon-plus\"></i>\r\n        <span> 添加{{ text }}轨</span>\r\n      </li>\r\n      <li @click=\"handleTrackDelete\">\r\n        <i class=\"el-icon-minus\"></i>\r\n        <span> 删除{{ text }}轨</span>\r\n      </li>\r\n      <li @click=\"handleTrackCopy\">\r\n        <i class=\"el-icon-copy-document\"></i>\r\n        <span> 复制当前轨道</span>\r\n      </li>\r\n    </ul>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { mapState } from 'vuex'\r\nexport default {\r\n  props: {\r\n    index: {\r\n      type: Number,\r\n      default: null\r\n    },\r\n    iconWidth: {\r\n      type: Number,\r\n      default: null\r\n    },\r\n    text: {\r\n      type: String,\r\n      default: null\r\n    },\r\n    name: {\r\n      type: String,\r\n      default: null\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState({\r\n      pictureTrackList: state => state.pictureTrackList,\r\n      textTrackList: state => state.textTrackList\r\n    }),\r\n    listName: function () {\r\n      return this.name + 'TrackList'\r\n    }\r\n  },\r\n  methods: {\r\n    handleTrackAdd () {\r\n      // 多轨道 - 添加空白轨道\r\n      if (this.judgeTrackSubLimit(5)) {\r\n        this.$store.commit('trackAdd', { name: this.name, index: this.index, list: this.listName, vm: this })\r\n      }\r\n    },\r\n    handleTrackDelete () {\r\n      // 多轨道 - 删除当前轨道\r\n      if (this[this.listName].length === 1) {\r\n        this.$message({\r\n          type: 'warning',\r\n          message: '删除失败，该类型轨道必须存在一条'\r\n        })\r\n        return false\r\n      }\r\n      this.$store.commit('trackDelete', { name: this.name, index: this.index, list: this.listName, vm: this })\r\n    },\r\n    handleTrackCopy () {\r\n      // 多轨道 - 复制当前轨道\r\n      if (this.judgeTrackSubLimit(5)) {\r\n        this.$store.commit('trackCopy', { name: this.name, index: this.index, list: this.listName, vm: this })\r\n      }\r\n    },\r\n    judgeTrackSubLimit (amount) {\r\n      if (this[this.listName].length === amount) {\r\n        this.$message({\r\n          type: 'warning',\r\n          message: '添加失败，该类型轨道条数已达上限'\r\n        })\r\n        return false\r\n      }\r\n      return true\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"stylus\" scoped>\r\n.ul-style\r\n  margin 0px\r\n  padding 10px\r\n  width max-content\r\n  text-align right\r\n  font-size 14px\r\n  i:not(.el-icon-copy-document)\r\n    width 28px\r\n    text-align left\r\n  li\r\n    &:hover\r\n      color #26CB51\r\n      cursor pointer\r\nli::marker\r\n  font-size 0px\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MultiTracksUl.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MultiTracksUl.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MultiTracksUl.vue?vue&type=template&id=02bdaa5b&scoped=true&\"\nimport script from \"./MultiTracksUl.vue?vue&type=script&lang=js&\"\nexport * from \"./MultiTracksUl.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MultiTracksUl.vue?vue&type=style&index=0&id=02bdaa5b&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"02bdaa5b\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"material-tab\"},[_c('div',{staticClass:\"material-container\"},[_c('Draggable',{attrs:{\"list\":_vm.materialTabList,\"sort\":false,\"group\":{ name: 'media', pull: 'clone', put: false },\"clone\":_vm.handleMediaClone},on:{\"start\":_vm.handleMaterialAddBefore,\"end\":_vm.handleMaterialAdd}},_vm._l((_vm.materialTabList),function(material,index){return _c('div',{key:material.id + '' + material.startTime + material.endTime + index,staticClass:\"lastest-info\",on:{\"mouseover\":function($event){_vm.mouseTarget = index},\"mouseout\":function($event){_vm.mouseTarget = null}}},[_c('el-image',{attrs:{\"src\":material.cover}}),_c('i',{staticClass:\"el-icon-delete material-delete\",style:({\n            display: _vm.mouseTarget === index ? 'block' : 'none'\n          }),attrs:{\"title\":\"删除\"},on:{\"click\":function($event){return _vm.handleMaterialDelete(index)}}}),_c('i',{staticClass:\"el-icon-circle-plus-outline material-add\",style:({\n            display: _vm.mouseTarget === index ? 'block' : 'none'\n          }),attrs:{\"title\":\"添加\"},on:{\"click\":function($event){return _vm.handleIconAdd(material, index)}}}),_c('div',{staticClass:\"material-duration\"},[_c('span',[_vm._v(_vm._s(_vm.getDuration(material.frameDuration)))])]),_c('el-tooltip',{attrs:{\"disabled\":material.videoTitle.length < 14,\"placement\":\"bottom-start\",\"content\":material.videoTitle}},[_c('div',{staticClass:\"material-title\"},[_c('span',[_vm._v(_vm._s(material.videoTitle))])])])],1)}),0)],1),_c('div',{staticClass:\"methods-area\"},[_c('div',{staticClass:\"methods-button-group\"},[_c('el-button',{staticClass:\"methods-button\",on:{\"click\":function($event){return _vm.$emit('show-material-dialog')}}},[_vm._v(\"添加素材\")]),_c('el-upload',{ref:\"materialUpload\",staticClass:\"location-upload\",attrs:{\"accept\":\".mp4\",\"action\":_vm.uploadAction,\"disabled\":_vm.isUploading,\"multiple\":false,\"show-file-list\":false,\"before-upload\":_vm.judgeUploadType,\"on-success\":_vm.handleUploadSuccess}},[_c('el-button',{staticClass:\"methods-button\",attrs:{\"disabled\":_vm.isUploading}},[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isUploading),expression:\"!isUploading\"}]},[_vm._v(\"本地上传\")]),_c('Loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isUploading),expression:\"isUploading\"}],attrs:{\"color\":\"#26CB51\",\"type\":2}})],1)],1),_c('span',{staticClass:\"message\"},[_vm._v(\" *本地上传功能开发中\")])],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"loading-container\",style:({\n    color: _vm.color,\n    'padding-left': '15px'\n  })},[(_vm.type === 1)?_c('div',{staticClass:\"type-one\"}):_vm._e(),(_vm.type === 2)?_c('div',{staticClass:\"type-four\"},[_c('div',{staticClass:\"type-four-one\"}),_c('div',{staticClass:\"type-four-two\"}),_c('div',{staticClass:\"type-four-three\"})]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div\r\n    class=\"loading-container\"\r\n    :style=\"{\r\n      color: color,\r\n      'padding-left': '15px'\r\n    }\"\r\n  >\r\n    <div v-if=\"type === 1\" class=\"type-one\"></div>\r\n    <div v-if=\"type === 2\" class=\"type-four\">\r\n      <div class=\"type-four-one\"></div>\r\n      <div class=\"type-four-two\"></div>\r\n      <div class=\"type-four-three\"></div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  props: {\r\n    color: {\r\n      type: String,\r\n      default: '#ef6139'\r\n    },\r\n    type: {\r\n      type: Number,\r\n      default: 1\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"stylus\" scoped>\r\nborder-one = .4vw\r\nwidth-three = 10px\r\n\r\n.loading-container\r\n  div\r\n    width 15px\r\n    height 15px\r\n    transition all .5s\r\n@keyframes loader-one\r\n  0%\r\n    transform rotate(0deg)\r\n  100%\r\n    transform rotate(360deg)\r\n.type-one\r\n  position relative\r\n  width 15px\r\n  height 15px\r\n  border border-one solid transparent\r\n  border-top-color currentColor\r\n  border-radius 50%\r\n  animation 1s loader-one linear infinite\r\n.type-one:before\r\n  content ''\r\n  display block\r\n  position absolute\r\n  top -(border-one)\r\n  left -(border-one)\r\n  width 15px\r\n  height 15px\r\n  border border-one solid currentColor\r\n  border-radius 50%\r\n  opacity .5\r\n\r\n@keyframes loader-four\r\n  0%, 100%\r\n    transform scale(.9)\r\n  50%\r\n    transform scale(0)\r\n.type-four\r\n  position relative\r\n  width fit-content !important\r\n.type-four-one,\r\n.type-four-two,\r\n.type-four-three\r\n  display inline-block\r\n  width width-three !important\r\n  height width-three !important\r\n  border-radius 50%\r\n  background currentcolor\r\n  animation 1.2s loader-four ease-in-out infinite\r\n.type-four-two\r\n  position absolute\r\n  left width-three * 1.3\r\n  animation-delay .2s\r\n.type-four-three\r\n  position absolute\r\n  left width-three * 2.6\r\n  animation-delay .4s\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Loading.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Loading.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Loading.vue?vue&type=template&id=ea5f889a&scoped=true&\"\nimport script from \"./Loading.vue?vue&type=script&lang=js&\"\nexport * from \"./Loading.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Loading.vue?vue&type=style&index=0&id=ea5f889a&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ea5f889a\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"material-tab\">\r\n    <div class=\"material-container\">\r\n      <Draggable\r\n        :list=\"materialTabList\"\r\n        :sort=\"false\"\r\n        :group=\"{ name: 'media', pull: 'clone', put: false }\"\r\n        :clone=\"handleMediaClone\"\r\n        @start=\"handleMaterialAddBefore\"\r\n        @end=\"handleMaterialAdd\"\r\n      >\r\n        <div\r\n          v-for=\"(material, index) in materialTabList\"\r\n          :key=\"material.id + '' + material.startTime + material.endTime + index\"\r\n          class=\"lastest-info\"\r\n          @mouseover=\"mouseTarget = index\"\r\n          @mouseout=\"mouseTarget = null\"\r\n        >\r\n          <el-image :src=\"material.cover\"></el-image>\r\n          <!-- <video\r\n            crossOrigin=\"*\"\r\n            :src=\"material.playUrl\"\r\n            :poster=\"material.cover\"\r\n            :ref=\"'video' + index\"\r\n            muted\r\n          ></video> -->\r\n          <i\r\n            class=\"el-icon-delete material-delete\"\r\n            :style=\"{\r\n              display: mouseTarget === index ? 'block' : 'none'\r\n            }\"\r\n            title=\"删除\"\r\n            @click=\"handleMaterialDelete(index)\"\r\n          ></i>\r\n          <i\r\n            :style=\"{\r\n              display: mouseTarget === index ? 'block' : 'none'\r\n            }\"\r\n            class=\"el-icon-circle-plus-outline material-add\"\r\n            title=\"添加\"\r\n            @click=\"handleIconAdd(material, index)\"\r\n          ></i>\r\n          <div class=\"material-duration\">\r\n            <span>{{ getDuration(material.frameDuration) }}</span>\r\n          </div>\r\n          <el-tooltip :disabled=\"material.videoTitle.length < 14\" placement=\"bottom-start\" :content=\"material.videoTitle\">\r\n            <div class=\"material-title\"><span>{{ material.videoTitle }}</span></div>\r\n          </el-tooltip>\r\n        </div>\r\n      </Draggable>\r\n    </div>\r\n    <div class=\"methods-area\">\r\n      <div class=\"methods-button-group\">\r\n        <el-button class=\"methods-button\" @click=\"$emit('show-material-dialog')\">添加素材</el-button>\r\n        <el-upload\r\n          class=\"location-upload\"\r\n          accept=\".mp4\"\r\n          ref=\"materialUpload\"\r\n          :action=\"uploadAction\"\r\n          :disabled=\"isUploading\"\r\n          :multiple=\"false\"\r\n          :show-file-list=\"false\"\r\n          :before-upload=\"judgeUploadType\"\r\n          :on-success=\"handleUploadSuccess\"\r\n        >\r\n          <el-button class=\"methods-button\" :disabled=\"isUploading\">\r\n            <span v-show=\"!isUploading\">本地上传</span>\r\n            <Loading v-show=\"isUploading\" color=\"#26CB51\" :type=\"2\"></Loading>\r\n          </el-button>\r\n        </el-upload>\r\n        <span class=\"message\"> *本地上传功能开发中</span>\r\n        <!-- <span class=\"message\"> 本地仅支持上传MP4格式视频</span> -->\r\n      </div>\r\n      <!-- 本期不实现 -->\r\n      <!-- <div class=\"methods-scan-way\">\r\n        <i class=\"el-icon-s-fold\"></i>\r\n        <i class=\"el-icon-menu\"></i>\r\n      </div> -->\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport Draggable from 'vuedraggable'\r\nimport Loading from '../Loading'\r\nimport { formatDuration } from '@/components/onlineClip/global/functions'\r\nimport { mapState } from 'vuex'\r\nexport default {\r\n  components: {\r\n    Draggable,\r\n    Loading\r\n  },\r\n  props: {\r\n    editId: {\r\n      type: Number,\r\n      default: null\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      isLimit: false,\r\n      mouseTarget: null,\r\n      loadingImage: require('@/assets/material1004.png'),\r\n      uploadAction: '',\r\n      // 关闭接口\r\n      // uploadAction: 'api/ccVideoProduction/uploadVideo.html'\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState({\r\n      trackScale: state => state.trackScale,\r\n      defaultMaterialHeight: state => state.defaultMaterialHeight,\r\n      trackDuration: state => state.trackDuration,\r\n      materialFileLastLength: state => state.materialFileLastLength,\r\n      operationIndex: state => state.operationIndex,\r\n      operationName: state => state.operationName,\r\n      isMaterialUploading: state => state.isMaterialUploading,\r\n      isEditMaterialUploading: state => state.isEditMaterialUploading,\r\n      isCloseClip: state => state.isCloseClip,\r\n      selected: state => state.selected,\r\n      materialTabList: state => state.materialTabList,\r\n      materialFileList: state => state.materialFileList,\r\n      materialTrackList: state => state.materialTrackList,\r\n      materialTrackWidth: state => state.materialTrackWidth\r\n    }),\r\n    isUploading: function () {\r\n      return this.editId ? this.isEditMaterialUploading : this.isMaterialUploading\r\n    }\r\n  },\r\n  watch: {\r\n    materialFileList: function (val) {\r\n      // 监听 - 文件列表 用于判断新增的本地文件应该加到哪个数组中\r\n\r\n      if (val.length <= this.materialFileLastLength) {\r\n        // 不是新增 不处理 但需记录文件数组长度\r\n        this.$store.commit('updateValue', { name: 'materialFileLastLength', value: val.length })\r\n        return true\r\n      }\r\n\r\n      const data = val[val.length - 1]\r\n      if (this.isCloseClip) {\r\n        // 选择本地上传后 有退出过剪辑页面后再进入当前页面\r\n        if (!this.editId) {\r\n          // 当前页面为新建剪辑页面\r\n          this.$store.commit('updateArrayAdd', { name: 'materialTabList', value: data })\r\n        } else {\r\n          // 当前页面为编辑剪辑页面 - 上个页面退出前已进行数据处理\r\n        }\r\n        this.$store.commit('updateValue', { name: 'isCloseClip', value: false })\r\n      } else {\r\n        // 选择本地上传后 没有退出过剪辑 一直停留在当前页面\r\n        this.$store.commit('updateArrayAdd', { name: 'materialTabList', value: data })\r\n      }\r\n      // 记录文件数组长度 用于下次的比对\r\n      this.$store.commit('updateValue', { name: 'materialFileLastLength', value: val.length })\r\n    },\r\n    materialTabList: function (val) {\r\n      // 已选素材变化时 需要检查是否有cover\r\n      this.$nextTick(() => {\r\n        this.getMaterialLoad(val)\r\n      })\r\n    },\r\n    materialTrackList: function (val) {\r\n      // 视频轨道素材发生变化时 需要更新trackDuration\r\n      this.$nextTick(() => {\r\n        const trackEndTime = val.length > 0 ? val[val.length - 1].trackEndTime : 0\r\n        if (trackEndTime === undefined) {\r\n          return true\r\n        }\r\n        this.judgeTrackDuration(trackEndTime)\r\n      })\r\n    }\r\n  },\r\n  methods: {\r\n    handleMediaClone (e) {\r\n      // 拖拽深拷贝\r\n      return { ...e }\r\n    },\r\n    handleMaterialAddBefore (e) {\r\n      // 进行轨道素材添加前的条件判断\r\n      const duration = this.trackDuration\r\n      const material = this.materialTabList[e.oldIndex]\r\n      // 时长条件\r\n      if (duration + material.frameDuration > 5400) {\r\n        this.$message('添加后轨道素材将超过时长上限(1.5小时)，请进行剪删操作后再添加')\r\n        this.isLimit = true\r\n        return false\r\n      }\r\n      // 加载条件\r\n      if (material.cover.indexOf('material1004') !== -1) {\r\n        this.$message('素材加载中，暂不可用')\r\n        this.isLimit = true\r\n        return false\r\n      }\r\n    },\r\n    handleMaterialAdd (e) {\r\n      // 进行轨道素材添加\r\n      if (e.from === e.to) {\r\n        // 不允许同一列表的自我添加\r\n        return false\r\n      }\r\n      if (this.isLimit) {\r\n        // 若不符合轨道素材添加条件 删除自动添加的数据\r\n        this.$store.commit('updateArrayDelete', { name: 'materialTrackList', index: e.newIndex, amount: 1 })\r\n        this.isLimit = false\r\n        return false\r\n      }\r\n\r\n      const targetIndex = e.newIndex\r\n      const indexCount = this.materialTrackList.length - 1\r\n      let materialTrackList = this.materialTrackList\r\n      let material = this.materialTrackList[targetIndex]\r\n      let target = ''\r\n\r\n      const duration = material.frameDuration\r\n\r\n      // 更新选择块duration属性及对应track宽度\r\n      this.$store.commit('updateObjectAttribute', { name: 'selected', attr: 'duration', value: duration })\r\n      this.$store.commit('updateValue', { name: 'materialTrackWidth', value: this.materialTrackWidth + duration * this.trackScale })\r\n\r\n      if (targetIndex === indexCount) {\r\n        // 添加在末尾 不涉及其他轨道块的重绘\r\n        target = document.getElementById('clip' + targetIndex)\r\n      } else {\r\n        // 添加在其他位置 需对数据改变涉及的其他轨道块进行重绘\r\n        for (let i = indexCount; i > targetIndex; i--) {\r\n          let before = document.getElementById('clip' + (i - 1))\r\n          let after = document.getElementById('clip' + i)\r\n          // 更新显示样式\r\n          this.updateStyle(before, after)\r\n          // 更新数据\r\n          this.$store.commit('updateMateriaTime', { duration: duration, index: i, operator: 1 })\r\n        }\r\n        target = document.getElementById('clip' + targetIndex)\r\n      }\r\n\r\n      // 设置添加的轨道块样式\r\n      target.style.width = duration * this.trackScale + 'px'\r\n      target.style.height = this.defaultMaterialHeight + 'px'\r\n      target.style.backgroundImage = 'url(' + material.cover + ')'\r\n      target.style.backgroundSize = 'auto 100%'\r\n      // 设置添加的轨道块数据\r\n      const time = targetIndex ? materialTrackList[targetIndex - 1].trackEndTime : 0\r\n      const value = {\r\n        trackStartTime: time,\r\n        trackEndTime: time + duration,\r\n        startTime: material.startFrame,\r\n        endTime: material.endFrame\r\n      }\r\n      for (let key in value) {\r\n        this.$store.commit('updateArrayObjectAttr', { name: 'materialTrackList', index: targetIndex, attr: key, value: value[key] })\r\n      }\r\n\r\n      // 更新各时长及选中\r\n      this.judgeTrackDuration(this.materialTrackList[indexCount].trackEndTime)\r\n      this.$emit('selected-click', target, targetIndex, 'materialTrackList')\r\n\r\n      // 若当前添加的为第一个 更新视频数据及绘制播放区域图片\r\n      if (this.materialTrackList.length === 1) {\r\n        this.$emit('video-data', material.playUrl, 0)\r\n        this.$emit('video-cover', this.materialTrackList[0].startFrame)\r\n      }\r\n      // 更新转场\r\n      // this.$store.commit('updateValue', { name: 'operationName', value: 'add' })\r\n      // this.$store.commit('updateValue', { name: 'operationIndex', value: targetIndex })\r\n    },\r\n    handleMaterialDelete (index) {\r\n      // 已选素材删除\r\n      const target = this.materialTabList[index]\r\n      // 判断是否在轨道素材中使用\r\n      const onTrack = this.materialTrackList.find(item => {\r\n        return item.coocaaMId === target.coocaaMId && item.startFrame === target.startFrame && item.endFrame === target.endFrame\r\n      })\r\n      if (onTrack) {\r\n        this.$message({\r\n          type: 'warning',\r\n          message: '该素材已在轨道中使用，不可删除'\r\n        })\r\n        return false\r\n      }\r\n      // 区分是否为本地视频 本地视频coocaaVId为-1\r\n      if (target.coocaaVId * 1 === -1) {\r\n        const fileIndex = this.materialFileList.findIndex(item => {\r\n          return item.fileId === target.fileId\r\n        })\r\n        // 本地视频需删除两个数组的对应数据\r\n        this.$store.commit('updateArrayDelete', { name: 'materialTabList', index: index, amount: 1 })\r\n        this.$store.commit('updateArrayDelete', { name: 'materialFileList', index: fileIndex, amount: 1 })\r\n      } else {\r\n        // 非本地视频只需删除tabs数组数据\r\n        this.$store.commit('updateArrayDelete', { name: 'materialTabList', index: index, amount: 1 })\r\n      }\r\n    },\r\n    handleIconAdd (material, index) {\r\n      // 点击图标添加 - 添加至轨道素材\r\n      const target = { ...material }\r\n      let e = {}\r\n      e.from = 0\r\n      e.to = 1\r\n      e.newIndex = this.materialTrackList.length\r\n      e.oldIndex = index\r\n      this.$store.commit('updateArrayAdd', { name: 'materialTrackList', value: target })\r\n      this.$nextTick(() => {\r\n        this.handleMaterialAddBefore(e)\r\n        this.handleMaterialAdd(e)\r\n      })\r\n    },\r\n    handleUploadSuccess (file) {\r\n      // 文件上传结束 进行数据处理\r\n      this.handleUploadCoverDraw(file.data)\r\n    },\r\n    handleUploadCoverDraw (data) {\r\n      // 获取文件的显示封面及设置相关数据\r\n      data.fileId = this.materialFileList.length\r\n      let canvas = document.createElement('canvas')\r\n      let video = document.createElement('video')\r\n      video.setAttribute('crossOrigin', '*')\r\n      video.src = data.playUrl\r\n      video.currentTime = 2\r\n      canvas.width = 170\r\n      canvas.height = 100\r\n      video.onloadeddata = () => {\r\n        if (this.isUploading) {\r\n          canvas.getContext('2d').drawImage(video, 0, 0, canvas.width, canvas.height)\r\n          data.cover = canvas.toDataURL('image/jpeg')\r\n          data.startTime = data.startFrame\r\n          data.endTime = data.endFrame\r\n          // 通过判断 添加对应id 进行上传\r\n          this.$store.commit('updateArrayAdd', { name: 'materialFileList', value: data })\r\n          if (!this.editId) {\r\n            // 处理 新建-退出-没进页面 的情况\r\n            this.$store.commit('updateArrayAdd', { name: 'materialTabNewList', value: data })\r\n          }\r\n          const name = this.editId ? 'isEditMaterialUploading' : 'isMaterialUploading'\r\n          this.$store.commit('updateValue', { name: name, value: false })\r\n        }\r\n      }\r\n    },\r\n    updateStyle (before, after) {\r\n      after.style.width = before.style.width\r\n      after.style.height = before.style.height\r\n      after.style.backgroundImage = before.style.backgroundImage\r\n      after.style.backgroundSize = 'auto 100%'\r\n    },\r\n    judgeTrackDuration (endTime) {\r\n      // 更新trackDuration及相关时长数据\r\n      this.$store.commit('updateTracksDuration', { name: 'material', duration: endTime })\r\n      this.$store.commit('updateValue', { name: 'trackDuration', value: endTime })\r\n      if (this.trackDuration === 0) {\r\n        this.$emit('update-date', 0, false)\r\n      }\r\n    },\r\n    judgeUploadType (file) {\r\n      // 进行文件上传前的判断\r\n      // 格式条件\r\n      if (file.type !== 'video/mp4') {\r\n        this.$message({\r\n          message: '仅支持上传MP4格式视频',\r\n          type: 'warning'\r\n        })\r\n        return false\r\n      }\r\n      // 上传条件 - 已上传的视频不允许再上传\r\n      const target = this.materialFileList.find(item => {\r\n        return item.name === file.name\r\n      })\r\n      const name = file.name.split('.')[0]\r\n      const editTarget = this.materialTabList.find(item => {\r\n        return item.videoTitle === name\r\n      })\r\n      if (target || (this.editId && editTarget)) {\r\n        this.$message({\r\n          message: '已选素材中已有同名文件, 请勿重复上传',\r\n          type: 'warning'\r\n        })\r\n        return false\r\n      }\r\n      // 开始上传文件 记录上传状态为true\r\n      const attrName = this.editId ? 'isEditMaterialUploading' : 'isMaterialUploading'\r\n      this.$store.commit('updateValue', { name: attrName, value: true })\r\n      // 避免上次上传时关闭剪辑页面 且在剪辑页面外上传完毕 所导致的materialFileList变化未能在本组件内成功监听 进而导致的isCloseClip状态未在新页面重置问题\r\n      this.$store.commit('updateValue', { name: 'isCloseClip', value: false })\r\n    },\r\n    getDuration (duration) {\r\n      // 获取格式化后的时长字符串\r\n      return formatDuration(duration)\r\n    },\r\n    getMaterialLoad (list) {\r\n      // 获取各素材封面\r\n      const black = 'data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAMCAgICAgMCAgIDAwMDBAYEBAQEBAgGBgUGCQgKCgkICQkKDA8MCgsOCwkJDRENDg8QEBEQCgwSExIQEw8QEBD/2wBDAQMDAwQDBAgEBAgQCwkLEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBD/wAARCABuAMgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAn/xAAUEAEAAAAAAAAAAAAAAAAAAAAA/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhEDEQA/AJVAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//Z'\r\n      for (let i = 0; i < list.length; i++) {\r\n        let cover = list[i].cover\r\n        if (cover.indexOf('material1004') === -1) {\r\n          // 若当前素材已获取封面 跳过\r\n          continue\r\n        }\r\n        let canvas = document.createElement('canvas')\r\n        let video = document.createElement('video')\r\n        canvas.width = 200\r\n        canvas.height = 110\r\n        video.setAttribute('crossOrigin', '*')\r\n        video.src = list[i].playUrl\r\n        video.currentTime = 1\r\n        console.log('canvas------cover')\r\n        video.oncanplay = () => {\r\n          // 异步 需判断结果与请求是否对应\r\n          if (!list[i]) {\r\n            return false\r\n          }\r\n          if (video.src.indexOf(list[i].playUrl) === -1 || list[i].cover.indexOf('material1004') === -1) {\r\n            return false\r\n          }\r\n          canvas.getContext('2d').drawImage(video, 0, 0, canvas.width, canvas.height)\r\n          const dataURL = canvas.toDataURL('image/jpeg')\r\n          // 若获取到全黑截图 不存(全黑一般为视频未加载好)\r\n          const realCover = dataURL === black ? this.loadingImage : dataURL\r\n          this.$store.commit('updateArrayObjectAttr', { name: 'materialTabList', index: i, attr: 'cover', value: realCover })\r\n          // 清空变量及监听\r\n          video.oncanplay = null\r\n          video = null\r\n          canvas = null\r\n        }\r\n      }\r\n    }\r\n  },\r\n  mounted () {\r\n    this.getMaterialLoad(this.materialTabList)\r\n  },\r\n  beforeDestroy () {\r\n    // 设置页面退出标识\r\n    this.$store.commit('updateValue', { name: 'isCloseClip', value: true })\r\n    if (this.editId && this.isEditMaterialUploading) {\r\n      // 编辑退出 且文件上传中 取消上传 更新相关状态\r\n      this.$refs.materialUpload.abort()\r\n      this.$store.commit('updateValue', { name: 'isEditMaterialUploading', value: false })\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"stylus\" scoped>\r\n.material-tab\r\n  height 100%\r\n.material-container\r\n  height calc(100% - 35px)\r\n  overflow-y scroll\r\n.lastest-info\r\n  display inline-block\r\n  position relative\r\n  margin 0px 5px 5px\r\n  width 170px\r\n  border 1px solid #888888\r\n  border-radius 3px\r\n  transition all .3s\r\n  &:hover\r\n    border-color #26CB51\r\n  video,\r\n  .el-image\r\n    width 100%\r\n    height 100px\r\n    border-radius 3px 3px 0px 0px\r\n    object-fit fill\r\n    &:focus\r\n      width 20px\r\n.material-add, .material-delete\r\n  position absolute\r\n  top 3px\r\n  font-size 17px\r\n  color #fff\r\n.material-add\r\n  right 2px\r\n  font-weight 600\r\n  color #26CB51\r\n  cursor pointer\r\n.material-delete\r\n  left 2px\r\n  cursor pointer\r\n  &:hover,\r\n  &:focus\r\n    color red\r\n.material-duration\r\n  position absolute\r\n  top 80px\r\n  right 2px\r\n  width 55px\r\n  text-align center\r\n  font-size 12px\r\n  color #C7D3D4\r\n  background #4A4A4AB8\r\n  border-radius 2px\r\n.material-title\r\n  padding 0px 2px 4px\r\n  width 100%\r\n  font-size 12px\r\n  color #888\r\n  white-space nowrap\r\n  overflow hidden\r\n  text-overflow ellipsis\r\n  cursor default\r\n.methods-area\r\n  position absolute\r\n  bottom 5px\r\n  width 100%\r\n.methods-button-group\r\n  display inline-block\r\n  margin 5px 2px 0px\r\n.methods-button\r\n  width 100px\r\n  height 30px\r\n  line-height 5px\r\n  font-size 13px\r\n  color #888\r\n  border 1px solid #777\r\n  background #000\r\n  &:focus\r\n    background #000\r\n  &:hover\r\n    color #26CB51\r\n    border-color #26CB51\r\n    background #000\r\n.location-upload\r\n  display inline-block\r\n  margin-left 10px\r\n.methods-scan-way\r\n  position absolute\r\n  top 25px\r\n  right 10px\r\n  font-size 20px\r\n  i\r\n    margin-left 20px\r\n.drag-ghost\r\n  margin 0px\r\n  height 40px\r\n  video,\r\n  .el-image\r\n    height 40px !important\r\n  .material-duration\r\n    top 24px\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MaterialTab.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MaterialTab.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MaterialTab.vue?vue&type=template&id=52da4946&scoped=true&\"\nimport script from \"./MaterialTab.vue?vue&type=script&lang=js&\"\nexport * from \"./MaterialTab.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MaterialTab.vue?vue&type=style&index=0&id=52da4946&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"52da4946\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('Draggable',{staticClass:\"drag-target\",attrs:{\"group\":\"media\",\"ghost-class\":\"drag-ghost\",\"list\":_vm.materialTrackList,\"animation\":300},on:{\"start\":_vm.handleSelectedStart,\"update\":_vm.handleSelectedSort}},_vm._l((_vm.materialTrackList),function(item,index){return _c('div',{key:index,staticClass:\"track-container\"},[_c('div',{ref:'clip' + index,refInFor:true,staticClass:\"video-images\",attrs:{\"id\":'clip' + index},on:{\"click\":function($event){return _vm.$emit('selected-click', $event, index, 'materialTrackList')}}})])}),0)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <Draggable\r\n      group=\"media\"\r\n      class=\"drag-target\"\r\n      ghost-class=\"drag-ghost\"\r\n      :list=\"materialTrackList\"\r\n      :animation=\"300\"\r\n      @start=\"handleSelectedStart\"\r\n      @update=\"handleSelectedSort\"\r\n    >\r\n      <div\r\n        v-for=\"(item, index) in materialTrackList\"\r\n        :key=\"index\"\r\n        class=\"track-container\"\r\n      >\r\n        <div\r\n          class=\"video-images\"\r\n          :id=\"'clip' + index\"\r\n          :ref=\"'clip' + index\"\r\n          @click=\"$emit('selected-click', $event, index, 'materialTrackList')\"\r\n        ></div>\r\n      </div>\r\n    </Draggable>\r\n  </div>\r\n</template>\r\n<script>\r\nimport Draggable from 'vuedraggable'\r\nimport { mapState } from 'vuex'\r\nexport default {\r\n  components: {\r\n    Draggable\r\n  },\r\n  props: {\r\n    videoPlay: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      trackContainer: null\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState({\r\n      trackScale: state => state.trackScale,\r\n      operationIndex: state => state.operationIndex,\r\n      operationNewIndex: state => state.operationNewIndex,\r\n      operationName: state => state.operationName,\r\n      materialTrackList: state => state.materialTrackList,\r\n      materialTrackWidth: state => state.materialTrackWidth\r\n    })\r\n  },\r\n  watch: {\r\n    materialTrackWidth: function (val) {\r\n      this.trackContainer.style.width = val + 'px'\r\n    }\r\n  },\r\n  methods: {\r\n    handleSelectedStart (e) {\r\n      // 开始进行轨道块操作时 先选中对应轨道块\r\n      const index = 'clip' + e.oldIndex\r\n      this.$emit('selected-click', this.$refs[index][0], e.oldIndex, 'materialTrackList')\r\n    },\r\n    handleSelectedSort (e) {\r\n      // 轨道块拖拽排序移动\r\n      if (this.videoPlay) {\r\n        this.$emit('video-pause')\r\n      }\r\n\r\n      // 获取移动前后对应index\r\n      const targetIndex = e.newIndex\r\n      const originalIndex = e.oldIndex\r\n\r\n      let moveWidth = 0\r\n      let target = document.getElementById('clip' + targetIndex)\r\n      const originalTarget = document.getElementById('clip' + originalIndex)\r\n      const temp = {\r\n        width: originalTarget.style.width,\r\n        height: originalTarget.style.height,\r\n        backgroundImage: originalTarget.style.backgroundImage\r\n      }\r\n      const moveTrackDuration = this.getDurationByWidth(originalTarget.offsetWidth)\r\n\r\n      if (targetIndex > originalIndex) {\r\n        // 后移\r\n        // 所涉及需更改的数据\r\n        for (let i = originalIndex; i < targetIndex; i++) {\r\n          let before = document.getElementById('clip' + (i + 1))\r\n          let after = document.getElementById('clip' + i)\r\n          // 累计选择块移动距离\r\n          moveWidth += before.offsetWidth\r\n          // 更新显示样式\r\n          this.updateStyle(before, after)\r\n          // 更新数据\r\n          this.$store.commit('updateMateriaTime', { duration: moveTrackDuration, index: i, operator: 0 })\r\n        }\r\n        // 更新选择块数据\r\n        const tempWidth = this.getDurationByWidth(moveWidth)\r\n        this.$store.commit('updateMateriaTime', { duration: tempWidth, index: targetIndex, operator: 1 })\r\n      } else {\r\n        // 前移\r\n        // 所涉及需更改的数据\r\n        for (let j = originalIndex; j > targetIndex; j--) {\r\n          let before2 = document.getElementById('clip' + (j - 1))\r\n          let after2 = document.getElementById('clip' + j)\r\n          // 累计选择块移动距离\r\n          moveWidth += before2.offsetWidth\r\n          // 更新显示样式\r\n          this.updateStyle(before2, after2)\r\n          // 更新数据\r\n          this.$store.commit('updateMateriaTime', { duration: moveTrackDuration, index: j, operator: 1 })\r\n        }\r\n        // 更新选择块数据\r\n        const tempWidth = this.getDurationByWidth(moveWidth)\r\n        this.$store.commit('updateMateriaTime', { duration: tempWidth, index: targetIndex, operator: 0 })\r\n      }\r\n      // 更新选择块显示样式\r\n      target.style.width = temp.width\r\n      target.style.height = temp.height\r\n      target.style.backgroundImage = temp.backgroundImage\r\n      target.style.backgroundSize = 'auto 100%'\r\n      // 更新转场\r\n      this.$store.commit('updateValue', { name: 'operationName', value: 'sort' })\r\n      // this.$store.commit('updateValue', { name: 'operationIndex', value: originalIndex })\r\n      // this.$store.commit('updateValue', { name: 'operationNewIndex', value: targetIndex })\r\n      // 更新选择块数据\r\n      this.$emit('selected-click', target, targetIndex, 'materialTrackList')\r\n    },\r\n    updateStyle (before, after) {\r\n      after.style.width = before.style.width\r\n      after.style.height = before.style.height\r\n      after.style.backgroundImage = before.style.backgroundImage\r\n      after.style.backgroundSize = 'auto 100%'\r\n    },\r\n    getDurationByWidth (width) {\r\n      // 获取时长 - 根据所设置的宽度与时长比例计算\r\n      return width / this.trackScale\r\n    }\r\n  },\r\n  mounted () {\r\n    this.trackContainer = document.querySelector('.drag-target')\r\n  }\r\n}\r\n</script>\r\n<style lang=\"stylus\" scoped>\r\n.drag-target\r\n  width 100%\r\n  height 55px\r\n.drag-ghost\r\n  margin 0px\r\n  height 40px\r\n  video\r\n    height 40px !important\r\n.track-container\r\n  display inline-block\r\n.video-images\r\n  display inline-block\r\n  border-radius 5px\r\n  cursor pointer\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MaterialTrack.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MaterialTrack.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MaterialTrack.vue?vue&type=template&id=6cb17c91&scoped=true&\"\nimport script from \"./MaterialTrack.vue?vue&type=script&lang=js&\"\nexport * from \"./MaterialTrack.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MaterialTrack.vue?vue&type=style&index=0&id=6cb17c91&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6cb17c91\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"picture-tab\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.activeName !== 'picture'),expression:\"activeName !== 'picture'\"}],staticClass:\"picture-container\"},[(!_vm.isShowLocal)?_c('div',{staticClass:\"category-container\"},[_c('div',_vm._l((_vm.firstCategoryList),function(first){return _c('div',{key:first.id,class:{\n            'category-style': true,\n            'category-active': _vm.firstCategory.categoryId === first.categoryId\n          },on:{\"click\":function($event){return _vm.handleSecondCategorySearch(first)}}},[_vm._v(_vm._s(first.categoryName))])}),0),_c('div',_vm._l((_vm.secondCategoryList),function(second){return _c('div',{key:second.id,class:{\n            'category-style': true,\n            'category-active': _vm.secondCategory.categoryId === second.categoryId\n          },on:{\"click\":function($event){return _vm.handlePictureSearch(second)}}},[_vm._v(_vm._s(second.categoryName))])}),0)]):_vm._e(),(_vm.isShowLocal ? _vm.pictureFileList.length !== 0 : !_vm.isEmpty)?_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.isPictureLoading),expression:\"isPictureLoading\"},{name:\"infinite-scroll\",rawName:\"v-infinite-scroll\",value:(_vm.handlePictureMore),expression:\"handlePictureMore\"}],class:{\n        'picture-list': true,\n        'local-picture-list': _vm.isShowLocal\n      },staticStyle:{\"overflow-y\":\"scroll\"},attrs:{\"infinite-scroll-delay\":300,\"infinite-scroll-distance\":10}},_vm._l((_vm.isShowLocal ? _vm.pictureFileList : _vm.pictureList.slice(0, _vm.picShowAmount)),function(item,index){return _c('div',{key:item.picId,staticClass:\"picture-style\",on:{\"mouseenter\":function($event){return _vm.handlePictureOver(index, item)},\"mouseleave\":_vm.handlePictureOut,\"mousedown\":function($event){return _vm.judgePictureDraggable(item)}}},[_c('i',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.mouseTarget === index),expression:\"mouseTarget === index\"}],staticClass:\"el-icon-circle-plus-outline picture-plus-icon\",attrs:{\"title\":\"添加\"},on:{\"click\":function($event){return _vm.handlePictureIconAdd(item)}}}),_c('i',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.mouseTarget === index && _vm.isShowLocal),expression:\"mouseTarget === index && isShowLocal\"}],staticClass:\"el-icon-delete picture-delete-icon\",attrs:{\"title\":\"删除\"},on:{\"click\":function($event){return _vm.handleLocalPictureDelete(index)}}}),_c('el-image',{attrs:{\"fit\":\"contain\",\"lazy\":\"\",\"src\":item.picUrl,\"draggable\":_vm.materialTrackList.length !== 0 && !!item.duration},on:{\"dragstart\":function($event){return _vm.handlePictureStart({\n            e: $event,\n            item: item,\n            index: index,\n            list: 'pictureTrackList',\n            prefix: 'picture',\n            trackId: 'pictureTrack',\n            isTrackDrag: false\n          })},\"drag\":_vm.handlePictureDragging,\"dragend\":_vm.handlePictureDragEnd}},[_c('el-image',{attrs:{\"slot\":\"error\",\"fit\":\"contain\",\"src\":_vm.loadingImage},slot:\"error\"})],1)],1)}),0):_c('div',{staticClass:\"picture-empty\"},[_c('span',[_vm._v(\"暂无贴图\")])]),_c('div',{staticClass:\"button-style\"},[_c('el-upload',{staticClass:\"location-upload\",attrs:{\"accept\":\".png\",\"action\":_vm.uploadAction,\"disabled\":_vm.isPictureUploading,\"multiple\":false,\"show-file-list\":false,\"before-upload\":_vm.judgeUploadType,\"on-success\":_vm.handleUploadSuccess}},[_c('el-button',{staticClass:\"methods-button\",attrs:{\"disabled\":_vm.isPictureUploading}},[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isPictureUploading),expression:\"!isPictureUploading\"}]},[_vm._v(\"本地上传\")]),_c('Loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isPictureUploading),expression:\"isPictureUploading\"}],attrs:{\"color\":\"#26CB51\",\"type\":2}})],1)],1),_c('span',{staticClass:\"message\"},[_vm._v(\" *本地上传功能开发中\")])],1),_c('div',{staticClass:\"picture-icons\"},[_c('i',{class:{\n          'el-icon-menu': true,\n          'active-picture-list': !_vm.isShowLocal\n        },on:{\"click\":_vm.handleNetworkPictureShow}}),_c('i',{class:{\n          'el-icon-upload': true,\n          'active-picture-list': _vm.isShowLocal\n        },on:{\"click\":_vm.handleLocalPictureShow}})])]),_c('el-card',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isShowCard),expression:\"isShowCard\"},{name:\"loading\",rawName:\"v-loading\",value:(_vm.isCardLoading),expression:\"isCardLoading\"}],staticClass:\"picture-card\"},[(_vm.cardType === 'picture')?_c('el-image',{attrs:{\"fit\":\"contain\",\"src\":_vm.cardSrc},on:{\"load\":_vm.loadedCardContent}}):_vm._e(),(_vm.cardType === 'video')?_c('video',{attrs:{\"loop\":\"\",\"muted\":\"\",\"autoplay\":\"\",\"src\":_vm.cardSrc},domProps:{\"muted\":true},on:{\"canplaythrough\":_vm.loadedCardContent}}):_vm._e()],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.activeName === 'picture'),expression:\"activeName === 'picture'\"}],staticClass:\"operation-tab\"},[_c('div',[_c('span',[_vm._v(\"旋转\")]),_c('el-slider',{staticClass:\"operation-area\",attrs:{\"show-input\":true,\"show-tooltip\":false,\"min\":0,\"max\":360},model:{value:(_vm.tabRotate),callback:function ($$v) {_vm.tabRotate=$$v},expression:\"tabRotate\"}})],1),_c('div',[_c('span',[_vm._v(\"缩放\")]),_c('el-slider',{staticClass:\"operation-area\",attrs:{\"id\":\"resize-button\",\"show-input\":true,\"show-tooltip\":false,\"min\":0,\"max\":2,\"step\":0.01},nativeOn:{\"mousedown\":function($event){return _vm.beforePictureResize($event)}},model:{value:(_vm.tabResize),callback:function ($$v) {_vm.tabResize=$$v},expression:\"tabResize\"}})],1),_c('div',[_c('span',[_vm._v(\"透明度\")]),_c('el-slider',{staticClass:\"operation-area\",attrs:{\"show-input\":true,\"show-tooltip\":false,\"min\":0,\"max\":1,\"step\":0.1},model:{value:(_vm.tabOpacity),callback:function ($$v) {_vm.tabOpacity=$$v},expression:\"tabOpacity\"}})],1),_c('div',[_c('span',[_vm._v(\"翻转\")]),_c('div',{staticClass:\"operation-area\"},[_c('i',{class:{\n            'el-icon-d-caret': true,\n            'icon-ban': _vm.flip.h\n          },on:{\"click\":function($event){return _vm.handlePictureFlip('X')}}}),_c('i',{class:{\n            'el-icon-d-caret': true,\n            'horizontal-icon': true,\n            'icon-ban': _vm.flip.v\n          },on:{\"click\":function($event){return _vm.handlePictureFlip('Y')}}})])])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"picture-tab\">\r\n    <!-- 贴图列表页 -->\r\n    <div v-show=\"activeName !== 'picture'\" class=\"picture-container\">\r\n      <div v-if=\"!isShowLocal\" class=\"category-container\">\r\n        <div>\r\n          <!-- 一级检索目录 -->\r\n          <div\r\n            v-for=\"first in firstCategoryList\"\r\n            :key=\"first.id\"\r\n            :class=\"{\r\n              'category-style': true,\r\n              'category-active': firstCategory.categoryId === first.categoryId\r\n            }\"\r\n            @click=\"handleSecondCategorySearch(first)\"\r\n          >{{ first.categoryName }}</div>\r\n        </div>\r\n        <div>\r\n          <!-- 二级检索目录 -->\r\n          <div\r\n            v-for=\"second in secondCategoryList\"\r\n            :key=\"second.id\"\r\n            :class=\"{\r\n              'category-style': true,\r\n              'category-active': secondCategory.categoryId === second.categoryId\r\n            }\"\r\n            @click=\"handlePictureSearch(second)\"\r\n          >{{ second.categoryName }}</div>\r\n        </div>\r\n      </div>\r\n      <!-- 贴图列表内容 -->\r\n      <div\r\n        v-if=\"isShowLocal ? pictureFileList.length !== 0 : !isEmpty\"\r\n        v-loading=\"isPictureLoading\"\r\n        v-infinite-scroll=\"handlePictureMore\"\r\n        :infinite-scroll-delay=\"300\"\r\n        :infinite-scroll-distance=\"10\"\r\n        :class=\"{\r\n          'picture-list': true,\r\n          'local-picture-list': isShowLocal\r\n        }\"\r\n        style=\"overflow-y: scroll\"\r\n      >\r\n        <div\r\n          v-for=\"(item, index) in isShowLocal ? pictureFileList : pictureList.slice(0, picShowAmount)\"\r\n          :key=\"item.picId\"\r\n          class=\"picture-style\"\r\n          @mouseenter=\"handlePictureOver(index, item)\"\r\n          @mouseleave=\"handlePictureOut\"\r\n          @mousedown=\"judgePictureDraggable(item)\"\r\n        >\r\n          <i\r\n            v-show=\"mouseTarget === index\"\r\n            class=\"el-icon-circle-plus-outline picture-plus-icon\"\r\n            title=\"添加\"\r\n            @click=\"handlePictureIconAdd(item)\"\r\n          ></i>\r\n          <i\r\n            v-show=\"mouseTarget === index && isShowLocal\"\r\n            class=\"el-icon-delete picture-delete-icon\"\r\n            title=\"删除\"\r\n            @click=\"handleLocalPictureDelete(index)\"\r\n          ></i>\r\n          <el-image\r\n            fit=\"contain\"\r\n            lazy\r\n            :src=\"item.picUrl\"\r\n            :draggable=\"materialTrackList.length !== 0 && !!item.duration\"\r\n            @dragstart=\"handlePictureStart({\r\n              e: $event,\r\n              item: item,\r\n              index: index,\r\n              list: 'pictureTrackList',\r\n              prefix: 'picture',\r\n              trackId: 'pictureTrack',\r\n              isTrackDrag: false\r\n            })\"\r\n            @drag=\"handlePictureDragging\"\r\n            @dragend=\"handlePictureDragEnd\"\r\n          >\r\n            <el-image slot=\"error\" fit=\"contain\" :src=\"loadingImage\"></el-image>\r\n          </el-image>\r\n        </div>\r\n      </div>\r\n      <div v-else class=\"picture-empty\">\r\n        <span>暂无贴图</span>\r\n      </div>\r\n      <!-- 贴图本地上传功能 -->\r\n      <div class=\"button-style\">\r\n        <el-upload\r\n          class=\"location-upload\"\r\n          accept=\".png\"\r\n          :action=\"uploadAction\"\r\n          :disabled=\"isPictureUploading\"\r\n          :multiple=\"false\"\r\n          :show-file-list=\"false\"\r\n          :before-upload=\"judgeUploadType\"\r\n          :on-success=\"handleUploadSuccess\"\r\n        >\r\n          <el-button class=\"methods-button\" :disabled=\"isPictureUploading\">\r\n            <span v-show=\"!isPictureUploading\">本地上传</span>\r\n            <!-- 贴图上传时的显示动画 -->\r\n            <Loading v-show=\"isPictureUploading\" color=\"#26CB51\" :type=\"2\"></Loading>\r\n          </el-button>\r\n        </el-upload>\r\n        <span class=\"message\"> *本地上传功能开发中</span>\r\n        <!-- <span class=\"message\"> 本地仅支持上传PNG格式贴图</span> -->\r\n      </div>\r\n      <!-- 贴图列表左下角图标 用于切换在线贴图与本地贴图显示 -->\r\n      <div class=\"picture-icons\">\r\n        <i\r\n          :class=\"{\r\n            'el-icon-menu': true,\r\n            'active-picture-list': !isShowLocal\r\n          }\"\r\n          @click=\"handleNetworkPictureShow\"\r\n        ></i>\r\n        <i\r\n          :class=\"{\r\n            'el-icon-upload': true,\r\n            'active-picture-list': isShowLocal\r\n          }\"\r\n          @click=\"handleLocalPictureShow\"\r\n        ></i>\r\n      </div>\r\n    </div>\r\n    <!-- 贴图列表的鼠标悬停预览 -->\r\n    <el-card v-show=\"isShowCard\" v-loading=\"isCardLoading\" class=\"picture-card\">\r\n      <el-image\r\n        v-if=\"cardType === 'picture'\"\r\n        fit=\"contain\"\r\n        :src=\"cardSrc\"\r\n        @load=\"loadedCardContent\"\r\n      ></el-image>\r\n      <video v-if=\"cardType === 'video'\" loop muted autoplay :src=\"cardSrc\" @canplaythrough=\"loadedCardContent\"></video>\r\n    </el-card>\r\n    <!-- 贴图操作页 -->\r\n    <div\r\n      v-show=\"activeName === 'picture'\"\r\n      class=\"operation-tab\"\r\n    >\r\n      <div>\r\n        <span>旋转</span>\r\n        <el-slider\r\n          v-model=\"tabRotate\"\r\n          class=\"operation-area\"\r\n          :show-input=\"true\"\r\n          :show-tooltip=\"false\"\r\n          :min=\"0\"\r\n          :max=\"360\"\r\n        ></el-slider>\r\n      </div>\r\n      <div>\r\n        <span>缩放</span>\r\n        <el-slider\r\n          v-model=\"tabResize\"\r\n          class=\"operation-area\"\r\n          id=\"resize-button\"\r\n          :show-input=\"true\"\r\n          :show-tooltip=\"false\"\r\n          :min=\"0\"\r\n          :max=\"2\"\r\n          :step=\"0.01\"\r\n          @mousedown.native=\"beforePictureResize\"\r\n        ></el-slider>\r\n      </div>\r\n      <div>\r\n        <span>透明度</span>\r\n        <el-slider\r\n          v-model=\"tabOpacity\"\r\n          class=\"operation-area\"\r\n          :show-input=\"true\"\r\n          :show-tooltip=\"false\"\r\n          :min=\"0\"\r\n          :max=\"1\"\r\n          :step=\"0.1\"\r\n        ></el-slider>\r\n      </div>\r\n      <div>\r\n        <span>翻转</span>\r\n        <div class=\"operation-area\">\r\n          <i\r\n            :class=\"{\r\n              'el-icon-d-caret': true,\r\n              'icon-ban': flip.h\r\n            }\"\r\n            @click=\"handlePictureFlip('X')\"\r\n          ></i>\r\n          <i\r\n            :class=\"{\r\n              'el-icon-d-caret': true,\r\n              'horizontal-icon': true,\r\n              'icon-ban': flip.v\r\n            }\"\r\n            @click=\"handlePictureFlip('Y')\"\r\n          ></i>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport Loading from '../Loading'\r\nimport { mapState, mapMutations } from 'vuex'\r\nexport default {\r\n  components: {\r\n    Loading\r\n  },\r\n  props: {\r\n    tabName: { // 当前选择的素材tabs 可能的值: materialTab pictureTab textTab……\r\n      type: String,\r\n      default: null\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      mouseTarget: null,\r\n      firstCategory: {},\r\n      secondCategory: {},\r\n      firstCategoryList: [],\r\n      secondCategoryList: [],\r\n      pictureList: [\r\n        { modifyTime: '2021-01-18 15:28:56', thirdId: '1', createdTime: '2021-01-18 15:28:56', picUrl: require('@/assets/picture/circle.jpg'), fileUrl: require('@/assets/video/circle.webm'), title: 'Circle', categoryId:129, fileType: 'video', picId:1, status:1 },\r\n        { modifyTime: '2021-01-18 15:28:56', thirdId: '2', createdTime: '2021-01-18 15:28:56', picUrl: require('@/assets/picture/line.jpg'), fileUrl: require('@/assets/video/line.webm'), title: 'Line', categoryId:128, fileType: 'video', picId:2, status:1 },\r\n        { modifyTime: '2021-01-18 15:28:56', thirdId: '3', createdTime: '2021-01-18 15:28:56', picUrl: require('@/assets/picture/forest.jpg'), fileUrl: require('@/assets/picture/forest.jpg'), title: 'Forest', categoryId:127, fileType: 'picture', picId:3, status:1 },\r\n        { modifyTime: '2021-01-18 15:28:56', thirdId: '4', createdTime: '2021-01-18 15:28:56', picUrl: require('@/assets/picture/snow.jpg'), fileUrl: require('@/assets/picture/snow.jpg'), title: 'Snow', categoryId:126, fileType: 'picture', picId:4, status:1 }\r\n      ],\r\n      pictureFileList: [],\r\n      picShowAmount: 80,\r\n      isListChange: true,\r\n      isEmpty: false,\r\n      isPictureLoading: false,\r\n      isShowLocal: false,\r\n      cardSrc: '',\r\n      cardType: '',\r\n      isCardLoading: false,\r\n      tabRotate: 0,\r\n      tabResize: 1,\r\n      tabOpacity: 1,\r\n      pagination: {\r\n        currentPage: 1,\r\n        pageSize: 20\r\n      },\r\n      flip: {\r\n        v: false,\r\n        h: false\r\n      },\r\n      loadingImage: require('@/assets/material1004.png'),\r\n      isShowCard: false,\r\n      uploadAction: '',\r\n      // 关闭接口\r\n      // uploadAction: 'api/uploadHomeImgV2.html'\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState({\r\n      activeName: state => state.activeName,\r\n      isPictureUploading: state => state.isPictureUploading,\r\n      selected: state => state.selected,\r\n      selectedTarget: state => state.selectedTarget,\r\n      playingPicture: state => state.playingPicture,\r\n      playingPictureIndex: state => state.playingPictureIndex,\r\n      materialTrackList: state => state.materialTrackList,\r\n      pictureTrackList: state => state.pictureTrackList\r\n    })\r\n  },\r\n  watch: {\r\n    activeName: function (val) {\r\n      // 监听 - 当前激活的drr类型\r\n      if (!val && this.tabName === 'pictureTab') {\r\n        // 当激活的activeName为空 且 当前tabs为贴图时\r\n        this.$nextTick(() => {\r\n          // 修复贴图列表未加载完成就打开操作页所导致的列表图片加载中问题\r\n          const target = document.querySelector('.picture-list')\r\n          if (target) {\r\n            document.querySelector('.picture-list').scrollTop++\r\n          }\r\n        })\r\n      }\r\n    },\r\n    selectedTarget: function (val) {\r\n      // 若当前选择块为贴图类型 则操作标签页需根据当前值显示数据\r\n      if (!val || !this.selected.type || this.activeName !== 'picture') {\r\n        return true\r\n      }\r\n      this.initTab(val)\r\n    },\r\n    'selectedTarget.whirl': function (angle) {\r\n      // 若当前选择块为贴图类型 且用户在播放区域的drr进行旋转操作 则操作标签页的旋转数值也需同步\r\n      let realRotate = angle\r\n      // 需要对数值进行显示的规范化\r\n      if (angle > 360) {\r\n        realRotate = angle - 360\r\n      }\r\n      if (angle < 0) {\r\n        realRotate = angle + 360\r\n      }\r\n      this.tabRotate = realRotate\r\n    },\r\n    tabRotate: function (val) {\r\n      if (!this.selectedTarget || val === this.selectedTarget.whirl) {\r\n        return false\r\n      }\r\n      // 旋转滑块移动 数值改变 录入最新数值\r\n      this.$store.commit('drrTabRotate', val)\r\n    },\r\n    tabResize: function (val) {\r\n      if (!this.selectedTarget || val === this.selectedTarget.scale) {\r\n        return false\r\n      }\r\n      // 缩放滑块移动 数值改变 录入最新数值\r\n      this.$store.commit('drrTabResize', val)\r\n    },\r\n    tabOpacity: function (val) {\r\n      if (!this.selectedTarget || val === this.selectedTarget.transparency) {\r\n        return false\r\n      }\r\n      // 透明度滑块移动 数值改变 录入最新数值\r\n      this.$store.commit('drrTabOpacity', val)\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapMutations({\r\n      handlePictureStart: 'dragStart',\r\n      handlePictureDragging: 'tabDragging',\r\n      handlePictureDragEnd: 'tabDragEnd'\r\n    }),\r\n    beforePictureResize () {\r\n      // 进行缩放操作前 需要获得当前数值下的比例\r\n      this.$store.commit('drrTabBeforeResize', this.tabResize)\r\n    },\r\n    handleSecondCategorySearch () {},\r\n    handlePictureSearch () {},\r\n    // 关闭接口\r\n    // handleSecondCategorySearch (first) {\r\n    //   // 检索二级目录\r\n    //   this.secondCategory = {}\r\n    //   this.pictureList = []\r\n    //   this.isEmpty = false\r\n    //   this.pagination.currentPage = 1\r\n    //   this.firstCategory = first\r\n    //   const params = {\r\n    //     pCategoryId: first.categoryId,\r\n    //     page: 1,\r\n    //     rows: this.pagination.pageSize\r\n    //   }\r\n    //   this.handlePictureSearch(first)\r\n    //   if (first.categoryId === 0) {\r\n    //     // 选择的一级目录为全部 则不需要检索二级目录\r\n    //     this.secondCategoryList = []\r\n    //     return true\r\n    //   }\r\n    //   this.$service.getPictureCategory(params).then(data => {\r\n    //     this.secondCategoryList = [{ id: 0, categoryId: this.firstCategory.categoryId, categoryName: '全部' }].concat(data.rows)\r\n    //   })\r\n    // },\r\n    // handlePictureSearch (second) {\r\n    //   // 检索贴图列表\r\n    //   this.isPictureLoading = true\r\n    //   this.isEmpty = false\r\n    //   this.pagination.currentPage = 1\r\n    //   this.picShowAmount = 80\r\n    //   if (document.querySelector('.picture-list')) {\r\n    //     document.querySelector('.picture-list').scrollTop = 0\r\n    //   }\r\n    //   this.secondCategory = second\r\n    //   let params = {\r\n    //     categoryId: second.categoryId,\r\n    //     page: 1,\r\n    //     rows: this.pagination.pageSize\r\n    //   }\r\n    //   this.$service.getPictureList(params).then(data => {\r\n    //     if (data.total === 0) {\r\n    //       // 若无数据 更新对应状态\r\n    //       this.isEmpty = true\r\n    //     }\r\n    //     if (data.total < params.rows) {\r\n    //       // 若数据量比请求的少 则已获取全部\r\n    //       this.pictureList = data.rows\r\n    //       this.isPictureLoading = false\r\n    //     } else {\r\n    //       // 若数据量比请求的多 则还需获取全部数据\r\n    //       params.rows = data.total\r\n    //       this.$service.getPictureList(params).then(dataAll => {\r\n    //         this.pictureList = dataAll.rows\r\n    //         this.isPictureLoading = false\r\n    //       })\r\n    //     }\r\n    //   })\r\n    // },\r\n    handlePictureMore () {\r\n      // 滚动条触底 自动增加显示\r\n      if (this.picShowAmount < this.pictureList.length) {\r\n        this.picShowAmount += 20\r\n      }\r\n    },\r\n    handlePictureOver (index, item) {\r\n      // 鼠标经过 需唤醒预览\r\n      if (item.loaded) {\r\n        this.isCardLoading = false\r\n      } else {\r\n        this.isCardLoading = true\r\n      }\r\n      this.mouseTarget = index\r\n      this.cardSrc = item.fileUrl\r\n      this.cardType = item.fileType === 'json' ? 'picture' : item.fileType\r\n      this.isShowCard = true\r\n    },\r\n    handlePictureOut () {\r\n      // 鼠标移出 清理相关数据\r\n      this.isCardLoading = false\r\n      this.mouseTarget = null\r\n      this.isShowCard = false\r\n    },\r\n    handlePictureIconAdd (picture) {\r\n      // 添加贴图方式 - 点击列表图标\r\n      if (this.materialTrackList.length === 0 || !picture.duration) {\r\n        return false\r\n      }\r\n      this.$emit('icon-add', 'picture', picture)\r\n    },\r\n    handleLocalPictureDelete (index) {\r\n      // 删除本地贴图 需将缓存内的也删除\r\n      this.pictureFileList.splice(index, 1)\r\n      localStorage.pictureFileList = JSON.stringify(this.pictureFileList)\r\n      this.isShowCard = false\r\n    },\r\n    judgeUploadType (file) {\r\n      // 本地贴图上传前的判断\r\n      if (file.type !== 'image/png') {\r\n        // 文件类型限制\r\n        this.$message({\r\n          message: '仅支持上传png格式贴图',\r\n          type: 'warning'\r\n        })\r\n        return false\r\n      }\r\n      // 已上传限制\r\n      const target = this.pictureFileList.find(item => {\r\n        return file.name.indexOf(item.oldTitle) !== -1\r\n      })\r\n      if (target) {\r\n        this.$message({\r\n          message: '本地贴图中已有同名文件, 请勿重复上传',\r\n          type: 'warning'\r\n        })\r\n        return false\r\n      }\r\n    },\r\n    handleUploadProgress () {\r\n      // 本地贴图上传过程中 对应缓存状态为true\r\n      this.$store.commit('updateValue', { name: 'isPictureUploading', value: true })\r\n    },\r\n    handleUploadSuccess (file) {\r\n      // 本地贴图上传完成 需进行必要的数据处理\r\n      const newPicture = {\r\n        picUrl: file.url,\r\n        fileUrl: file.url,\r\n        oldTitle: file.oldName.split('.')[0],\r\n        // 自定义贴图名\r\n        title: '本地' + (this.pictureFileList.length + 1),\r\n        duration: 10,\r\n        size: file.fileSize,\r\n        fileType: 'picture'\r\n      }\r\n      this.pictureFileList.push(newPicture)\r\n      localStorage.pictureFileList = JSON.stringify(this.pictureFileList)\r\n\r\n      // 本地贴图上传结束 对应缓存状态为false\r\n      this.$store.commit('updateValue', { name: 'isPictureUploading', value: false })\r\n\r\n      this.$message({\r\n        type: 'success',\r\n        dangerouslyUseHTMLString: true,\r\n        message: '贴图上传成功，请到我的本地上传 -【<i class=\"el-icon-upload\"></i>】中查看'\r\n      })\r\n    },\r\n    handleNetworkPictureShow () {\r\n      // 切换显示在线贴图列表\r\n      if (this.isPictureLoading) {\r\n        // 若贴图列表缓存中 不允许切换\r\n        return false\r\n      }\r\n      this.isShowLocal = false\r\n      this.isListChange = false\r\n      this.isListChange = true\r\n    },\r\n    handleLocalPictureShow () {\r\n      // 切换显示本地贴图列表\r\n      if (this.isPictureLoading) {\r\n        // 若贴图列表缓存中 不允许切换\r\n        return false\r\n      }\r\n      this.isShowLocal = true\r\n      this.isListChange = false\r\n      this.isListChange = true\r\n    },\r\n    handlePictureFlip (way) {\r\n      // 水平翻转与垂直翻转效果不可共存\r\n      if ((way === 'X' && this.flip.h) || (way === 'Y' && this.flip.v)) {\r\n        return false\r\n      }\r\n      if (way === 'X') {\r\n        this.flip.v = !this.flip.v\r\n      }\r\n      if (way === 'Y') {\r\n        this.flip.h = !this.flip.h\r\n      }\r\n      this.$store.commit('drrTabFlip', way)\r\n    },\r\n    judgePictureDraggable (picture) {\r\n      // 判断当前贴图是否可拖拽添加\r\n      if (this.materialTrackList.length === 0) {\r\n        this.$message({\r\n          type: 'warning',\r\n          message: '视频轨道为空，请添加视频素材后再试'\r\n        })\r\n        return false\r\n      }\r\n      if (!picture.duration) {\r\n        this.$message('贴图加载中，右侧预览加载完毕后方可添加')\r\n        return false\r\n      }\r\n      return true\r\n    },\r\n    loadedCardContent (e) {\r\n      // 悬停预览内容加载完毕的相关数据处理\r\n      this.isCardLoading = false\r\n      let targetList = this.isShowLocal ? this.pictureFileList : this.pictureList\r\n      if (e.target.src.indexOf(this.cardSrc) !== -1) {\r\n        // 异步 需要确认结果与请求一致\r\n        const index = targetList.findIndex(item => {\r\n          return this.cardSrc === item.fileUrl\r\n        })\r\n        if (this.cardType === 'video') {\r\n          // 视频贴图 时长为视频时长\r\n          targetList[index].duration = targetList[index].duration ? targetList[index].duration : e.target.duration\r\n        } else {\r\n          // 图片贴图 时长默认为10s\r\n          targetList[index].duration = 10\r\n        }\r\n        // 添加加载完毕状态\r\n        targetList[index].loaded = true\r\n      }\r\n    },\r\n    fetchData () {\r\n      // 关闭接口\r\n      // 获取贴图列表\r\n      // const params = {\r\n      //   pCategoryId: 0,\r\n      //   page: 1,\r\n      //   rows: this.pagination.pageSize\r\n      // }\r\n      // this.$service.getPictureCategory(params).then(data => {\r\n      //   this.firstCategoryList = data.rows\r\n      // })\r\n      // this.handleSecondCategorySearch({ categoryId: 0 })\r\n    },\r\n    initTab (val) {\r\n      // 操作标签页需根据当前对象更新数据\r\n      this.tabRotate = val.whirl\r\n      this.tabResize = val.scale\r\n      this.tabOpacity = val.transparency\r\n      this.flip = {\r\n        v: val.overturn.indexOf('v') !== -1,\r\n        h: val.overturn.indexOf('h') !== -1\r\n      }\r\n    }\r\n  },\r\n  created () {\r\n    // 读取本地上传的贴图\r\n    this.pictureFileList = localStorage.pictureFileList ? JSON.parse(localStorage.pictureFileList) : []\r\n    this.fetchData()\r\n    this.$nextTick(() => {\r\n      if (this.activeName === 'picture') {\r\n        // 若当前激活drr为贴图 则需对应显示操作标签页及对应数据\r\n        this.initTab(this.selectedTarget)\r\n      }\r\n    })\r\n  }\r\n}\r\n</script>\r\n<style lang=\"stylus\" scoped>\r\n.picture-tab\r\n  position relative\r\n  height 100%\r\n  &:focus\r\n    outline 0px\r\n.picture-list\r\n  height 70%\r\n  user-select none // 禁止选中 避免在不允许拖拽的情况下 使用浏览器默认选中行为后再进行拖拽\r\n.local-picture-list\r\n  height auto\r\n.picture-draggable\r\n  width fit-content\r\n  height 100%\r\n  outline 0px\r\n.picture-style\r\n  display inline-block\r\n  position relative\r\n  margin 5px\r\n  width 88px\r\n  height 50px\r\n  border 2px solid #888\r\n  border-radius 5px\r\n  transition all .3s\r\n  &:hover\r\n    color #26CB51\r\n    border-color #26CB51\r\n  .el-image\r\n    width 100%\r\n    height 100%\r\n    border-radius 3px\r\n.picture-plus-icon,\r\n.picture-delete-icon\r\n  position absolute\r\n  top 1px\r\n  font-size 15px\r\n  font-weight 600\r\n  cursor pointer\r\n  z-index 2\r\n.picture-plus-icon\r\n  right 1px\r\n.picture-delete-icon\r\n  left 3px\r\n  color red\r\n.operation-tab\r\n  padding 30px 10px\r\n  span\r\n    display inline-block\r\n    width 10%\r\n    text-align center\r\n    vertical-align super\r\n.operation-area\r\n  display inline-block\r\n  width 85%\r\n  height 50px\r\n  vertical-align middle\r\n  >>>.el-slider__runway\r\n    height 2.5px\r\n    .el-slider__bar\r\n      height 2.5px\r\n    .el-slider__button\r\n      width 10px\r\n      height 10px\r\n.el-icon-d-caret\r\n  margin-right 20px\r\n  vertical-align middle\r\n  font-size 23px\r\n  line-height 35px\r\n  cursor pointer\r\n  &:hover\r\n    color #26CB51\r\n.horizontal-icon\r\n  transform rotate(90deg)\r\n.icon-ban\r\n  color #ccc\r\n  cursor default\r\n  &:hover\r\n    color #ccc\r\n    cursor default\r\n.picture-card\r\n  position absolute\r\n  top 0px\r\n  right -200px\r\n  width 200px\r\n  height 140px\r\n  border-color #d7d7d7\r\n  z-index 3\r\n  >>>.el-card__body\r\n    position relative\r\n    top 50%\r\n    height inherit\r\n    text-align center\r\n    transform translateY(-50%)\r\n  .el-image\r\n    width 100%\r\n    height 100%\r\n  video\r\n    width 100%\r\n    height 100%\r\n.picture-container\r\n  position relative\r\n  height 100%\r\n  overflow hidden\r\n.category-container\r\n  margin-bottom 0px\r\n.category-style\r\n  display inline-block\r\n  margin 3px\r\n  padding 0px 5px\r\n  max-width 80px\r\n  height 25px\r\n  line-height 25px\r\n  text-align center\r\n  font-size 12px\r\n  color #999\r\n  border 1px solid #fff\r\n  border-radius 5px\r\n  cursor pointer\r\n  transition all .3s\r\n  &:hover\r\n    border 1px solid #26CB51\r\n    color #26CB51\r\n.category-active\r\n  border 1px solid #26CB51\r\n  color #26CB51\r\n.picture-empty\r\n  height 20vh\r\n  line-height 20vh\r\n  font-size 13px\r\n  text-align center\r\n  color #aaa\r\n.button-style\r\n  position absolute\r\n  bottom 0px\r\n  // 避免遮住滚动条\r\n  width 99%\r\n.location-upload\r\n  display inline-block\r\n  margin 10px 3px 3px 3px\r\n.picture-icons\r\n  position absolute\r\n  bottom 0px\r\n  right 0px\r\n  i\r\n    margin-right 10px\r\n    font-size 18px\r\n    cursor pointer\r\n    &:hover\r\n      color #26CB51\r\n.active-picture-list\r\n  color #26CB51\r\n.methods-button\r\n  width 100px\r\n  height 30px\r\n  line-height 5px\r\n  font-size 13px\r\n  color #888\r\n  border 1px solid #888\r\n  background #000\r\n  &:focus\r\n    background #000\r\n  &:hover\r\n    color #26CB51\r\n    border-color #26CB51\r\n    background #000\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PictureTab.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PictureTab.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PictureTab.vue?vue&type=template&id=b818d35c&scoped=true&\"\nimport script from \"./PictureTab.vue?vue&type=script&lang=js&\"\nexport * from \"./PictureTab.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PictureTab.vue?vue&type=style&index=0&id=b818d35c&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b818d35c\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"pictureTrack\",attrs:{\"id\":'pictureTrack' + _vm.trackIndex},on:{\"dragenter\":_vm.handlePictureDragEnter,\"dragover\":_vm.handlePictureDragOver,\"dragend\":_vm.handlePictureDragEnd,\"drop\":_vm.handlePictureDrop}},_vm._l((_vm.trackList),function(item,index){return _c('div',{key:item.seq + '' + index,staticClass:\"pic-container\"},[_c('div',{ref:'picture' + index,refInFor:true,staticClass:\"pic-clip\",attrs:{\"id\":'picture' + index,\"draggable\":true},on:{\"click\":function($event){return _vm.handleClick($event, index)},\"mousedown\":function($event){return _vm.handleMouseDown($event, index, true)},\"dragstart\":function($event){return _vm.handleTrackPicDragStart({\n        e: $event,\n        item: item,\n        index: index,\n        trackIndex: _vm.trackIndex,\n        list: 'pictureTrackList',\n        prefix: 'picture',\n        trackId: 'pictureTrack',\n        isTrackDrag: true\n      })},\"drag\":_vm.handleTrackPicDragging}},[_c('span',{staticClass:\"pic-other\"},[_vm._v(_vm._s(item.title))]),(_vm.selected.type === 'pictureTrackList' && _vm.selected.index === index)?_c('div',{directives:[{name:\"resize\",rawName:\"v-resize\"}],staticClass:\"pic-resizable-right\"}):_vm._e()])])}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div\r\n    class=\"pictureTrack\"\r\n    :id=\"'pictureTrack' + trackIndex\"\r\n    @dragenter=\"handlePictureDragEnter\"\r\n    @dragover=\"handlePictureDragOver\"\r\n    @dragend=\"handlePictureDragEnd\"\r\n    @drop=\"handlePictureDrop\"\r\n  >\r\n    <div\r\n      v-for=\"(item, index) in trackList\"\r\n      :key=\"item.seq + '' + index\"\r\n      class=\"pic-container\"\r\n    >\r\n      <div\r\n        class=\"pic-clip\"\r\n        :id=\"'picture' + index\"\r\n        :ref=\"'picture' + index\"\r\n        :draggable=\"true\"\r\n        @click=\"handleClick($event, index)\"\r\n        @mousedown=\"handleMouseDown($event, index, true)\"\r\n        @dragstart=\"handleTrackPicDragStart({\r\n          e: $event,\r\n          item: item,\r\n          index: index,\r\n          trackIndex: trackIndex,\r\n          list: 'pictureTrackList',\r\n          prefix: 'picture',\r\n          trackId: 'pictureTrack',\r\n          isTrackDrag: true\r\n        })\"\r\n        @drag=\"handleTrackPicDragging\"\r\n      >\r\n        <span class=\"pic-other\">{{ item.title }}</span>\r\n        <div\r\n          v-if=\"selected.type === 'pictureTrackList' && selected.index === index\"\r\n          v-resize\r\n          class=\"pic-resizable-right\"\r\n        ></div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { mapState, mapMutations } from 'vuex'\r\nexport default {\r\n  props: {\r\n    widthRange: {\r\n      type: Number,\r\n      default: 0\r\n    },\r\n    pictureWidth: {\r\n      type: Number,\r\n      default: 0\r\n    },\r\n    trackIndex: {\r\n      type: Number,\r\n      default: 0\r\n    },\r\n    trackList: {\r\n      type: Array,\r\n      default: function () {}\r\n    }\r\n  },\r\n  directives: {\r\n    resize: function (e, bingding, vnode) {\r\n      let holder = e\r\n      holder.onmousedown = (e) => {\r\n        const distanceX = e.clientX - holder.offsetLeft\r\n        const target = vnode.context.$refs['picture' + vnode.context.selected.index][0]\r\n        vnode.context.handleTrackResize()\r\n        document.onmousemove = (e) => {\r\n          e.preventDefault()\r\n          const range = e.clientX - distanceX\r\n          if (range < 5) {\r\n            return false\r\n          }\r\n          vnode.context.handleResize(target, range)\r\n        }\r\n        document.onmouseup = () => {\r\n          document.onmousemove = null\r\n          document.onmouseup = null\r\n          vnode.context.handleTrackResize()\r\n          vnode.context.handleResizeEnd()\r\n        }\r\n      }\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState({\r\n      selected: state => state.selected,\r\n      selectedTarget: state => state.selectedTarget,\r\n      playingPicture: state => state.playingPicture,\r\n      playingPictureIndex: state => state.playingPictureIndex\r\n    })\r\n  },\r\n  watch: {\r\n    'trackList': function (val) {\r\n      this.$nextTick(() => {\r\n        const selectedIndex = val.findIndex(item => {\r\n          return item.isSelected\r\n        })\r\n        if (selectedIndex !== -1) {\r\n          val[selectedIndex].isSelected = false\r\n          const e = this.$refs['picture' + selectedIndex][0]\r\n          this.handleMouseDown(e, selectedIndex, false)\r\n        }\r\n      })\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapMutations({\r\n      handlePictureDragEnter: 'dragTrackEnter',\r\n      handlePictureDragEnd: 'trackDragEnd',\r\n      handleTrackPicDragStart: 'dragStart',\r\n      handleTrackPicDragging: 'trackDragging',\r\n      handlePictureDrop: 'drop',\r\n      handleTrackResize: 'isTrackResizeInvert'\r\n    }),\r\n    handleResize (element, newWidth) {\r\n      this.$store.commit('trackBlockResize', { element: element, newWidth: newWidth, list: 'pictureTrackList', prefix: 'picture', vm: this })\r\n    },\r\n    handleResizeEnd () {\r\n      this.$store.commit('getList')\r\n    },\r\n    handlePictureDragOver (e) {\r\n      this.$store.commit('dragTrackOver', { e: e, vm: this })\r\n    },\r\n    handleClick (e, index) {\r\n      let realE = e\r\n      if (!e.target || e.target.className !== 'pic-clip') {\r\n        realE = this.$refs['picture' + index][0]\r\n      }\r\n      this.$emit('click-picture', realE, index, this.trackIndex, 'pictureTrackList', 'pictureTab', 'picture')\r\n    },\r\n    handleMouseDown (e, index, isNeedTab) {\r\n      // isNeedTab: 用于区分是否需要激活对应DRR - 在轨道拖拽操作中不必激活\r\n      let realE = e\r\n      if (!e.target || e.target.className !== 'pic-clip') {\r\n        realE = this.$refs['picture' + index][0]\r\n      }\r\n      this.$emit('mousedown-picture', realE, index, this.trackIndex, 'picture', isNeedTab)\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"stylus\" scoped>\r\n.pictureTrack\r\n  height 30px\r\n  video,\r\n  .el-image\r\n    width 100%\r\n    height 100%\r\n.pic-container\r\n  position absolute\r\n  display inline-block\r\n  width 0px\r\n  line-height 30px\r\n  font-size 13px\r\n  color #fff\r\n.pic-clip\r\n  display inline-block\r\n  text-align center\r\n  border-radius 5px\r\n  white-space nowrap\r\n  overflow hidden\r\n  text-overflow ellipsis\r\n  cursor pointer\r\n  &:hover\r\n    color #26CB51\r\n  &:focus\r\n    outline 0px\r\n.pic-other\r\n  pointer-events none\r\n.pic-resizable-right\r\n  position absolute\r\n  top 0px\r\n  right -5px\r\n  width 10px\r\n  height 30px\r\n  cursor col-resize\r\n  z-index 4\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PictureTrack.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PictureTrack.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PictureTrack.vue?vue&type=template&id=93ddc8ae&scoped=true&\"\nimport script from \"./PictureTrack.vue?vue&type=script&lang=js&\"\nexport * from \"./PictureTrack.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PictureTrack.vue?vue&type=style&index=0&id=93ddc8ae&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"93ddc8ae\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.isTextLoading),expression:\"isTextLoading\"}]},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.activeName !== 'text'),expression:\"activeName !== 'text'\"}],staticClass:\"picture-container\"},[_c('div',_vm._l((_vm.firstCategoryList),function(first){return _c('div',{key:first.id,class:{\n          'category-style': true,\n          'category-active': _vm.firstCategory.categoryId === first.categoryId\n        },on:{\"click\":function($event){return _vm.handleSecondCategorySearch(first)}}},[_vm._v(_vm._s(first.categoryName))])}),0),_c('div',_vm._l((_vm.secondCategoryList),function(second){return _c('div',{key:second.id,class:{\n          'category-style': true,\n          'category-active': _vm.secondCategory.categoryId === second.categoryId\n        },on:{\"click\":function($event){return _vm.handlePictureSearch(second)}}},[_vm._v(_vm._s(second.categoryName))])}),0),(!_vm.isEmpty)?_c('div',{directives:[{name:\"infinite-scroll\",rawName:\"v-infinite-scroll\",value:(_vm.handlePictureMore),expression:\"handlePictureMore\"}],staticClass:\"picture-list\",staticStyle:{\"overflow-y\":\"scroll\"},attrs:{\"infinite-scroll-delay\":300,\"infinite-scroll-distance\":10}},_vm._l((_vm.textList.slice(0, _vm.picShowAmount)),function(item,index){return _c('div',{key:item.picId,staticClass:\"picture-style\",on:{\"mouseenter\":function($event){_vm.mouseTarget = index},\"mouseleave\":function($event){_vm.mouseTarget = null},\"mousedown\":function($event){return _vm.judgePictureDraggable()}}},[_c('i',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.mouseTarget === index),expression:\"mouseTarget === index\"}],staticClass:\"el-icon-circle-plus-outline picture-plus-icon\",attrs:{\"title\":\"添加\"},on:{\"click\":function($event){return _vm.handleTextIconAdd(item)}}}),_c('div',{staticClass:\"text-list\",style:({\n            fontFamily: item.fontFile,\n            fontSize: item.fontSize / 4 < 14 ? '14px' : item.fontSize / 4 + 'px',\n            fontWeight: item.bold ? 600 : 400,\n            fontStyle: item.italic ? 'italic' : 'normal',\n            color: item.fontColor,\n            textAlign: item.alignment,\n            letterSpacing: item.wordSpacing,\n            opacity: item.transparency,\n            border: item.frame ? 'solid 1px #FFFFFF' : 'none',\n            textShadow: item.shadowY ? '0px 1.5px #000000' : 'none',\n            textDecoration: item.underLine ? 'underline' : 'none',\n            transform: 'rotate(' + item.fontWhirl + ')'\n          }),attrs:{\"draggable\":_vm.materialTrackList.length !== 0},on:{\"dragstart\":function($event){return _vm.handleTextDragStart({\n            e: $event,\n            item: item,\n            index: index,\n            list: 'textTrackList',\n            prefix: 'text',\n            trackId: 'textTrack',\n            isTrackDrag: false\n          })},\"drag\":_vm.handleTextDragging,\"dragend\":_vm.handleTextDragEnd}},[_c('span',[_vm._v(_vm._s(item.text))])])])}),0):_c('div',{staticClass:\"picture-empty\"},[_c('span',[_vm._v(\"暂无\")])])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.activeName === 'text'),expression:\"activeName === 'text'\"}],staticClass:\"text-operation\"},[_vm._l((_vm.typeList),function(type){return _c('div',{key:type.id,class:{\n        'category-style': true,\n        'category-active': _vm.typeIndex === type.id\n      },on:{\"click\":function($event){_vm.typeIndex = type.id}}},[_vm._v(\" \"+_vm._s(type.name))])}),(_vm.typeIndex === 0)?_c('div',{staticClass:\"operation-container\"},[_c('div',{staticClass:\"first-row-container\"},[_c('div',{staticClass:\"first-row\"},[_c('span',[_vm._v(\"字体\")]),_c('el-select',{staticClass:\"long-select\",attrs:{\"filterable\":\"\",\"default-first-option\":\"\"},on:{\"change\":_vm.handleFontFamilyChange},model:{value:(_vm.fontFile),callback:function ($$v) {_vm.fontFile=$$v},expression:\"fontFile\"}},_vm._l((_vm.fontFileList),function(font){return _c('el-option',{key:font.value,attrs:{\"label\":font.name,\"value\":font.value}})}),1)],1),_c('div',{staticClass:\"first-row\"},[_c('span',[_vm._v(\"字号\")]),_c('el-select',{staticClass:\"select-style\",attrs:{\"default-first-option\":\"\"},on:{\"change\":_vm.handleFontSizeChange},model:{value:(_vm.fontSize),callback:function ($$v) {_vm.fontSize=$$v},expression:\"fontSize\"}},_vm._l((95),function(size){return _c('el-option',{key:size,attrs:{\"label\":size * 2 + 10,\"value\":size * 2 + 10}})}),1)],1),_c('div',{staticClass:\"first-row\"},[_c('span',[_vm._v(\"字体颜色\")]),_c('el-input',{staticClass:\"color-input\",model:{value:(_vm.fontColor),callback:function ($$v) {_vm.fontColor=$$v},expression:\"fontColor\"}},[_c('el-color-picker',{staticClass:\"color-picker\",attrs:{\"slot\":\"append\",\"size\":\"mini\",\"color-format\":\"hex\"},on:{\"change\":_vm.handleFontColorClear,\"active-change\":_vm.handleFontColorChange},slot:\"append\",model:{value:(_vm.fontColor),callback:function ($$v) {_vm.fontColor=$$v},expression:\"fontColor\"}})],1)],1)]),_c('div',{staticClass:\"font-style-container\"},[_c('span',[_vm._v(\"文本样式\")]),_vm._l((_vm.fontStyleList),function(item,index){return _c('i',{key:item.name,staticClass:\"font-style-style\",class:item.className,style:({\n            color: _vm.getIsActive(item) || _vm.overIndex === index ? '#26CB51' : '#707070'\n          }),on:{\"mouseover\":function($event){_vm.overIndex = index},\"mouseout\":function($event){_vm.overIndex = null},\"click\":function($event){return _vm.handleFontStyleChange(item)}}})})],2),_c('div',[_c('span',[_vm._v(\"字间距\")]),_c('el-slider',{staticClass:\"operation-area\",attrs:{\"show-input\":true,\"show-tooltip\":false,\"min\":0,\"max\":300,\"step\":1},model:{value:(_vm.letterSpacing),callback:function ($$v) {_vm.letterSpacing=$$v},expression:\"letterSpacing\"}})],1),_c('div',[_c('span',[_vm._v(\"行间距\")]),_c('el-slider',{staticClass:\"operation-area\",attrs:{\"show-input\":true,\"show-tooltip\":false,\"min\":0,\"max\":300,\"step\":100},model:{value:(_vm.lineHeight),callback:function ($$v) {_vm.lineHeight=$$v},expression:\"lineHeight\"}})],1),_c('div',[_c('span',[_vm._v(\"透明度\")]),_c('el-slider',{staticClass:\"operation-area\",attrs:{\"show-input\":true,\"show-tooltip\":false,\"min\":0,\"max\":1,\"step\":0.1},model:{value:(_vm.opacity),callback:function ($$v) {_vm.opacity=$$v},expression:\"opacity\"}})],1)]):_vm._e()],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div v-loading=\"isTextLoading\">\r\n    <!-- 字幕列表页 -->\r\n    <div v-show=\"activeName !== 'text'\" class=\"picture-container\">\r\n      <div>\r\n        <!-- 一级检索目录 -->\r\n        <div\r\n          v-for=\"first in firstCategoryList\"\r\n          :key=\"first.id\"\r\n          :class=\"{\r\n            'category-style': true,\r\n            'category-active': firstCategory.categoryId === first.categoryId\r\n          }\"\r\n          @click=\"handleSecondCategorySearch(first)\"\r\n        >{{ first.categoryName }}</div>\r\n      </div>\r\n      <div>\r\n        <!-- 二级检索目录 -->\r\n        <div\r\n          v-for=\"second in secondCategoryList\"\r\n          :key=\"second.id\"\r\n          :class=\"{\r\n            'category-style': true,\r\n            'category-active': secondCategory.categoryId === second.categoryId\r\n          }\"\r\n          @click=\"handlePictureSearch(second)\"\r\n        >{{ second.categoryName }}</div>\r\n      </div>\r\n      <!-- 字幕列表 -->\r\n      <div\r\n        v-if=\"!isEmpty\"\r\n        v-infinite-scroll=\"handlePictureMore\"\r\n        :infinite-scroll-delay=\"300\"\r\n        :infinite-scroll-distance=\"10\"\r\n        style=\"overflow-y: scroll\"\r\n        class=\"picture-list\"\r\n      >\r\n        <div\r\n          v-for=\"(item, index) in textList.slice(0, picShowAmount)\"\r\n          :key=\"item.picId\"\r\n          class=\"picture-style\"\r\n          @mouseenter=\"mouseTarget = index\"\r\n          @mouseleave=\"mouseTarget = null\"\r\n          @mousedown=\"judgePictureDraggable()\"\r\n        >\r\n          <i\r\n            v-show=\"mouseTarget === index\"\r\n            class=\"el-icon-circle-plus-outline picture-plus-icon\"\r\n            title=\"添加\"\r\n            @click=\"handleTextIconAdd(item)\"\r\n          ></i>\r\n          <!-- 列表内样式应根据设置样式显示 -->\r\n          <div\r\n            class=\"text-list\"\r\n            :draggable=\"materialTrackList.length !== 0\"\r\n            :style=\"{\r\n              fontFamily: item.fontFile,\r\n              fontSize: item.fontSize / 4 < 14 ? '14px' : item.fontSize / 4 + 'px',\r\n              fontWeight: item.bold ? 600 : 400,\r\n              fontStyle: item.italic ? 'italic' : 'normal',\r\n              color: item.fontColor,\r\n              textAlign: item.alignment,\r\n              letterSpacing: item.wordSpacing,\r\n              opacity: item.transparency,\r\n              border: item.frame ? 'solid 1px #FFFFFF' : 'none',\r\n              textShadow: item.shadowY ? '0px 1.5px #000000' : 'none',\r\n              textDecoration: item.underLine ? 'underline' : 'none',\r\n              transform: 'rotate(' + item.fontWhirl + ')'\r\n            }\"\r\n            @dragstart=\"handleTextDragStart({\r\n              e: $event,\r\n              item: item,\r\n              index: index,\r\n              list: 'textTrackList',\r\n              prefix: 'text',\r\n              trackId: 'textTrack',\r\n              isTrackDrag: false\r\n            })\"\r\n            @drag=\"handleTextDragging\"\r\n            @dragend=\"handleTextDragEnd\"\r\n          >\r\n            <span>{{ item.text }}</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div v-else class=\"picture-empty\">\r\n        <span>暂无</span>\r\n      </div>\r\n    </div>\r\n    <!-- 字幕操作页 -->\r\n    <div v-show=\"activeName === 'text'\" class=\"text-operation\">\r\n      <!-- 字幕操作类型按钮: 文字 / 动画 -->\r\n      <div\r\n        v-for=\"type in typeList\"\r\n        :key=\"type.id\"\r\n        :class=\"{\r\n          'category-style': true,\r\n          'category-active': typeIndex === type.id\r\n        }\"\r\n        @click=\"typeIndex = type.id\"\r\n      > {{ type.name }}</div>\r\n      <!-- 文字 -->\r\n      <div v-if=\"typeIndex === 0\" class=\"operation-container\">\r\n        <div class=\"first-row-container\">\r\n          <div class=\"first-row\">\r\n            <span>字体</span>\r\n            <el-select v-model=\"fontFile\" class=\"long-select\" filterable default-first-option @change=\"handleFontFamilyChange\">\r\n              <el-option\r\n                v-for=\"font in fontFileList\"\r\n                :key=\"font.value\"\r\n                :label=\"font.name\"\r\n                :value=\"font.value\"\r\n              ></el-option>\r\n            </el-select>\r\n          </div>\r\n          <div class=\"first-row\">\r\n            <span>字号</span>\r\n            <el-select v-model=\"fontSize\" class=\"select-style\" default-first-option @change=\"handleFontSizeChange\">\r\n              <!-- 12至200 -->\r\n              <el-option\r\n                v-for=\"size in 95\"\r\n                :key=\"size\"\r\n                :label=\"size * 2 + 10\"\r\n                :value=\"size * 2 + 10\"\r\n              ></el-option>\r\n            </el-select>\r\n          </div>\r\n          <div class=\"first-row\">\r\n            <span>字体颜色</span>\r\n            <el-input v-model=\"fontColor\" class=\"color-input\">\r\n              <el-color-picker\r\n                slot=\"append\"\r\n                v-model=\"fontColor\"\r\n                class=\"color-picker\"\r\n                size=\"mini\"\r\n                color-format=\"hex\"\r\n                @change=\"handleFontColorClear\"\r\n                @active-change=\"handleFontColorChange\"\r\n              ></el-color-picker>\r\n            </el-input>\r\n          </div>\r\n        </div>\r\n        <div class=\"font-style-container\">\r\n          <span>文本样式</span>\r\n          <i\r\n            v-for=\"(item, index) in fontStyleList\"\r\n            :key=\"item.name\"\r\n            class=\"font-style-style\"\r\n            :class=\"item.className\"\r\n            :style=\"{\r\n              color: getIsActive(item) || overIndex === index ? '#26CB51' : '#707070'\r\n            }\"\r\n            @mouseover=\"overIndex = index\"\r\n            @mouseout=\"overIndex = null\"\r\n            @click=\"handleFontStyleChange(item)\"\r\n          ></i>\r\n        </div>\r\n        <div>\r\n          <span>字间距</span>\r\n          <el-slider\r\n            v-model=\"letterSpacing\"\r\n            class=\"operation-area\"\r\n            :show-input=\"true\"\r\n            :show-tooltip=\"false\"\r\n            :min=\"0\"\r\n            :max=\"300\"\r\n            :step=\"1\"\r\n          ></el-slider>\r\n        </div>\r\n        <div>\r\n          <span>行间距</span>\r\n          <el-slider\r\n            v-model=\"lineHeight\"\r\n            class=\"operation-area\"\r\n            :show-input=\"true\"\r\n            :show-tooltip=\"false\"\r\n            :min=\"0\"\r\n            :max=\"300\"\r\n            :step=\"100\"\r\n          ></el-slider>\r\n        </div>\r\n        <div>\r\n          <span>透明度</span>\r\n          <el-slider\r\n            v-model=\"opacity\"\r\n            class=\"operation-area\"\r\n            :show-input=\"true\"\r\n            :show-tooltip=\"false\"\r\n            :min=\"0\"\r\n            :max=\"1\"\r\n            :step=\"0.1\"\r\n          ></el-slider>\r\n        </div>\r\n      </div>\r\n      <!-- 动画 -->\r\n      <!-- <div v-if=\"typeIndex === 1\" class=\"operation-container\">\r\n        <el-button size=\"mini\" type=\"primary\">+ 新增动画</el-button>\r\n      </div> -->\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { formatColor } from '@/components/onlineClip/global/functions'\r\nimport { mapState, mapMutations } from 'vuex'\r\nexport default {\r\n  props: {\r\n    isEdit: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      mouseTarget: {},\r\n      firstCategoryList: [],\r\n      secondCategoryList: [],\r\n      typeList: [\r\n        {\r\n          name: '文字',\r\n          id: 0\r\n        }\r\n        // {\r\n        //   name: '动画',\r\n        //   id: 1\r\n        // }\r\n      ],\r\n      textList: [\r\n        { wordSpacing: 0, borderW: false, bold: true, rows: 10, italic: false, lineSpacing: 1, fontFile: 'sans-serif', whirl: 0, shadowY: false, transparency: '1', underLine: false, fontSize: 64, page: 1, text: '标题', alignment: 'center', fontColor: '#ffffff', frame: false },\r\n        { wordSpacing: 0, borderW: false, bold: false, rows: 10, italic: false, lineSpacing: 1, fontFile: 'sans-serif', whirl: 0, shadowY: false, transparency: '1', underLine: false, fontSize: 50, page: 1, text: '副标题', alignment: 'center', fontColor: '#ffffff', frame: false },\r\n        { wordSpacing: 0, borderW: false, bold: false, rows: 10, italic: false, lineSpacing: 1, fontFile: 'cursive', whirl: 0, shadowY: false, transparency: '1', underLine: false, fontSize: 24, page: 1, text: '字幕', alignment: 'center', fontColor: '#ffffff', frame: false }\r\n      ],\r\n      fontStyleList: [ // 字体样式所需的对应操作数据\r\n        {\r\n          name: 'bold',\r\n          styleName: 'fontWeight',\r\n          value: 600,\r\n          originValue: 400,\r\n          className: 'iconfont icon-jiacu'\r\n        },\r\n        {\r\n          name: 'underLine',\r\n          styleName: 'textDecoration',\r\n          value: 'underline',\r\n          originValue: 'none',\r\n          className: 'iconfont icon-xiahuaxian'\r\n        },\r\n        {\r\n          name: 'italic',\r\n          styleName: 'fontStyle',\r\n          value: 'italic',\r\n          originValue: 'normal',\r\n          className: 'iconfont icon-xieti'\r\n        },\r\n        {\r\n          name: 'left',\r\n          styleName: 'textAlign',\r\n          className: 'iconfont icon-juzuoduiqi'\r\n        },\r\n        {\r\n          name: 'center',\r\n          styleName: 'textAlign',\r\n          className: 'iconfont icon-juzhongduiqi'\r\n        },\r\n        {\r\n          name: 'right',\r\n          styleName: 'textAlign',\r\n          className: 'iconfont icon-juyouduiqi'\r\n        },\r\n        {\r\n          name: 'borderW',\r\n          styleName: 'webkitTextStroke',\r\n          value: '1px #000000',\r\n          originValue: '0px',\r\n          className: 'iconfont icon-miaobian enlarge-icon'\r\n        },\r\n        {\r\n          name: 'shadowY',\r\n          styleName: 'textShadow',\r\n          value: '0px 1.5px #000000',\r\n          originValue: 'none',\r\n          className: 'iconfont icon-yinying enlarge-icon'\r\n        }\r\n        // {\r\n        //   name: 'frame',\r\n        //   styleName: 'border',\r\n        //   value: 'solid 1px #FFFFFF',\r\n        //   originValue: 'none',\r\n        //   className: 'iconfont icon-wenzibiankuang enlarge-icon'\r\n        // }\r\n      ],\r\n      overIndex: null,\r\n      isEmpty: false,\r\n      isTextLoading: false,\r\n      picShowAmount: 20,\r\n      typeIndex: 0,\r\n      loadingImage: require('@/assets/material1004.png'),\r\n      fontFileList: [],\r\n      fontFile: null,\r\n      fontSize: null,\r\n      fontColor: '#FFFFFF',\r\n      letterSpacing: 0,\r\n      lineHeight: 100,\r\n      opacity: 1\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState({\r\n      activeName: state => state.activeName,\r\n      selected: state => state.selected,\r\n      selectedTarget: state => state.selectedTarget,\r\n      materialTrackList: state => state.materialTrackList,\r\n      textTrackList: state => state.textTrackList\r\n    })\r\n  },\r\n  watch: {\r\n    selectedTarget: function (val) {\r\n      if (this.activeName !== 'text') {\r\n        return true\r\n      }\r\n      // 若当前选择块为字幕类型 则操作标签页需根据当前值显示数据\r\n      this.initTab(val)\r\n    },\r\n    letterSpacing: function (val) {\r\n      if (this.isEdit) {\r\n        // 若当前有处于编辑状态的drr 需退出\r\n        this.$emit('stop-edit', this.selected.trackIndex)\r\n      }\r\n      this.letterSpacing = val.toFixed(0) * 1\r\n      this.$store.commit('drrTabFontStyle', { styleName: 'letterSpacing', styleValue: this.letterSpacing, name: 'wordSpacing', value: val, isOnly: true })\r\n    },\r\n    lineHeight: function (val) {\r\n      if (this.isEdit) {\r\n        // 若当前有处于编辑状态的drr 需退出\r\n        this.$emit('stop-edit', this.selected.trackIndex)\r\n      }\r\n      const tempNumber = (val / 100).toFixed(0) * 1\r\n      this.lineHeight = tempNumber * 100\r\n      this.$store.commit('drrTabFontStyle', { styleName: 'lineHeight', styleValue: this.lineHeight / 100, name: 'lineSpacing', value: val / 100, isOnly: true })\r\n    },\r\n    opacity: function (val) {\r\n      if (this.isEdit) {\r\n        // 若当前有处于编辑状态的drr 需退出\r\n        this.$emit('stop-edit', this.selected.trackIndex)\r\n      }\r\n      this.$store.commit('drrTabFontStyle', { styleName: 'opacity', styleValue: val, name: 'transparency', value: val, isOnly: true })\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapMutations({\r\n      handleTextDragStart: 'dragStart',\r\n      handleTextDragging: 'tabDragging',\r\n      handleTextDragEnd: 'tabDragEnd'\r\n    }),\r\n    handleSecondCategorySearch () {},\r\n    handlePictureSearch () {},\r\n    handlePictureMore () {},\r\n    judgePictureDraggable () {\r\n      // 判断当前字幕是否可以拖拽添加\r\n      if (this.materialTrackList.length === 0) {\r\n        this.$message({\r\n          type: 'warning',\r\n          message: '视频轨道为空，请添加视频素材后再试'\r\n        })\r\n        return false\r\n      }\r\n      return true\r\n    },\r\n    handleTextIconAdd (text) {\r\n      // 添加字幕方式 - 点击列表图标\r\n      if (this.materialTrackList.length === 0) {\r\n        return false\r\n      }\r\n      this.$emit('icon-add', 'text', text)\r\n    },\r\n    handleFontFamilyChange (font) {\r\n      if (this.isEdit) {\r\n        this.$emit('stop-edit', this.selected.trackIndex)\r\n      }\r\n      this.$store.commit('drrTabFontStyle', { styleName: 'fontFamily', styleValue: font, name: 'fontFile', value: font, isOnly: true })\r\n    },\r\n    handleFontSizeChange (size) {\r\n      if (this.isEdit) {\r\n        this.$emit('stop-edit', this.selected.trackIndex)\r\n      }\r\n      this.$store.commit('drrTabFontOperation', { styleName: 'fontSize', styleValue: size, isNeedPx: true })\r\n    },\r\n    handleFontColorClear (color) {\r\n      // color-picker选择清空时 设置默认的颜色值#FFFFFF\r\n      if (color === null) {\r\n        this.handleFontColorChange('rgb(255, 255, 255)')\r\n      }\r\n    },\r\n    handleFontColorChange (color) {\r\n      // color-picker选择的颜色值发生改变时 各项数据同步\r\n      if (this.isEdit) {\r\n        this.$emit('stop-edit', this.selected.trackIndex)\r\n      }\r\n      this.fontColor = formatColor(color)\r\n      this.$store.commit('drrTabFontStyle', { styleName: 'color', styleValue: this.fontColor, name: 'fontColor', value: this.fontColor, isOnly: true })\r\n    },\r\n    handleFontStyleChange (target) {\r\n      // 字体样式分类处理\r\n      switch (target.styleName) {\r\n        case 'textAlign':\r\n          this.handleTextAlign(target)\r\n          break\r\n        default:\r\n          this.handleBooleanStyle(target)\r\n      }\r\n    },\r\n    handleTextAlign (target) {\r\n      const isAcitve = this.selectedTarget['alignment'] === target.name\r\n      // 字体样式 - 文本对齐方式 默认居左\r\n      const styleValue = isAcitve ? 'left' : target.name\r\n      this.$store.commit('drrTabFontStyle', { styleName: target.styleName, styleValue: styleValue, name: 'alignment', value: styleValue })\r\n    },\r\n    handleBooleanStyle (target) {\r\n      const isAcitve = this.selectedTarget[target.name]\r\n      const styleValue = isAcitve ? target.originValue : target.value\r\n      this.$store.commit('drrTabFontStyle', { styleName: target.styleName, styleValue: styleValue, name: target.name, value: !isAcitve })\r\n    },\r\n    getIsActive (target) {\r\n      // 判断是否采用某字体样式 需要改变对应的图标颜色\r\n      if (target.styleName === 'textAlign') {\r\n        return this.selectedTarget['alignment'] === target.name\r\n      }\r\n      return this.selectedTarget[target.name]\r\n    },\r\n    initTab (val) {\r\n      // 操作标签页需根据当前对象更新数据\r\n      this.fontFile = val.fontFile\r\n      this.fontSize = val.fontSize\r\n      this.fontColor = val.fontColor || '#000000'\r\n      this.letterSpacing = val.wordSpacing\r\n      this.lineHeight = val.lineSpacing * 100\r\n      this.opacity = val.transparency || 1\r\n    }\r\n  },\r\n  created () {\r\n    // 关闭接口\r\n    // this.isTextLoading = true\r\n    // 获取字幕列表\r\n    // this.$service.getTextList().then(data => {\r\n    //   this.textList = data.data\r\n    //   this.isTextLoading = false\r\n    // })\r\n    // // 获取字体列表\r\n    // this.$service.getFontFileList().then(data => {\r\n    //   this.fontFileList = data.data\r\n    // })\r\n    this.$nextTick(() => {\r\n      if (this.activeName === 'text') {\r\n        // 若当前激活drr为字幕 则需对应显示操作标签页及对应数据\r\n        this.initTab(this.selectedTarget)\r\n      }\r\n    })\r\n  }\r\n}\r\n</script>\r\n<style lang=\"stylus\" scoped>\r\n.picture-container\r\n  position relative\r\n  height 100%\r\n  overflow hidden\r\n.picture-list\r\n  user-select none // 禁止选中 避免在不允许拖拽的情况下 使用浏览器默认选中行为后再进行拖拽\r\n.picture-style\r\n  display inline-block\r\n  position relative\r\n  margin 5px\r\n  width 88px\r\n  height 50px\r\n  vertical-align top\r\n  border 2px solid #888\r\n  border-radius 5px\r\n  transition all .3s\r\n  &:hover\r\n    color #26CB51\r\n    border-color #26CB51\r\n  .el-image\r\n    width 100%\r\n    height 100%\r\n    border-radius 3px\r\n.picture-plus-icon\r\n  position absolute\r\n  top 1px\r\n  right 1px\r\n  font-size 15px\r\n  font-weight 600\r\n  cursor pointer\r\n  z-index 2\r\n.text-list\r\n  width 100%\r\n  height 50px\r\n  line-height 50px\r\n.category-style\r\n  display inline-block\r\n  margin 3px\r\n  padding 0px 10px\r\n  max-width 80px\r\n  height 25px\r\n  line-height 25px\r\n  text-align center\r\n  font-size 12px\r\n  color #999\r\n  border 1px solid #888\r\n  border-radius 5px\r\n  cursor pointer\r\n  transition all .3s\r\n  &:hover\r\n    border 1px solid #26CB51\r\n    color #26CB51\r\n.category-active\r\n  border 1px solid #26CB51\r\n  color #26CB51\r\n.text-operation\r\n  span\r\n    display inline-block\r\n    width 10%\r\n    text-align left\r\n    vertical-align super\r\n.operation-container\r\n  padding 30px 10px 0\r\n.first-row\r\n  display inline-block\r\n  margin 0 40px 20px 0\r\n  span\r\n    display inline\r\n    padding-right 20px\r\n.select-style\r\n  width 100px\r\n.long-select\r\n  width 200px\r\n.color-input\r\n  width 130px\r\n  >>>.el-input-group__append\r\n    padding 0px\r\n    vertical-align bottom\r\n.color-picker\r\n  >>>.el-color-picker__trigger\r\n    padding 0px\r\n    width 31px\r\n    height 27px\r\n    vertical-align middle\r\n    border none\r\n.font-style-container\r\n  height 40px\r\n.font-style-style\r\n  display inline-block\r\n  margin 0px 10px\r\n  &:hover\r\n    color #26CB51\r\n    cursor pointer\r\n.enlarge-icon\r\n  font-size 18px\r\n.operation-area\r\n  display inline-block\r\n  width 85%\r\n  height 50px\r\n  vertical-align middle\r\n  >>>.el-slider__runway\r\n    height 2.5px\r\n    .el-slider__bar\r\n      height 2.5px\r\n    .el-slider__button\r\n      width 10px\r\n      height 10px\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextTab.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextTab.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TextTab.vue?vue&type=template&id=76a8732d&scoped=true&\"\nimport script from \"./TextTab.vue?vue&type=script&lang=js&\"\nexport * from \"./TextTab.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TextTab.vue?vue&type=style&index=0&id=76a8732d&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"76a8732d\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"textTrack\",attrs:{\"id\":'textTrack' + _vm.trackIndex},on:{\"dragenter\":_vm.handleTextDragEnter,\"dragover\":_vm.handleTextDragOver,\"dragend\":_vm.handleTextDragEnd,\"drop\":_vm.handleTextDrop}},_vm._l((_vm.trackList),function(item,index){return _c('div',{key:item.seq + '' + index,staticClass:\"text-container\"},[_c('div',{ref:'text' + index,refInFor:true,staticClass:\"text-clip\",attrs:{\"id\":'text' + index,\"draggable\":true},on:{\"click\":function($event){return _vm.handleClick($event, index)},\"mousedown\":function($event){return _vm.handleMouseDown($event, index, true)},\"dragstart\":function($event){return _vm.handleTextDragStart({\n        e: $event,\n        item: item,\n        index: index,\n        trackIndex: _vm.trackIndex,\n        list: 'textTrackList',\n        prefix: 'text',\n        trackId: 'textTrack',\n        isTrackDrag: true\n      })},\"drag\":_vm.handleTrackTextDragging}},[_c('span',{staticClass:\"pic-other\"},[_vm._v(_vm._s(item.text))]),(_vm.selected.type === 'textTrackList' && _vm.selected.index === index)?_c('div',{directives:[{name:\"resize\",rawName:\"v-resize\"}],staticClass:\"pic-resizable-right\"}):_vm._e()])])}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div\r\n    class=\"textTrack\"\r\n    :id=\"'textTrack' + trackIndex\"\r\n    @dragenter=\"handleTextDragEnter\"\r\n    @dragover=\"handleTextDragOver\"\r\n    @dragend=\"handleTextDragEnd\"\r\n    @drop=\"handleTextDrop\"\r\n  >\r\n    <div\r\n      v-for=\"(item, index) in trackList\"\r\n      :key=\"item.seq + '' + index\"\r\n      class=\"text-container\"\r\n    >\r\n      <div\r\n        class=\"text-clip\"\r\n        :id=\"'text' + index\"\r\n        :ref=\"'text' + index\"\r\n        @click=\"handleClick($event, index)\"\r\n        @mousedown=\"handleMouseDown($event, index, true)\"\r\n        :draggable=\"true\"\r\n        @dragstart=\"handleTextDragStart({\r\n          e: $event,\r\n          item: item,\r\n          index: index,\r\n          trackIndex: trackIndex,\r\n          list: 'textTrackList',\r\n          prefix: 'text',\r\n          trackId: 'textTrack',\r\n          isTrackDrag: true\r\n        })\"\r\n        @drag=\"handleTrackTextDragging\"\r\n      >\r\n        <span class=\"pic-other\">{{ item.text }}</span>\r\n        <div\r\n          v-if=\"selected.type === 'textTrackList' && selected.index === index\"\r\n          v-resize\r\n          class=\"pic-resizable-right\"\r\n        ></div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { mapState, mapMutations } from 'vuex'\r\nexport default {\r\n  props: {\r\n    trackIndex: {\r\n      type: Number,\r\n      default: 0\r\n    },\r\n    trackList: {\r\n      type: Array,\r\n      default: function () {}\r\n    }\r\n  },\r\n  directives: {\r\n    resize: function (e, bingding, vnode) {\r\n      let holder = e\r\n      holder.onmousedown = (e) => {\r\n        const distanceX = e.clientX - holder.offsetLeft\r\n        const target = vnode.context.$refs['text' + vnode.context.selected.index][0]\r\n        vnode.context.handleTrackResize()\r\n        document.onmousemove = (e) => {\r\n          e.preventDefault()\r\n          const range = e.clientX - distanceX\r\n          if (range < 5) {\r\n            return false\r\n          }\r\n          vnode.context.handleResize(target, range)\r\n        }\r\n        document.onmouseup = () => {\r\n          document.onmousemove = null\r\n          document.onmouseup = null\r\n          vnode.context.handleTrackResize()\r\n          vnode.context.handleResizeEnd()\r\n        }\r\n      }\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState({\r\n      selected: state => state.selected,\r\n      // textTrackList: state => state.textTrackList,\r\n      isTextActive: state => state.isTextActive\r\n    })\r\n  },\r\n  watch: {\r\n    'trackList': function (val) {\r\n      this.$nextTick(() => {\r\n        const selectedIndex = val.findIndex(item => {\r\n          return item.isSelected\r\n        })\r\n        if (selectedIndex !== -1) {\r\n          val[selectedIndex].isSelected = false\r\n          const e = this.$refs['text' + selectedIndex][0]\r\n          this.handleMouseDown(e, selectedIndex, false)\r\n        }\r\n      })\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapMutations({\r\n      handleTextDragEnter: 'dragTrackEnter',\r\n      handleTextDragEnd: 'trackDragEnd',\r\n      handleTextDragStart: 'dragStart',\r\n      handleTrackTextDragging: 'trackDragging',\r\n      handleTextDrop: 'drop',\r\n      handleTrackResize: 'isTrackResizeInvert'\r\n    }),\r\n    handleTextDragOver (e) {\r\n      this.$store.commit('dragTrackOver', { e: e, vm: this })\r\n    },\r\n    handleResize (element, newWidth) {\r\n      this.$store.commit('trackBlockResize', { element: element, newWidth: newWidth, list: 'textTrackList', prefix: 'text', vm: this })\r\n    },\r\n    handleResizeEnd () {\r\n      this.$store.commit('getList')\r\n    },\r\n    handleClick (e, index) {\r\n      let realE = e\r\n      if (!e.target || e.target.className !== 'text-clip') {\r\n        realE = this.$refs['text' + index][0]\r\n      }\r\n      this.$emit('click-text', realE, index, this.trackIndex, 'textTrackList', 'textTab', 'text')\r\n    },\r\n    handleMouseDown (e, index, isNeedTab) {\r\n      // isNeedTab: 用于区分是否需要激活对应DRR - 在轨道拖拽操作中不必激活\r\n      let realE = e\r\n      if (!e.target || e.target.className !== 'text-clip') {\r\n        realE = this.$refs['text' + index][0]\r\n      }\r\n      this.$emit('mousedown-text', realE, index, this.trackIndex, 'text', isNeedTab)\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"stylus\" scoped>\r\n.textTrack\r\n  height 28px\r\n.text-container\r\n  position absolute\r\n  display inline-block\r\n  width 0px\r\n  line-height 28px\r\n  font-size 13px\r\n  color #333\r\n.text-clip\r\n  display inline-block\r\n  text-align center\r\n  border-radius 5px\r\n  // border 1px solid #ccc\r\n  box-shadow #ccc 0px 0px 1px 1px inset\r\n  white-space nowrap\r\n  overflow hidden\r\n  text-overflow ellipsis\r\n  cursor pointer\r\n  &:hover\r\n    color #26CB51\r\n  &:focus\r\n    outline 0px\r\n.pic-other\r\n  pointer-events none\r\n.pic-resizable-right\r\n  position absolute\r\n  top 0px\r\n  right -5px\r\n  width 10px\r\n  height 28px\r\n  cursor col-resize\r\n  z-index 4\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextTrack.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextTrack.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TextTrack.vue?vue&type=template&id=630e63c4&scoped=true&\"\nimport script from \"./TextTrack.vue?vue&type=script&lang=js&\"\nexport * from \"./TextTrack.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TextTrack.vue?vue&type=style&index=0&id=630e63c4&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"630e63c4\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"transition-container\"},[_c('ul',{staticClass:\"type-container\",style:({\n      visibility: _vm.isShowPopover && _vm.isShowUl ? 'visible' : 'hidden',\n      transform: 'translate(' + (_vm.activeIcon.trackStartTime * _vm.trackScale + _vm.ulXMove) + 'px, -100%)',\n      top: _vm.ulTop + 'px'\n    }),attrs:{\"id\":\"typeContainer\"}},[_c('li',[_c('span',[_vm._v(\"时长 \")]),_c('el-input-number',{staticClass:\"input-duration\",attrs:{\"size\":\"mini\",\"controls\":false},on:{\"change\":_vm.handleDurationChange},model:{value:(_vm.duration),callback:function ($$v) {_vm.duration=$$v},expression:\"duration\"}}),_c('span',[_vm._v(\" s\")])],1),_vm._l((_vm.typeList),function(item){return _c('li',{key:item.id,class:{\n        'li-style': true,\n        'active-li': _vm.activeIcon.typeId === item.id\n      },on:{\"click\":function($event){return _vm.handleTypeSelect(item)}}},[_c('span',[_vm._v(\" \"+_vm._s(item.label))]),_c('i',{staticClass:\"el-icon-check checked-icon\",style:({\n          visibility: _vm.isShowPopover && _vm.isShowUl && _vm.activeIcon.typeId === item.id ? 'visible' : 'hidden'\n        })})])})],2),_vm._l((_vm.transitionList),function(item,index){return _c('div',{key:item.id + '' + item.trackStartTime + index,ref:\"transtionIcon\",refInFor:true,staticClass:\"transition-icon\",style:({\n      transform: 'translateX(' + (item.trackStartTime * _vm.trackScale - 5) + 'px)',\n      width: item.zoomTime * _vm.trackScale + 10 + 'px'\n    }),attrs:{\"id\":'icon' + index},on:{\"click\":function($event){return _vm.handlePopoverShow(item, index)}}},[_c('i',{staticClass:\"el-icon-more\"})])})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"transition-container\">\r\n    <!-- 正确定位列表 -->\r\n    <ul\r\n      id=\"typeContainer\"\r\n      class=\"type-container\"\r\n      :style=\"{\r\n        visibility: isShowPopover && isShowUl ? 'visible' : 'hidden',\r\n        transform: 'translate(' + (activeIcon.trackStartTime * trackScale + ulXMove) + 'px, -100%)',\r\n        top: ulTop + 'px'\r\n      }\"\r\n    >\r\n      <li>\r\n        <span>时长 </span>\r\n        <el-input-number\r\n          v-model=\"duration\"\r\n          class=\"input-duration\"\r\n          size=\"mini\"\r\n          :controls=\"false\"\r\n          @change=\"handleDurationChange\"\r\n        >\r\n        </el-input-number>\r\n        <span> s</span>\r\n      </li>\r\n      <li\r\n        v-for=\"item in typeList\"\r\n        :key=\"item.id\"\r\n        :class=\"{\r\n          'li-style': true,\r\n          'active-li': activeIcon.typeId === item.id\r\n        }\"\r\n        @click=\"handleTypeSelect(item)\"\r\n      >\r\n        <!-- <el-image\r\n          class=\"transition-type\"\r\n          :src=\"activeIcon.typeId === item.id ? item.activeImage : item.img\"\r\n        ></el-image> -->\r\n        <span> {{ item.label }}</span>\r\n        <i\r\n          class=\"el-icon-check checked-icon\"\r\n          :style=\"{\r\n            visibility: isShowPopover && isShowUl && activeIcon.typeId === item.id ? 'visible' : 'hidden'\r\n          }\"\r\n        ></i>\r\n      </li>\r\n    </ul>\r\n    <div\r\n      v-for=\"(item, index) in transitionList\"\r\n      :key=\"item.id + '' + item.trackStartTime + index\"\r\n      ref=\"transtionIcon\"\r\n      class=\"transition-icon\"\r\n      :id=\"'icon' + index\"\r\n      :style=\"{\r\n        transform: 'translateX(' + (item.trackStartTime * trackScale - 5) + 'px)',\r\n        width: item.zoomTime * trackScale + 10 + 'px'\r\n      }\"\r\n      @click=\"handlePopoverShow(item, index)\"\r\n    >\r\n      <i class=\"el-icon-more\"></i>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport Various from '../global/various'\r\nimport { mapState } from 'vuex'\r\nexport default {\r\n  props: {\r\n    isSaveOrSubmit: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      trackScale: Various.trackScale,\r\n      isShowPopover: false,\r\n      isShowUl: false,\r\n      transitionList: [],\r\n      typeList: [\r\n        {\r\n          id: 1,\r\n          label: '淡入淡出',\r\n          src: '',\r\n          transitionName: 'displacement',\r\n          duration: 5\r\n        },\r\n        {\r\n          id: 2,\r\n          label: '互换淡入',\r\n          src: '',\r\n          transitionName: 'swap',\r\n          duration: 9\r\n        },\r\n        {\r\n          id: 3,\r\n          label: '往上擦去',\r\n          src: '',\r\n          transitionName: 'wipeUp',\r\n          duration: 15\r\n        },\r\n        {\r\n          id: 4,\r\n          label: '往下擦去',\r\n          src: '',\r\n          transitionName: 'wipeDown',\r\n          duration: 10\r\n        },\r\n        {\r\n          id: 5,\r\n          label: '往左擦去',\r\n          src: '',\r\n          transitionName: 'wipeLeft',\r\n          duration: 10\r\n        },\r\n        {\r\n          id: 6,\r\n          label: '往右擦去',\r\n          src: '',\r\n          transitionName: 'wipeRight',\r\n          duration: 10\r\n        },\r\n        {\r\n          id: 8,\r\n          label: '简单缩放',\r\n          src: '',\r\n          transitionName: 'SimpleZoom',\r\n          duration: 10\r\n        },\r\n        {\r\n          id: 9,\r\n          label: '波纹',\r\n          src: '',\r\n          transitionName: 'ripple',\r\n          duration: 10\r\n        },\r\n        {\r\n          id: 10,\r\n          label: '燃烧',\r\n          src: '',\r\n          transitionName: 'burn',\r\n          duration: 10\r\n        },\r\n        {\r\n          id: 11,\r\n          label: '翻页',\r\n          src: '',\r\n          transitionName: 'InvertedPageCurl',\r\n          duration: 10\r\n        },\r\n        {\r\n          id: 12,\r\n          label: '心形',\r\n          src: '',\r\n          transitionName: 'heart',\r\n          duration: 10\r\n        },\r\n        {\r\n          id: 13,\r\n          label: '圆形',\r\n          src: '',\r\n          transitionName: 'CircleCrop',\r\n          duration: 10\r\n        },\r\n        {\r\n          id: 7,\r\n          label: '无效果',\r\n          src: '',\r\n          transitionName: '',\r\n          duration: 10\r\n        }\r\n      ],\r\n      duration: 1,\r\n      activeIcon: {},\r\n      activeIconIndex: null,\r\n      ulTop: 0,\r\n      ulXMove: 0,\r\n      isInitTransition: false\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState({\r\n      materialTrackList: state => state.materialTrackList\r\n    })\r\n  },\r\n  watch: {\r\n    materialTrackList: function () {\r\n      if (this.isInitTransition) {\r\n        this.isInitTransition = false\r\n        return true\r\n      }\r\n      this.$nextTick(() => {\r\n        this.getTransitionList()\r\n      })\r\n    }\r\n  },\r\n  methods: {\r\n    handleDurationChange () {\r\n      this.duration = Math.floor(this.duration)\r\n      // 输入值大于过渡的最大时长时: 以最大时长赋值\r\n      if (this.duration > this.activeIcon.maxDuration) {\r\n        this.activeIcon.zoomTime = this.activeIcon.maxDuration\r\n        this.duration = this.activeIcon.maxDuration\r\n      } else {\r\n        this.activeIcon.zoomTime = this.duration\r\n      }\r\n      this.activeIcon.playbackRate = this.activeIcon.videoDuration ? (this.activeIcon.videoDuration / this.activeIcon.zoomTime).toFixed(1) * 1 : 1\r\n      this.activeIcon.trackStartTime = Math.floor(this.activeIcon.originStartTime - this.activeIcon.zoomTime / 2)\r\n      this.activeIcon.trackEndTime = Math.floor(this.activeIcon.trackStartTime + this.activeIcon.zoomTime)\r\n      Various.transitionList = this.transitionList\r\n      this.handleUlPosition(this.activeIconIndex, this.duration * this.trackScale + 10)\r\n    },\r\n    handleTypeSelect (type) {\r\n      this.activeIcon.transitionName = type.transitionName\r\n      this.activeIcon.typeId = type.id\r\n      this.activeIcon.videoDuration = type.duration\r\n      this.activeIcon.playbackRate = (this.activeIcon.videoDuration / this.activeIcon.zoomTime).toFixed(1) * 1\r\n      this.handleIconColor(type, this.activeIconIndex, this.activeIconIndex + 1, false)\r\n      Various.transitionList = this.transitionList\r\n    },\r\n    handlePopoverShow (item, index) {\r\n      this.handleUlPosition(index, item.zoomTime * this.trackScale + 10)\r\n      this.activeIcon = item\r\n      this.activeIconIndex = index\r\n      this.duration = item.zoomTime\r\n      // 过渡默认为无效果\r\n      if (!this.activeIcon.typeId) {\r\n        this.activeIcon.typeId = 7\r\n      }\r\n      this.isShowUl = true\r\n    },\r\n    handleUlPosition (index, iconWidth) {\r\n      // 获取列表位置 减去 过渡图标&箭头宽/高度 以及容器滚动宽度\r\n      const scrollWidth = document.querySelector('.clip-resource').scrollLeft\r\n      const iconTarget = this.$refs.transtionIcon[index]\r\n      const iconTop = iconTarget.getBoundingClientRect().top\r\n      const ulTarget = document.getElementById('typeContainer')\r\n      const ulWidth = ulTarget.getBoundingClientRect().width\r\n      this.ulXMove = iconWidth / 2 - ulWidth / 2 - 5 - scrollWidth\r\n      this.ulTop = iconTop - 25\r\n      ulTarget.style.transform = 'translate(' + (this.activeIcon.trackStartTime * this.trackScale + this.ulXMove) + 'px, -100%)'\r\n    },\r\n    handleIconColor (target, index, length, isArray) {\r\n      for (let i = index; i < length; i++) {\r\n        let realTarget = isArray ? target[i] : target\r\n        const iconTarget = document.getElementById('icon' + i)\r\n        if (iconTarget) {\r\n          iconTarget.style.color = realTarget.typeId !== 7 ? '#26CB51' : '#606266'\r\n        }\r\n      }\r\n    },\r\n    getTransitionList () {\r\n      const tempList = this.materialTrackList.reduce((list, item, index, arr) => {\r\n        // 获取与下一个块相连的块\r\n        if (arr[index + 1] && arr[index].trackEndTime === arr[index + 1].trackStartTime) {\r\n          // 获取过渡允许的的最大时长: 两边更小值的1/2\r\n          const durationOne = arr[index].trackEndTime - arr[index].trackStartTime\r\n          const durationTwo = arr[index + 1].trackEndTime - arr[index + 1].trackStartTime\r\n          const maxDuration = durationOne < durationTwo ? durationOne : durationTwo\r\n          // 当两边更小值过小的情况\r\n          const duration = maxDuration / 2 > 1 ? 1 : maxDuration / 2\r\n          // -1是避免两个转场图标重叠\r\n          const tempItem = {\r\n            id: item.id ? item.id : item.rlsId,\r\n            trackStartTime: item.trackEndTime - duration / 2,\r\n            trackEndTime: item.trackEndTime - duration / 2 + 1,\r\n            originStartTime: item.trackEndTime,\r\n            maxDuration: Math.floor(maxDuration - 1),\r\n            typeId: 7,\r\n            playbackRate: 1,\r\n            zoomTime: Math.floor(duration),\r\n            transitionName: '',\r\n            position: list.length ? list.length + 1 : 1,\r\n            beforeTime: Math.floor(durationOne),\r\n            afterTime: Math.floor(durationTwo)\r\n          }\r\n          list.push(tempItem)\r\n        }\r\n        return list\r\n      }, [])\r\n      this.transitionList = tempList\r\n      this.handleIconColor(tempList, 0, tempList.length, true)\r\n      Various.transitionList = this.transitionList\r\n    },\r\n    initTransition (list) {\r\n      this.isInitTransition = true\r\n      this.transitionList = list\r\n      Various.transitionList = this.transitionList\r\n      this.$nextTick(() => {\r\n        this.handleIconColor(list, 0, list.length, true)\r\n      })\r\n    },\r\n    clickMonitor (e) {\r\n      // 提交剪辑页面出来时 不需要监控了\r\n      if (this.isSaveOrSubmit) {\r\n        return true\r\n      }\r\n      // 5为typeContainer所在的最深层级\r\n      const list = e.path\r\n      let flag = false\r\n      for (let i = 0; i < 5; i++) {\r\n        if (list[i].id === 'typeContainer' || list[i].className === 'transition-icon') {\r\n          flag = true\r\n          break\r\n        }\r\n      }\r\n      // 两个变量控制 避免列表还未移好位置就出现\r\n      if (flag) {\r\n        this.isShowPopover = true\r\n      } else {\r\n        this.isShowPopover = false\r\n        this.isShowUl = false\r\n      }\r\n    },\r\n    scrollMonitor () {\r\n      // 页面出现滚动时 关闭列表 避免定位错误\r\n      if (this.isShowPopover) {\r\n        this.isShowPopover = false\r\n        this.isShowUl = false\r\n      }\r\n    }\r\n  },\r\n  mounted () {\r\n    window.addEventListener('mousedown', this.clickMonitor)\r\n    document.querySelector('.clip-resource').addEventListener('scroll', this.scrollMonitor)\r\n  },\r\n  beforeDestroy () {\r\n    window.removeEventListener('mousedown', this.clickMonitor)\r\n  }\r\n}\r\n</script>\r\n<style lang=\"stylus\" scoped>\r\n.type-container\r\n  position fixed\r\n  padding 10px\r\n  border 1px solid #26CB51\r\n  border-radius 5px\r\n  font-size 13px\r\n  line-height 25px\r\n  background #fff\r\n  z-index 6\r\n.type-container:after\r\n  content ''\r\n  position absolute\r\n  bottom -7px\r\n  left 50%\r\n  width 0px\r\n  height 0px\r\n  transform translateX(-50%)\r\n  border-width 7px 6px 0px\r\n  border-style solid\r\n  border-color #fff transparent transparent\r\n.input-duration\r\n  width 50px\r\n  >>>.el-input__inner\r\n    padding 0px 5px\r\n.li-style\r\n  &:hover\r\n    color #26CB51\r\n    cursor pointer\r\n  span\r\n    padding-left 10px\r\n.active-li\r\n  color #26CB51\r\n.transition-type\r\n  width 20px\r\n  height 20px\r\n  vertical-align middle\r\n.checked-icon\r\n  margin-left 10px\r\n  font-size 17px\r\n  font-weight 600\r\n  vertical-align middle\r\n.transition-icon\r\n  position absolute\r\n  top 18px\r\n  height 20px\r\n  text-align center\r\n  border-radius 5px\r\n  background #f5f7fa\r\n  overflow hidden\r\n  &:hover\r\n    color #26CB51\r\n    cursor pointer\r\ni\r\n  color #606266\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransitionTrack.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransitionTrack.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TransitionTrack.vue?vue&type=template&id=fe1b250c&scoped=true&\"\nimport script from \"./TransitionTrack.vue?vue&type=script&lang=js&\"\nexport * from \"./TransitionTrack.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TransitionTrack.vue?vue&type=style&index=0&id=fe1b250c&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"fe1b250c\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div\r\n    v-loading=\"isClipLoading\"\r\n    element-loading-text=\"努力加载中...\"\r\n    element-loading-background=\"rgba(0, 0, 0, 0.8)\"\r\n    element-loading-custom-class=\"loading-style\"\r\n    id=\"onlineClip\"\r\n    class=\"online-clip\"\r\n  >\r\n    <el-row class=\"main-area\">\r\n      <el-col :span=\"15\" class=\"material-cols\" ref=\"tabsCol\">\r\n        <!-- tabs素材区域 -->\r\n        <el-row class=\"material-area\">\r\n          <el-tabs v-model=\"onlineTab\" class=\"online-clip-tabs\">\r\n            <el-tab-pane name=\"materialTab\">\r\n              <span slot=\"label\"><i class=\"el-icon-folder-opened\"></i> 已选素材</span>\r\n              <MaterialTab\r\n                v-if=\"onlineTab === 'materialTab'\"\r\n                ref=\"materialTab\"\r\n                @update-date=\"updateData\"\r\n                @video-data=\"handleVideoDataSet\"\r\n                @video-cover=\"drawCanvasVideoCover\"\r\n                @selected-click=\"handleSelectedClick\"\r\n                @show-material-dialog=\"handleShowMaterialDialog\"\r\n              ></MaterialTab>\r\n            </el-tab-pane>\r\n            <el-tab-pane name=\"pictureTab\">\r\n              <span slot=\"label\"><i class=\"el-icon-picture-outline\"></i> 贴图</span>\r\n              <PictureTab\r\n                v-if=\"onlineTab === 'pictureTab'\"\r\n                ref=\"pictureTab\"\r\n                :tab-name=\"onlineTab\"\r\n                @icon-add=\"handleIconAdd\"\r\n              ></PictureTab>\r\n            </el-tab-pane>\r\n            <el-tab-pane name=\"textTab\">\r\n              <span slot=\"label\">\r\n                <span class=\"diy-icon-t\">T</span> 字幕\r\n              </span>\r\n              <TextTab\r\n                v-if=\"onlineTab === 'textTab'\"\r\n                :is-edit=\"isTextEdit\"\r\n                @icon-add=\"handleIconAdd\"\r\n                @stop-edit=\"handleCancelEdit\"\r\n              ></TextTab>\r\n            </el-tab-pane>\r\n            <el-tab-pane>\r\n              <span slot=\"label\"><i class=\"el-icon-guide\"></i> 转场</span>\r\n              <TempMessage></TempMessage>\r\n            </el-tab-pane>\r\n            <el-tab-pane>\r\n              <span slot=\"label\"><i class=\"el-icon-service\"></i> 配乐</span>\r\n              <TempMessage></TempMessage>\r\n            </el-tab-pane>\r\n            <el-tab-pane>\r\n              <span slot=\"label\"><i class=\"el-icon-magic-stick\"></i> 滤镜</span>\r\n              <TempMessage></TempMessage>\r\n            </el-tab-pane>\r\n          </el-tabs>\r\n        </el-row>\r\n      </el-col>\r\n      <el-col :span=\"9\" class=\"video-cols\" ref=\"videoCols\">\r\n        <!-- 播放及drr操作区域 -->\r\n        <div v-loading=\"isLoadingVideo\" class=\"video-frame\" ref=\"videoFrame\">\r\n          <video id=\"video\" ref=\"video\" preload=\"auto\" crossOrigin=\"*\" style=\"display: none\" :src=\"videoSrc\"></video>\r\n          <!-- <video\r\n            ref=\"videoTransition\"\r\n            style=\"display: none\"\r\n            preload=\"auto\"\r\n            crossOrigin=\"*\"\r\n            :src=\"playingTransition ? playingTransition.transitionMaterialUrl : ''\"\r\n          ></video> -->\r\n          <canvas id=\"canvasVideo\" ref=\"canvasVideo\" class=\"canvas-video\"></canvas>\r\n          <!-- 先定义的在下层 -->\r\n          <PictureDrr\r\n            v-for=\"(item, index) in reversePictureList\"\r\n            :key=\"'pictureDrr' + getReverseIndex(index, reversePictureList.length)\"\r\n            ref=\"pictureDrr\"\r\n            :track-index=\"getReverseIndex(index, reversePictureList.length)\"\r\n            :track-list=\"item\"\r\n            :key-code=\"keyCode\"\r\n            :video-play=\"videoPlay\"\r\n            :is-text-edit=\"isTextEdit\"\r\n            @video-pause=\"handleVideoPause\"\r\n            @stop-edit=\"handleCancelEdit\"\r\n          ></PictureDrr>\r\n          <TextDrr\r\n            v-for=\"(item, index) in reverseTextList\"\r\n            :key=\"'textDrr' + getReverseIndex(index, reverseTextList.length)\"\r\n            ref=\"textDrr\"\r\n            :id=\"'textDrr' + getReverseIndex(index, reverseTextList.length)\"\r\n            :track-index=\"getReverseIndex(index, reverseTextList.length)\"\r\n            :track-list=\"item\"\r\n            :key-code=\"keyCode\"\r\n            :video-play=\"videoPlay\"\r\n            :is-text-edit=\"isTextEdit\"\r\n            @text-edit=\"handleTextEdidState\"\r\n            @video-pause=\"handleVideoPause\"\r\n            @stop-edit=\"handleCancelEdit\"\r\n          ></TextDrr>\r\n        </div>\r\n        <div class=\"video-controls\">\r\n          <!-- 播放器控制条区域 -->\r\n          <div class=\"controls-icons\">\r\n            <el-image v-if=\"!videoPlay\" class=\"controls-play\" :src=\"controlsIcons.play\" @click=\"handleVideoPlay\"></el-image>\r\n            <el-image v-if=\"videoPlay\" class=\"controls-pause\" :src=\"controlsIcons.pause\" @click=\"handleVideoPause\"></el-image>\r\n          </div>\r\n          <div class=\"controls-duration\">\r\n            {{ trackCurrentTime }} / {{ trackDurationString }}\r\n          </div>\r\n        </div>\r\n      </el-col>\r\n    </el-row>\r\n    <el-row class=\"operations-area\">\r\n      <div class=\"operations-convenient\">\r\n        <!-- 本期不实现 -->\r\n        <!-- <i class=\"el-icon-back\"></i>\r\n        <i class=\"el-icon-right\"></i> -->\r\n        <i\r\n          :class=\"{\r\n            'el-icon-delete': true,\r\n            'icon-ban': !selected.type\r\n          }\"\r\n          @click=\"keyUpMonitor({ keyCode: 46 })\"\r\n        ></i>\r\n        <i\r\n          :class=\"{\r\n            'el-icon-scissors': true,\r\n            'icon-ban': materialTrackList.length === 0 || banClip || videoPlay\r\n          }\"\r\n          @click=\"handleMediaClip\"\r\n        ></i>\r\n      </div>\r\n      <!-- 本期不实现 -->\r\n      <!-- <TimeScaleSlider\r\n        :sliderData=\"sliderData\"\r\n      ></TimeScaleSlider> -->\r\n      <!-- <el-alert\r\n        class=\"transition-alert\"\r\n        type=\"warning\"\r\n        close-text=\"知道了\"\r\n        title=\"【视频轨道】的添加、删除、移动、剪辑等操作，均会【重置所有转场】\"\r\n        show-icon\r\n        @close=\"handleAlertClose\"\r\n      ></el-alert> -->\r\n      <div class=\"operations-save\">\r\n        <el-button class=\"save-my-works\" @click=\"handleSaveOrSubmit(0)\">保存至我的作品</el-button>\r\n        <el-button class=\"save-clip\" @click=\"handleSaveOrSubmit(1)\">提交剪辑</el-button>\r\n      </div>\r\n    </el-row>\r\n    <el-row class=\"axis-area\">\r\n      <!-- 轨道内容区域 -->\r\n      <el-col :span=\"1\" class=\"clip-resource-icons\" ref=\"clipResourceIcons\">\r\n        <!-- 左侧图标区域 -->\r\n        <div class=\"empty-icon\" ref=\"emptyIcon\"><!-- 用于设置页面样式 --></div>\r\n        <div\r\n          v-for=\"(item, index) in textTrackList\"\r\n          :key=\"index\"\r\n          @mouseover=\"handleIconHover(index, '文字', 'text')\"\r\n          @mouseout=\"isShowUl = false\"\r\n        >\r\n          <span\r\n            class=\"track-type-icon\"\r\n            :style=\"{\r\n              color: showUlIndex === index && ulName === 'text' && isShowUl ? '#26CB51' : '#606266'\r\n            }\"\r\n          > T </span>\r\n        </div>\r\n        <i class=\"el-icon-picture-outline track-type-icon\"></i>\r\n        <i class=\"el-icon-video-camera track-type-icon\"></i>\r\n        <i class=\"el-icon-service track-type-icon\"></i>\r\n        <!-- 多轨道设置ul: 提供轨道添加 删除 复制 -->\r\n        <MultiTracksUl\r\n          v-show=\"isShowUl\"\r\n          class=\"multi-tracks-ul\"\r\n          :index=\"showUlIndex\"\r\n          :icon-width=\"iconWidth\"\r\n          :text=\"ulText\"\r\n          :name=\"ulName\"\r\n          :style=\"{\r\n            top: getUlTop() + 15 + 'px',\r\n            left: iconWidth + 'px'\r\n          }\"\r\n          @mouseover.native=\"isShowUl = true\"\r\n          @mouseout.native=\"isShowUl = false\"\r\n        ></MultiTracksUl>\r\n      </el-col>\r\n      <el-col :span=\"23\" ref=\"clipResource\" class=\"clip-resource\">\r\n        <!-- 右侧轨道操作区域 -->\r\n        <Pointer\r\n          ref=\"pointer\"\r\n          class=\"pointer-style\"\r\n          :video-play=\"videoPlay\"\r\n          :width-range=\"trackDuration * trackScale\"\r\n          @pause-video=\"handleVideoPause\"\r\n          @set-pointer-track=\"setPointerAndTrack\"\r\n          @current-material=\"judgeVideoSource\"\r\n          @current-picture=\"judgePictureSource\"\r\n          @current-text=\"judgeTextSource\"\r\n          @current-transition=\"judgeTransitionSource\"\r\n        ></Pointer>\r\n        <el-row class=\"time-axis\" ref=\"timeAxis\">\r\n          <TimeAxis\r\n            :material-duration=\"trackDuration\"\r\n            @move-by-axis=\"changePointerStart\"\r\n          ></TimeAxis>\r\n        </el-row>\r\n        <el-row\r\n          v-for=\"(item, index) in textTrackList\"\r\n          :key=\"'textTrack' + index\"\r\n          :style=\"{ width: timeAxisDuration * trackScale + 500 > 6000 ? timeAxisDuration * trackScale + 500 + 'px' : '6000px' }\"\r\n        >\r\n          <TextTrack\r\n            ref=\"textTrack\"\r\n            :track-index=\"index\"\r\n            :track-list=\"item\"\r\n            @click-text=\"handleTrackClick\"\r\n            @mousedown-text=\"handleTrackMouseDown\"\r\n          ></TextTrack>\r\n        </el-row>\r\n        <el-row\r\n          v-for=\"(item, index) in pictureTrackList\"\r\n          :key=\"'pictureTrack' + index\"\r\n          :style=\"{ width: timeAxisDuration * trackScale + 500 > 6000 ? timeAxisDuration * trackScale + 500 + 'px' : '6000px' }\"\r\n        >\r\n          <PictureTrack\r\n            ref=\"pictureTrack\"\r\n            :track-list=\"item\"\r\n            @click-picture=\"handleTrackClick\"\r\n            @mousedown-picture=\"handleTrackMouseDown\"\r\n          ></PictureTrack>\r\n        </el-row>\r\n        <el-row\r\n          class=\"video-track\"\r\n          id=\"video-track\"\r\n          :style=\"{ width: timeAxisDuration * trackScale + 500 > 6000 ? timeAxisDuration * trackScale + 500 + 'px' : '6000px' }\"\r\n        >\r\n          <MaterialTrack\r\n            :video-play=\"videoPlay\"\r\n            @selected-click=\"handleSelectedClick\"\r\n            @video-pause=\"handleVideoPause\"\r\n          ></MaterialTrack>\r\n          <TransitionTrack\r\n            ref=\"transitionTrack\"\r\n            :is-save-or-submit=\"isSaveOrSubmit\"\r\n          ></TransitionTrack>\r\n        </el-row>\r\n        <el-row :style=\"{ width: timeAxisDuration * trackScale + 500 > 6000 ? timeAxisDuration * trackScale + 500 + 'px' : '6000px' }\"></el-row>\r\n      </el-col>\r\n    </el-row>\r\n    <!-- 素材推荐弹窗 -->\r\n    <el-dialog\r\n      v-if=\"isShowMaterialAdd\"\r\n      title=\"添加素材\"\r\n      width=\"95%\"\r\n      class=\"add-material-dialog\"\r\n      :visible.sync=\"isShowMaterialAdd\"\r\n      :append-to-body=\"true\"\r\n      :modal-append-to-body=\"true\"\r\n    >\r\n      <TempMessage></TempMessage>\r\n      <!-- 关闭接口 -->\r\n      <!-- <MaterialRecommendation\r\n        :is-online-clip=\"true\"\r\n      ></MaterialRecommendation> -->\r\n    </el-dialog>\r\n    <!-- 保存/提交剪辑弹窗 -->\r\n    <SubmitClip\r\n      v-if=\"isSaveOrSubmit\"\r\n      :is-save-or-submit=\"isSaveOrSubmit\"\r\n      :save-or-submit=\"saveOrSubmit\"\r\n      :form-info=\"videoInfo\"\r\n      :video-frame=\"videoFrame\"\r\n      @submit-close=\"handleSubmitClose\"\r\n      @all-close=\"handleAllClose\"\r\n    ></SubmitClip>\r\n  </div>\r\n</template>\r\n<script>\r\nimport TimeAxis from './TimeAxis'\r\nimport Pointer from './Pointer'\r\nimport SubmitClip from './SubmitClip'\r\nimport TempMessage from './TempMessage'\r\nimport MultiTracksUl from './tracks/MultiTracksUl'\r\nimport MaterialTab from './tabs/MaterialTab'\r\nimport MaterialTrack from './tracks/MaterialTrack'\r\nimport PictureTab from './tabs/PictureTab'\r\nimport PictureTrack from './tracks/PictureTrack'\r\nimport TextTab from './tabs/TextTab'\r\nimport TextTrack from './tracks/TextTrack'\r\nimport TransitionTrack from './tracks/TransitionTrack'\r\nimport PictureDrr from './drrContainers/PictureDrr'\r\nimport TextDrr from './drrContainers/TextDrr'\r\nimport { formatDuration } from '@/components/onlineClip/global/functions'\r\nimport { mapState } from 'vuex'\r\nexport default {\r\n  components: {\r\n    TimeAxis,\r\n    Pointer,\r\n    SubmitClip,\r\n    TempMessage,\r\n    MultiTracksUl,\r\n    MaterialTab,\r\n    MaterialTrack,\r\n    PictureTab,\r\n    PictureTrack,\r\n    TextTab,\r\n    TextTrack,\r\n    TransitionTrack,\r\n    PictureDrr,\r\n    TextDrr\r\n  },\r\n  data () {\r\n    return {\r\n      isClipLoading: false,\r\n      onlineTab: 'materialTab',\r\n      tempTabName: 'materialTab',\r\n      isShowMaterialAdd: false,\r\n      videoInfo: {\r\n        editId: '',\r\n        videoTitle: '',\r\n        businessType: '',\r\n        categoryId: '',\r\n        categoryName: '',\r\n        tag: [],\r\n        picH: '',\r\n        picV: '',\r\n        fileId: '',\r\n        define: '1080P',\r\n        status: '',\r\n        videoType: 0,\r\n        submitTime: '',\r\n        createdTime: '',\r\n        modifyTime: '',\r\n        url: '',\r\n        userId: '',\r\n        duration: 0,\r\n        productType: 0\r\n      },\r\n      videoPlay: false,\r\n      controlsIcons: {\r\n        play: require('../../assets/play.png'),\r\n        pause: require('../../assets/pause.png')\r\n      },\r\n      banClip: false,\r\n      isLimit: false,\r\n      trackCurrentTime: '00:00:00',\r\n      trackDurationString: '00:00:00',\r\n      sliderData: 0,\r\n      videoSrc: '',\r\n      videoTarget: undefined,\r\n      duration: 0,\r\n      realLeft: 0,\r\n      isInputting: false,\r\n      isSaveOrSubmit: false,\r\n      saveOrSubmit: 0,\r\n      titleHeight: 70,\r\n      canvasWidth: 100,\r\n      canvasVideo: null,\r\n      canvasVideo2: null,\r\n      canvasTimer: null,\r\n      tempTransitionList: [],\r\n      videoFrame: {\r\n        width: null,\r\n        height: null\r\n      },\r\n      keyCode: null,\r\n      isLoadingVideo: false,\r\n      isShowUl: false,\r\n      showUlIndex: null,\r\n      ulText: null,\r\n      ulName: null,\r\n      isTextEdit: false,\r\n      clipResource: null,\r\n      oldPictureIndex: null,\r\n      iconWidth: 0,\r\n      playingIndex: null\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState({\r\n      trackScale: state => state.trackScale,\r\n      defaultMaterialHeight: state => state.defaultMaterialHeight,\r\n      materialTrackWidth: state => state.materialTrackWidth,\r\n      trackDuration: state => state.trackDuration,\r\n      timeAxisDuration: state => state.timeAxisDuration,\r\n      pointerLeft: state => state.pointerLeft,\r\n      pointerDuration: state => state.pointerDuration,\r\n      operationIndex: state => state.operationIndex,\r\n      activeName: state => state.activeName,\r\n      operationName: state => state.operationName,\r\n      selected: state => state.selected,\r\n      selectedTarget: state => state.selectedTarget,\r\n      playingMaterial: state => state.playingMaterial,\r\n      playingPicture: state => state.playingPicture,\r\n      playingPictureIndex: state => state.playingPictureIndex,\r\n      playingText: state => state.playingText,\r\n      playingTextIndex: state => state.playingTextIndex,\r\n      playingTransition: state => state.playingTransition,\r\n      materialTrackList: state => state.materialTrackList,\r\n      pictureTrackList: state => state.pictureTrackList,\r\n      textTrackList: state => state.textTrackList\r\n    }),\r\n    reversePictureList: function () {\r\n      // 反转的pictureTrackList 用于在页面中drr能够按所需的层级显示\r\n      return JSON.parse(JSON.stringify(this.pictureTrackList)).reverse()\r\n    },\r\n    reverseTextList: function () {\r\n      // 反转的textTrackList 用于在页面中drr能够按所需的层级显示\r\n      return JSON.parse(JSON.stringify(this.textTrackList)).reverse()\r\n    }\r\n  },\r\n  watch: {\r\n    trackDuration: function (val) {\r\n      // 视频轨道时长改变 控制条的显示时间也需改变\r\n      this.trackDurationString = formatDuration(val)\r\n    },\r\n    activeName: function (val) {\r\n      if (val) {\r\n        // activeName不为null时 激活Drr对应操作页同时跳转对应tabs\r\n        this.tempTabName = this.onlineTab\r\n        this.onlineTab = val + 'Tab'\r\n      } else {\r\n        // activeName为null时 跳转回原tabs\r\n        this.onlineTab = this.tempTabName\r\n      }\r\n    },\r\n    pointerDuration: function (val) {\r\n      // 监听 - 指针位置 主要用于判断当前是否可剪辑\r\n      const selected = this.selectedTarget\r\n      if (!selected) {\r\n        // selectedTarget不存在 不可剪辑\r\n        return false\r\n      }\r\n      if (this.selected.type !== 'materialTrackList') {\r\n        // 所选块不为视频轨道块 不可剪辑 - 只有视频轨道素材才能使用裁剪\r\n        this.banClip = true\r\n        return false\r\n      }\r\n      if (val <= selected.trackStartTime || val >= selected.trackEndTime) {\r\n        // 判断指针是否在选择块区域内 - 是否可剪辑\r\n        this.banClip = true\r\n      } else {\r\n        this.banClip = false\r\n      }\r\n      // 视频在播放中因转场换源加载原因暂停时 需重新播放\r\n      if (this.videoTarget.paused && this.videoPlay) {\r\n        this.handleVideoPlay()\r\n      }\r\n    },\r\n    selectedTarget: function (val) {\r\n      // 监听 - 轨道选择块 主要用于判断当前是否可剪辑\r\n      if (!val) {\r\n        // selectedTarget不存在 不可剪辑\r\n        return false\r\n      }\r\n      if (this.selected.type !== 'materialTrackList') {\r\n        // 所选块不为视频轨道块 不可剪辑 - 只有视频轨道素材才能使用裁剪\r\n        this.banClip = true\r\n        return true\r\n      }\r\n      const pointerDuration = this.pointerDuration\r\n      if (pointerDuration <= val.trackStartTime || pointerDuration >= val.trackEndTime) {\r\n        this.banClip = true\r\n      } else {\r\n        this.banClip = false\r\n      }\r\n    },\r\n    playingPicture: function (val) {\r\n      // 监听 - 正在播放的贴图 用于及时播放视频贴图\r\n      if (this.oldPictureIndex === this.playingPictureIndex[0]) {\r\n        // 避免视频贴图的卡顿 以及 不同视频贴图切换时 所导致的骤停报错问题\r\n        return true\r\n      }\r\n      if (val[0] && val[0].fileType === 'video') {\r\n        if (this.videoPlay) {\r\n          this.playVideoPicture(val[0], true)\r\n        } else {\r\n          this.playVideoPicture(val[0], false)\r\n        }\r\n      }\r\n    },\r\n    playingTransition: function () {\r\n      // let videoTransition = this.$refs.videoTransition\r\n      // if (!val) {\r\n      //   videoTransition.src = ''\r\n      //   return true\r\n      // }\r\n      // if (this.videoPlay && val && val.transitionMaterialUrl) {\r\n      //   setTimeout(() => {\r\n      //     videoTransition.src = val.transitionMaterialUrl\r\n      //     videoTransition.playbackRate = val.playbackRate\r\n      //     videoTransition.currentTime = (this.pointerDuration - val.trackStartTime) * val.playbackRate\r\n      //     videoTransition.play()\r\n      //   }, 150)\r\n      // }\r\n    }\r\n  },\r\n  methods: {\r\n    handleOnclipClose () {\r\n      // 关闭在线剪辑页面时的处理\r\n    },\r\n    handleVideoDataSet (url, time) {\r\n      // 设置播放区域视频地址及所播时刻\r\n      this.videoSrc = url\r\n      this.videoTarget.currentTime = time\r\n    },\r\n    handleSelectedClick (e, index, target, trackIndex) {\r\n      // 点击轨道块\r\n      const realList = target === 'materialTrackList' ? this.materialTrackList : undefined\r\n      this.$store.dispatch('setTrackBlockSelect', { e: e, index: index, trackIndex: trackIndex, list: target, realList: realList, vm: this })\r\n    },\r\n    handleShowMaterialDialog () {\r\n      // 显示素材添加弹窗\r\n      if (this.videoPlay) {\r\n        // 若播放中 需暂停\r\n        this.handleVideoPause()\r\n      }\r\n      this.isShowMaterialAdd = true\r\n    },\r\n    handleVideoPlayOrPause () {\r\n      // 控制播放区域的播放/暂停\r\n      if (this.videoPlay) {\r\n        this.handleVideoPause()\r\n      } else {\r\n        this.handleVideoPlay()\r\n      }\r\n    },\r\n    handleVideoPlay () {\r\n      // 播放视频\r\n      if (!this.materialTrackList.length) {\r\n        // 视频轨道为空 不允许播放\r\n        this.$message({\r\n          type: 'warning',\r\n          message: '视频轨道为空，请添加素材至轨道后再尝试播放'\r\n        })\r\n        return false\r\n      }\r\n      if (this.isLoadingVideo) {\r\n        // 视频加载中 不允许播放\r\n        return false\r\n      }\r\n      setTimeout(() => {\r\n        // 需计时等待一会 避免立即播放/暂停所导致的播放失败及控制台报错\r\n        if (this.videoTarget.src) {\r\n          this.videoPlay = true\r\n          this.videoTarget.play()\r\n        }\r\n        const drrTarget = this.$refs.pictureDrr[0].$refs.drrTarget ? this.$refs.pictureDrr[0].$refs.drrTarget[0] : null\r\n        if (drrTarget && this.playingPicture[0].fileType === 'video') {\r\n          // 若存在需要播放的视频贴图 播放\r\n          drrTarget.currentTime = this.pointerDuration - this.playingPicture[0].trackStartTime\r\n          drrTarget.play()\r\n        }\r\n        // if (this.playingTransition && this.playingTransition.transitionMaterialUrl) {\r\n        //   const videoTransition = this.$refs.videoTransition\r\n        //   videoTransition.src = this.playingTransition.transitionMaterialUrl\r\n        //   videoTransition.playbackRate = this.playingTransition.playbackRate\r\n        //   videoTransition.currentTime = (this.pointerDuration - this.playingTransition.trackStartTime) * videoTransition.playbackRate\r\n        //   videoTransition.play()\r\n        // }\r\n      }, 150)\r\n    },\r\n    handleVideoPause () {\r\n      // 暂停视频\r\n      this.videoPlay = false\r\n      if (this.videoTarget.src) {\r\n        this.videoTarget.pause()\r\n      }\r\n      const drrTarget = this.$refs.pictureDrr[0].$refs.drrTarget ? this.$refs.pictureDrr[0].$refs.drrTarget[0] : null\r\n      if (drrTarget && this.playingPicture[0].fileType === 'video') {\r\n        // 设置为null是避免视频贴图播放时暂停后的无法再次播放\r\n        this.oldPictureIndex = null\r\n        drrTarget.pause()\r\n      }\r\n      // if (this.playingTransition && this.playingTransition.transitionMaterialUrl) {\r\n      //   this.$refs.videoTransition.pause()\r\n      // }\r\n    },\r\n    handleTextEdidState (state) {\r\n      // 记录text-drr的编辑状态\r\n      this.isTextEdit = state\r\n    },\r\n    handleAlertClose () {\r\n      // 公告的关闭通知\r\n      this.$notify({\r\n        type: 'success',\r\n        dangerouslyUseHTMLString: true,\r\n        message: '消息可在左上角 <i class=\"el-icon-question\"></i> 中重新查看哦'\r\n      })\r\n    },\r\n    handleSaveOrSubmit (way) { // way: 0 保存 1 提交剪辑\r\n      // 保存/提交剪辑弹窗\r\n      if (this.videoPlay) {\r\n        // 若视频播放中 需暂停\r\n        this.handleVideoPause()\r\n      }\r\n      if (this.materialTrackList.length) {\r\n        this.isSaveOrSubmit = true\r\n        this.saveOrSubmit = way\r\n      } else {\r\n        this.$message({\r\n          type: 'warning',\r\n          message: '轨道无素材, 请选取素材进行操作再保存或提交'\r\n        })\r\n      }\r\n    },\r\n    handleIconHover (index, text, name) {\r\n      this.showUlIndex = index\r\n      this.ulText = text\r\n      this.ulName = name\r\n      this.isShowUl = true\r\n    },\r\n    handleMediaClip () {\r\n      // 裁剪所选视频轨道块\r\n      if (this.materialTrackList.length === 0 || this.banClip || this.videoPlay) {\r\n        // 当前为不可剪辑状态 false\r\n        return false\r\n      }\r\n      // 更新指针在当前选择块位置数据\r\n      this.realLeft = (this.pointerDuration - this.selectedTarget.trackStartTime) * this.trackScale\r\n      this.beginMediaClip()\r\n      this.finishMediaClip()\r\n    },\r\n    handleMediaDelete () {\r\n      // 视频轨道素材删除\r\n      if (this.videoPlay) {\r\n        // 若播放中 暂停播放\r\n        this.handleVideoPause()\r\n      }\r\n      if (this.materialTrackList.length === 0) {\r\n        // 若轨道已为空 false\r\n        return false\r\n      }\r\n\r\n      const index = this.selected.index\r\n      const width = this.selected.width\r\n      // 获取删除的时长\r\n      const moveDuration = this.getDurationByWidth(width)\r\n\r\n      let list = this.materialTrackList\r\n      // 重新渲染所涉及的轨道块\r\n      for (let i = index; i < this.materialTrackList.length - 1; i++) {\r\n        let before = document.getElementById('clip' + (i + 1))\r\n        let after = document.getElementById('clip' + i)\r\n        this.updateStyle(before, after)\r\n        this.$store.commit('updateMateriaTime', { duration: moveDuration, index: i + 1, operator: 0 })\r\n      }\r\n\r\n      // 删除对应的轨道块数据\r\n      this.$store.commit('updateArrayDelete', { name: 'materialTrackList', index: index, amount: 1 })\r\n\r\n      if (this.materialTrackList.length === 0) {\r\n        // 删除后 轨道为空 需清理各值\r\n        this.updateData(0, false)\r\n        this.$store.commit('clearSelected')\r\n        this.$store.commit('updatePlayingTarget', { target: 'playingMaterial', value: {}, index: undefined })\r\n        this.videoSrc = ''\r\n        // 清空画布\r\n        this.canvasVideo.width = this.videoFrame.width * 2\r\n        // 避免视频加载中时清空轨道后 所导致的加载状态不更新问题\r\n        this.isLoadingVideo = false\r\n      } else {\r\n        // 删除后 轨道不为空 需更新各值 并 获取下一个选中的轨道块\r\n        const nextMedia = list[index - 1] || list[index]\r\n        const last = list[list.length - 1]\r\n        let targetIndex = index > 0 ? index - 1 : index\r\n        let target = document.getElementById('clip' + (index - 1)) || document.getElementById('clip' + index)\r\n\r\n        this.videoSrc = nextMedia.playUrl\r\n        this.videoTarget.currentTime = nextMedia.endTime\r\n\r\n        this.handleSelectedClick(target, targetIndex, 'materialTrackList')\r\n\r\n        // 如果删除后 指针在所有轨道块之外 则移动至最后的轨道块上\r\n        if (this.pointerDuration > last.trackEndTime) {\r\n          this.updateData(last.trackEndTime, false)\r\n        }\r\n\r\n        // 更新playing-\r\n        this.$refs.pointer.judgePlayingTarget()\r\n      }\r\n      // 更新轨道长度\r\n      this.$store.commit('updateValue', { name: 'materialTrackWidth', value: this.materialTrackWidth - width })\r\n      // 更新转场\r\n      // this.$store.commit('updateValue', { name: 'operationName', value: 'delete' })\r\n      // this.$store.commit('updateValue', { name: 'operationIndex', value: index })\r\n    },\r\n    handleSubmitClose () {\r\n      // 关闭保存/提交剪辑对话框\r\n      this.isSaveOrSubmit = false\r\n    },\r\n    handleAllClose () {\r\n      // 已成功保存/提交剪辑\r\n      this.isSaveOrSubmit = false\r\n      this.$store.commit('clearAll')\r\n      this.$emit('save-close-refresh', this.saveOrSubmit)\r\n    },\r\n    handleTrackMouseDown (e, index, trackIndex, name, isNeedTab) { // isNeedTab: 用于区分是否需要激活对应DRR - 在轨道拖拽操作中不必激活\r\n      // mousedown轨道块\r\n      if (this.videoPlay) {\r\n        this.handleVideoPause()\r\n      }\r\n      if (isNeedTab) {\r\n        this.$refs[name + 'Drr'][trackIndex].handleActive(index, true)\r\n      }\r\n      this.handleSelectedClick(e, index, name + 'TrackList', trackIndex)\r\n    },\r\n    handleTrackClick (e, index, trackIndex, target, tabName, active) {\r\n      // 点击轨道块\r\n      if (this.videoPlay) {\r\n        this.handleVideoPause()\r\n      }\r\n\r\n      const selected = this[target][trackIndex][index]\r\n      // 更新tabs页显示\r\n      this.onlineTab = tabName\r\n\r\n      this.$nextTick(() => {\r\n        if (selected.trackStartTime >= this.trackDuration) {\r\n          // 若所选轨道块在视频轨道长度外 取消active-drr\r\n          this.$store.commit('updateValue', { name: 'activeName', value: null })\r\n          this.handleSelectedClick(e, index, target, trackIndex)\r\n        } else {\r\n          // 若所选轨道块在视频轨道长度内\r\n          let duration = selected.trackStartTime + (selected.realRange / this.trackScale) / 2\r\n          // 获取duration - 用于指针跳转 默认取所选块1/2处; 若1/2处在视频轨道外 则取视频轨道长度处\r\n          if (duration > this.trackDuration) {\r\n            duration = this.trackDuration\r\n          }\r\n          this.handleSelectedClick(e, index, target, trackIndex)\r\n          // 更新指针数据\r\n          this.updateData(duration, false)\r\n          this.$refs.pointer.judgePlayingTarget()\r\n          // 设置activev-drr\r\n          this.$store.commit('updateValue', { name: 'activeName', value: active })\r\n        }\r\n      })\r\n    },\r\n    handleIconAdd (name, target) {\r\n      // icon-add 添加素材到轨道\r\n      const targetName = name\r\n      const targetList = name + 'TrackList'\r\n      const playingTarget = 'playing' + name.slice(0, 1).toUpperCase() + name.slice(1)\r\n      const params = {\r\n        name: targetName,\r\n        list: targetList\r\n      }\r\n      // 获取playing-\r\n      this.$refs.pointer.judgePlaying(params)\r\n\r\n      // 获取对应情况下的属性\r\n      const realTarget = Object.assign({}, target)\r\n      if (!realTarget.duration) {\r\n        // 处理没有初始时长的对象\r\n        realTarget.duration = this.trackScale\r\n      }\r\n      realTarget.positionXBegin = this[playingTarget][0] && this[playingTarget][0].positionXEnd ? this[playingTarget][0].positionXEnd : this.pointerLeft\r\n      realTarget.positionXEnd = realTarget.positionXBegin + realTarget.duration * this.trackScale\r\n\r\n      // 获取对应情况下 pointer现对应的index 用于后续插入与排序\r\n      let newIndex = this[playingTarget + 'Index'][0]\r\n      if (!this[playingTarget][0] || !this[playingTarget][0].positionXEnd) {\r\n        const index = this[targetList][0].reduce((result, item, index) => {\r\n          if (this.pointerLeft >= item.positionXEnd) {\r\n            result = index\r\n          }\r\n          return result\r\n        }, -1)\r\n        newIndex = index\r\n      }\r\n      // 添加\r\n      this.$store.commit('tabDragAdd', {\r\n        target: realTarget,\r\n        index: newIndex,\r\n        targetTrackIndex: 0,\r\n        list: targetList,\r\n        prefix: name,\r\n        trackId: name + 'Track',\r\n        iconAdd: true,\r\n        vm: this\r\n      })\r\n    },\r\n    handleCancelEdit (trackIndex) {\r\n      // 退出处于编辑状态的text-drr\r\n      this.$refs.textDrr[trackIndex].handleDrrTextEditEnd()\r\n    },\r\n    beginMediaClip () {\r\n      // 轨道视频选择块裁剪 - 数据修改与添加\r\n      const selected = this.selected\r\n      const media = { ...this.selectedTarget }\r\n      const left = this.realLeft\r\n      const index = selected.index\r\n      let oldMedia = this.materialTrackList[selected.index]\r\n\r\n      // 修改新轨道块1的结束时间 - 应为指针所在时间\r\n      const oldEndTime = media.startTime + this.getDurationByWidth(left)\r\n      this.$store.commit('updateArrayObjectAttr', { name: 'materialTrackList', index: index, attr: 'trackEndTime', value: this.pointerDuration })\r\n      this.$store.commit('updateArrayObjectAttr', { name: 'materialTrackList', index: index, attr: 'endTime', value: oldEndTime })\r\n\r\n      // 设置新轨道块2的属性 并设置正确开始时间\r\n      const newMedia = { ...media, trackStartTime: oldMedia.trackEndTime, startTime: oldMedia.endTime }\r\n      this.updateData(newMedia.trackStartTime, false)\r\n\r\n      // 添加新轨道块2到轨道数据中\r\n      this.$store.commit('updateArrayAdd', { name: 'materialTrackList', index: selected.index + 1, value: newMedia })\r\n    },\r\n    finishMediaClip () {\r\n      // 轨道视频选择块裁剪 - 轨道块绘制\r\n      const index = this.selected.index\r\n      let clipOne = document.getElementById('clip' + index)\r\n\r\n      // 设置新轨道块1的样式\r\n      clipOne.style.width = this.realLeft + 'px'\r\n      clipOne.style.backgroundSize = 'auto 100%'\r\n\r\n      // 在数据更新后进行绘制\r\n      this.$nextTick(() => {\r\n        for (let i = this.materialTrackList.length - 1; i > index + 1; i--) {\r\n          // 因为数据改变的关系 后半部分会重新渲染 所以需要重新绘制\r\n          let before = document.getElementById('clip' + (i - 1))\r\n          let after = document.getElementById('clip' + i)\r\n          this.updateStyle(before, after)\r\n        }\r\n\r\n        // 单独设置新轨道块2的样式\r\n        let clipTwo = document.getElementById('clip' + (index + 1))\r\n        clipTwo.style.width = this.selected.width - this.realLeft + 'px'\r\n        clipTwo.style.height = this.defaultMaterialHeight + 'px'\r\n        clipTwo.style.backgroundImage = this.selected.dataURL\r\n        clipTwo.style.backgroundSize = 'auto 100%'\r\n\r\n        // 更新转场\r\n        // this.$store.commit('updateValue', { name: 'operationName', value: 'clip' })\r\n        // this.$store.commit('updateValue', { name: 'operationIndex', value: this.selected.index })\r\n        // 完成剪辑后 默认选中新轨道块2\r\n        this.handleSelectedClick(clipTwo, index + 1, 'materialTrackList')\r\n\r\n        // 避免原地暂停后播放有重复帧显示\r\n        this.$refs.pointer.judgePlayingTarget()\r\n      })\r\n    },\r\n    setPointerAndTrack (left, pointerDuration) {\r\n      // 记录指针位置与轨道播放位置\r\n      this.$store.commit('updatePointer', { pointerLeft: left, pointerDuration: pointerDuration })\r\n      this.trackCurrentTime = formatDuration(pointerDuration)\r\n      if (left === 0) {\r\n        this.judgeVideoSource(this.materialTrackList[0], 0)\r\n      }\r\n    },\r\n    judgeVideoSource (playingMaterial, index) {\r\n      this.playingIndex = index\r\n      // 判断当前播放的地址及currentTime\r\n      if (!playingMaterial) {\r\n        // 无播放对象 清空播放区域视频地址\r\n        this.videoSrc = ''\r\n        return false\r\n      }\r\n\r\n      const lastPlayedMedia = Object.assign({}, this.playingMaterial)\r\n      let tempLeft = this.pointerDuration - playingMaterial.trackStartTime\r\n      this.$store.commit('updatePlayingTarget', { target: 'playingMaterial', value: playingMaterial, index: undefined })\r\n\r\n      // 视频不在播放中, 指针在手动移动时\r\n      if (!this.videoPlay) {\r\n        // console.log('视频不在播放中, 指针在手动移动时')\r\n        this.videoSrc = playingMaterial.playUrl\r\n        this.videoTarget.src = playingMaterial.playUrl\r\n        this.videoTarget.currentTime = playingMaterial.startTime + tempLeft\r\n        this.drawCanvasVideoCover(playingMaterial.startTime + tempLeft)\r\n        return 1\r\n      }\r\n      // 视频播放时, 素材改变 需要换源\r\n      const judgeChangeSrc = playingMaterial.playUrl !== lastPlayedMedia.playUrl\r\n      if (judgeChangeSrc) {\r\n        // console.log('视频播放时, 素材改变 需要换源')\r\n        this.videoSrc = playingMaterial.playUrl\r\n        this.videoTarget.src = playingMaterial.playUrl\r\n        this.videoTarget.currentTime = playingMaterial.startTime + tempLeft\r\n        this.handleVideoPlay()\r\n      }\r\n      // 视频播放时, 素材不变 无需换源\r\n      const judgeChangeCurrentTime = (playingMaterial.playUrl === lastPlayedMedia.playUrl) && (playingMaterial.trackStartTime !== lastPlayedMedia.trackStartTime)\r\n      if (judgeChangeCurrentTime) {\r\n        // console.log('视频播放时, 素材不变 无需换源')\r\n        this.videoTarget.currentTime = playingMaterial.startTime + tempLeft\r\n      }\r\n    },\r\n    judgePictureSource (targetList, indexList) {\r\n      // 判断当前播放的picture, 若为视频贴图 还需获得currentTime\r\n      const last = this.playingPicture[0]\r\n      if (last) {\r\n        const judgeResult = targetList[0] && targetList[0].title === last.title && targetList[0].trackStartTime === last.trackStartTime\r\n        if (!this.videoPlay && judgeResult) {\r\n          // playing-没变 并且不在播放中时: 设置当前视频贴图应在的时间并跳转显示\r\n          this.playVideoPicture(targetList[0], false)\r\n        }\r\n      }\r\n      // playing-改变 重新赋值 并关闭activeDrr及对应操作页\r\n      if (!this.judgePlayingChange('playingPictureIndex', indexList)) {\r\n        this.$store.commit('updateValue', { name: 'activeName', value: null })\r\n        this.$store.commit('updatePlayingTarget', { target: 'playingPicture', value: targetList, index: indexList })\r\n      }\r\n    },\r\n    judgeTextSource (targetList, indexList) {\r\n      // 判断当前播放的text\r\n      if (!this.judgePlayingChange('playingTextIndex', indexList)) {\r\n        // playing-改变 重新赋值 并关闭activeDrr及对应操作页\r\n        this.$store.commit('updateValue', { name: 'activeName', value: null })\r\n        this.$store.commit('updatePlayingTarget', { target: 'playingText', value: targetList, index: indexList })\r\n      }\r\n    },\r\n    judgeTransitionSource (target) {\r\n      // 判断当前播放的transition\r\n      this.$store.commit('updatePlayingTarget', { target: 'playingTransition', value: target, index: undefined })\r\n    },\r\n    judgePlayingChange (oldList, newList) {\r\n      // 判断playing-是否改变\r\n      return JSON.stringify(this[oldList]) === JSON.stringify(newList)\r\n    },\r\n    playVideoPicture (picture, isNeedPlay) {\r\n      // 播放视频贴图\r\n      this.$nextTick(() => {\r\n        let videoPicture = this.$refs.pictureDrr[0].$refs.drrTarget[0]\r\n        videoPicture.currentTime = this.pointerDuration - picture.trackStartTime\r\n        this.$store.commit('drrElementData', { way: false, index: this.playingPictureIndex[0], playingName: 'playingPicture', vm: this.$refs.pictureDrr[0] })\r\n        // 需要播放视频贴图\r\n        if (isNeedPlay) {\r\n          setTimeout(() => {\r\n            // 避免异步函数在不允许的条件执行 - 非视频播放时不允许贴图播放\r\n            if (this.videoPlay) {\r\n              videoPicture.play()\r\n            }\r\n          }, 150)\r\n        }\r\n      })\r\n    },\r\n    changePointerStart (duration) {\r\n      // 时间轴对指针的控制 - 点击时间轴 指针可对应跳转与拖拽\r\n      this.handleVideoPause()\r\n      this.updateData(duration, false)\r\n      this.$refs.pointer.judgePlayingTarget()\r\n    },\r\n    getUlTop () {\r\n      let length = 0\r\n      switch (this.ulName) {\r\n        case 'text':\r\n          break\r\n        case 'picture':\r\n          length = this.textTrackList.length\r\n          break\r\n        case 'material':\r\n          length = this.textTrackList.length + this.pictureTrackList.length\r\n          break\r\n        case 'music':\r\n          length = this.textTrackList.length + this.pictureTrackList.length + this.materialTrackList.length\r\n          break\r\n      }\r\n      return (this.showUlIndex + length) * 40\r\n    },\r\n    getDurationByWidth (width) {\r\n      // 根据宽度与时长的比例计算 获取时长\r\n      return width / this.trackScale\r\n    },\r\n    getReverseIndex (index, length) {\r\n      // 获得数组反转后原index对应的现index\r\n      return length - 1 + index + index * (-2)\r\n    },\r\n    updateStyle (before, after) {\r\n      after.style.width = before.style.width\r\n      after.style.height = before.style.height\r\n      after.style.backgroundImage = before.style.backgroundImage\r\n      after.style.backgroundSize = 'auto 100%'\r\n    },\r\n    updateData (duration, isplaying) {\r\n      // 更新指针相关数据\r\n      let realDuration = duration\r\n      if (duration < 0) {\r\n        realDuration = 0\r\n      }\r\n      const left = realDuration * this.trackScale\r\n      this.trackCurrentTime = formatDuration(realDuration)\r\n      this.$store.commit('updatePointer', { pointerLeft: left, pointerDuration: realDuration })\r\n      if (isplaying) {\r\n        this.$refs.pointer.moveWhenVideoPlay(realDuration)\r\n      } else {\r\n        this.$refs.pointer.changePointerLeft(left)\r\n      }\r\n    },\r\n    initTrack () {\r\n      // 初始化视频素材轨道及播放区域数据\r\n      this.$nextTick(() => {\r\n        const count = this.materialTrackList.length\r\n        let list = this.materialTrackList\r\n        for (let i = 0; i < count; i++) {\r\n          let target = document.querySelector('#clip' + i)\r\n          let trackDuration = list[i].trackEndTime - list[i].trackStartTime\r\n          target.style.width = trackDuration * this.trackScale + 'px'\r\n          target.style.height = this.defaultMaterialHeight + 'px'\r\n          target.style.left = list[i].trackStartTime * this.trackScale + 'px'\r\n          target.style.backgroundImage = 'url(' + list[i].cover + ')'\r\n          target.style.backgroundSize = 'auto 100%'\r\n        }\r\n\r\n        this.videoSrc = list[0].playUrl\r\n        this.videoTarget.currentTime = list[0].startTime\r\n\r\n        this.$store.commit('updateValue', { name: 'materialTrackWidth', value: this.materialTrackWidth + list[count - 1].trackEndTime * this.trackScale })\r\n        this.handleSelectedClick(document.querySelector('#clip0'), 0, 'materialTrackList')\r\n      })\r\n    },\r\n    videoTimeUpdateMonitor (e) {\r\n      // 监听 - 视频区域播放\r\n      let video = e.target\r\n      if (!this.videoPlay) {\r\n        return false\r\n      }\r\n      // 获取playing-\r\n      this.$refs.pointer.judgePlayingTarget()\r\n      const trackStartTime = this.playingMaterial.trackStartTime\r\n      const startTime = this.playingMaterial.startTime\r\n      const lastMedia = this.materialTrackList[this.materialTrackList.length - 1]\r\n      // 纠正currentTime\r\n      if (video.currentTime < startTime) {\r\n        video.currentTime = startTime\r\n      }\r\n      // 获取现在的播放位置(轨道时间)\r\n      const wholeTime = video.currentTime + trackStartTime - startTime\r\n      // 判断是否已播放至视频轨道末尾\r\n      const judgeTrackLast = Math.round(wholeTime) >= Math.round(lastMedia.trackEndTime)\r\n      if (judgeTrackLast) {\r\n        // 已播放至视频轨道末尾\r\n        this.realLeft = 0\r\n        // 最后一秒也要显示\r\n        this.updateData(wholeTime, true)\r\n        // 再从头开始播放\r\n        this.updateData(0, true)\r\n        video.currentTime = startTime\r\n        setTimeout(() => {\r\n          video.play()\r\n        }, 150)\r\n      } else {\r\n        // 未播放至轨道末尾\r\n        this.realLeft = (this.pointerDuration - trackStartTime) * this.trackScale\r\n        this.updateData(wholeTime, true)\r\n      }\r\n    },\r\n    keyUpMonitor (e) {\r\n      // 监听 - 键盘回弹\r\n      this.keyCode = null\r\n      // delete backspace 均可删除选择块\r\n      const deleteCode = e.keyCode === 46 || e.keyCode === 8\r\n      // isInputting：输入框焦点状态 避免在输入框删除时误删选择块\r\n      // 选择块删除条件: 没有处于输入/编辑状态的内容 没有打开保存/提交剪辑弹窗 没有打开添加素材弹窗\r\n      if (deleteCode && !this.isInputting && !this.isTextEdit && !this.isSaveOrSubmit && !this.isShowMaterialAdd) {\r\n        switch (this.selected.type) {\r\n          case 'materialTrackList':\r\n            this.handleMediaDelete()\r\n            break\r\n          case 'pictureTrackList':\r\n            // 有drr的选择块类型 需退出drr激活状态再进行删除\r\n            this.$store.commit('updateValue', { name: 'activeName', value: null })\r\n            this.$store.commit('trackBlockDelete', { trackId: 'pictureTrack', prefix: 'picture', vm: this })\r\n            break\r\n          case 'textTrackList':\r\n            this.$store.commit('updateValue', { name: 'activeName', value: null })\r\n            this.$store.commit('trackBlockDelete', { trackId: 'textTrack', prefix: 'text', vm: this })\r\n            break\r\n        }\r\n      }\r\n      // space 控制播放区域的播放/暂停\r\n      // 控制条件: 处于在线剪辑页面 没有处于编辑状态的内容 没有打开保存/提交剪辑弹窗 没有打开素材添加弹窗\r\n      if (e.keyCode === 32 && !this.isTextEdit && !this.isSaveOrSubmit && !this.isShowMaterialAdd) {\r\n        this.handleVideoPlayOrPause()\r\n      }\r\n    },\r\n    keyDownMonitor (e) {\r\n      // 监听 - 键盘按下\r\n      this.keyCode = e.keyCode\r\n\r\n      // 阻止浏览器默认行为 - 空格滚动\r\n      if (e.keyCode === 32) {\r\n        e.preventDefault()\r\n      }\r\n    },\r\n    mouseDownMonitor (e) {\r\n      // 监听 - 鼠标点击 - 进行drr焦点/激活操作\r\n      // 进行drr焦点操作的条件：没有打开保存/提交剪辑弹窗 没有打开添加素材弹窗\r\n      if (this.isSaveOrSubmit || this.isShowMaterialAdd) {\r\n        return true\r\n      }\r\n      // 记录输入框焦点状态 避免在输入框删除时误删选择块\r\n      this.isInputting = false\r\n      const inputTarget = e.target.nodeName === 'INPUT'\r\n      if (inputTarget) {\r\n        this.isInputting = true\r\n      }\r\n\r\n      // 获取正在焦点的drr\r\n      let drrTarget = null\r\n      let name = null\r\n      switch (this.activeName) {\r\n        case 'picture':\r\n          drrTarget = 'pictureDrr'\r\n          name = 'picture'\r\n          break\r\n        case 'text':\r\n          drrTarget = 'textDrr'\r\n          name = 'text'\r\n          break\r\n      }\r\n      // 无焦点的drr 不操作\r\n      if (!drrTarget) {\r\n        return true\r\n      }\r\n      // 在操作标签页区域操作时 保留句柄 激活drr, 否则取消drr激活状态\r\n      const positionRect = this.$refs.tabsCol.$el.getBoundingClientRect()\r\n      const inWidthRange = e.clientX > 0 && e.clientX < positionRect.width\r\n      const inHeightRange = e.clientY > this.titleHeight && e.clientY < positionRect.height + positionRect.top + this.titleHeight\r\n      if ((inWidthRange && inHeightRange) || this.isTextEdit) {\r\n        // 获取正在操作的drr\r\n        const targetId = drrTarget + this.selected.trackIndex\r\n        switch (name) {\r\n          case 'picture':\r\n            // 保留句柄\r\n            this.$refs[drrTarget][0].$refs.resizable[0].enabled = true\r\n            break\r\n          case 'text': {\r\n            const drr = this.$refs[drrTarget].find(item => {\r\n              return item.$el.id === targetId\r\n            })\r\n            // 保留句柄\r\n            drr.$refs.resizable[0].enabled = true\r\n            break\r\n          }\r\n        }\r\n        // 激活对应drr\r\n        this.$store.commit('updateValue', { name: 'activeName', value: name })\r\n      } else {\r\n        // 退出drr的激活状态\r\n        this.$store.commit('updateValue', { name: 'activeName', value: null })\r\n      }\r\n    },\r\n    windowResizeMonitor () {\r\n      // 监听 - 窗口缩放\r\n      // 窗口缩放处理条件 - 没有打开保存/提交剪辑弹窗\r\n      if (this.isSaveOrSubmit) {\r\n        return true\r\n      }\r\n      // 获取图标列表的宽度 用于轨道ul的定位\r\n      this.iconWidth = window.innerWidth * 0.04\r\n      const frameWidth = this.$refs.videoFrame.clientWidth\r\n      const proportion = this.videoFrame.width ? frameWidth / this.videoFrame.width : frameWidth / 1280\r\n      if (this.videoFrame.width === null) {\r\n        // 保存初始播放区域大小\r\n        this.$store.commit('initProportion', frameWidth)\r\n      }\r\n      // 播放区域按照比例缩放\r\n      this.videoFrame.width = frameWidth\r\n      this.videoFrame.height = frameWidth * 720 / 1280\r\n      // 同步素材tabs的高度\r\n      // document.querySelector('.online-clip-tabs .el-tabs__content').style.height = this.videoFrame.height + 'px'\r\n      // 更新播放区域高度\r\n      this.$refs.videoFrame.style.height = this.videoFrame.height + 'px'\r\n      // 更新播放区域比例数值\r\n      this.$store.commit('updateDrrResolution', { proportion: proportion, width: frameWidth, vm: this })\r\n    },\r\n    axisYScrollMonitor (e) {\r\n      // 监听 - 轨道区域的Y轴滚动\r\n      const top = e.target.scrollTop\r\n      // 获得现在轨道区域总高度：字幕贴图轨道数*高度 + 视频轨道高度 + 暂未开发的音频轨高度\r\n      const totalHeight = (this.textTrackList.length + this.pictureTrackList.length) * 40 + 65 + 40 + 15\r\n      // 如果目前已到底 不再允许下滑\r\n      if (top + 200 >= totalHeight) {\r\n        return false\r\n      }\r\n      // 更新一些需要保持相对静止元素的样式\r\n      this.$refs.timeAxis.$el.style.top = top + 'px'\r\n      this.$refs.emptyIcon.style.top = top + 'px'\r\n      this.$refs.pointer.handlePointerYStatic(e.target.scrollTop)\r\n      this.$refs.clipResourceIcons.$el.style.top = -top + 'px'\r\n    },\r\n    stopCanvasVideo () {\r\n      clearInterval(this.canvasTimer)\r\n    },\r\n    drawCanvasVideoCover (time) {\r\n      // 绘制一帧视频\r\n      let canvasVideo = this.canvasVideo\r\n      let video = this.videoTarget\r\n      video.currentTime = time\r\n      this.isLoadingVideo = true\r\n      video.oncanplay = () => {\r\n        // if (this.playingTransition) {\r\n        //   video.oncanplay = null\r\n        // }\r\n        canvasVideo.width = this.videoFrame.width * 2\r\n        canvasVideo.height = this.videoFrame.height * 2\r\n        canvasVideo.getContext('2d').drawImage(video, 0, 0, canvasVideo.width, canvasVideo.height)\r\n        this.isLoadingVideo = false\r\n      }\r\n    },\r\n    drawCanvasVideo () {\r\n      // 绘制视频\r\n      let canvasVideo = this.canvasVideo\r\n      let video = this.videoTarget\r\n      // let videoTransition = this.$refs.videoTransition\r\n      let ctx = canvasVideo.getContext('2d')\r\n      canvasVideo.width = this.videoFrame.width * 2\r\n      canvasVideo.height = this.videoFrame.height * 2\r\n      this.canvasTimer = setInterval(() => {\r\n        ctx.drawImage(video, 0, 0, canvasVideo.width, canvasVideo.height)\r\n        // if (this.playingTransition) {\r\n        //   ctx.drawImage(videoTransition, 0, 0, canvasVideo.width, canvasVideo.height)\r\n        // }\r\n      }, 40)\r\n    }\r\n  },\r\n  created () {\r\n    this.isClipLoading = true\r\n    const list = [\r\n      { rlsId: '', editId: '', seq: '', status: 1, id: 319183, coocaaMId: '6uh9j6l00400', coocaaVId: 'r9mtl000000', thirdMovieId: 'o0032tld90n', thirdVideoId: 'm441e3rjq9kwpsc', duration: 5, frameDuration: 5, formattedDuration: '00:00:05', videoTitle: 'Firework', playUrl: require('@/assets/video/firework.mp4'), cover: require('@/assets/material1004.png'), modifyTime: '2020-12-19 04:53:07', source: 'tencent', businessType: 0, businessName: '影视', categoryId: 2, categoryName: '动漫', startFrame: 0, endFrame: 5, startTime: 0, endTime: 5 },\r\n      { rlsId: '', editId: '', seq: '', status: 1, id: 319185, coocaaMId: '6uh9j6l00402', coocaaVId: 'r9mtl000002', thirdMovieId: 'o0032tld92n', thirdVideoId: 'm441e3rjq7kwpsc', duration: 15, frameDuration: 15, formattedDuration: '00:00:15', videoTitle: 'SunsetGlow', playUrl: require('@/assets/video/sunsetGlow.mp4'), cover: require('@/assets/material1004.png'), modifyTime: '2020-12-19 04:53:07', source: 'tencent', businessType: 0, businessName: '影视', categoryId: 2, categoryName: '动漫', startFrame: 0, endFrame: 15, startTime: 0, endTime: 15 },\r\n      { rlsId: '', editId: '', seq: '', status: 1, id: 319184, coocaaMId: '6uh9j6l00401', coocaaVId: 'r9mtl000001', thirdMovieId: 'o0032tld91n', thirdVideoId: 'm441e3rjq8kwpsc', duration: 315, frameDuration: 315, formattedDuration: '00:05:15', videoTitle: 'JX3', playUrl: require('@/assets/video/JX3.mp4'), cover: require('@/assets/material1004.png'), modifyTime: '2020-12-19 04:53:07', source: 'tencent', businessType: 0, businessName: '影视', categoryId: 2, categoryName: '动漫', startFrame: 0, endFrame: 315, startTime: 0, endTime: 315 }\r\n    ]\r\n    this.$store.commit('updateArrayRevalue', { name: 'materialTabList', value: list })\r\n    console.log('online----------list')\r\n  },\r\n  mounted () {\r\n    window.addEventListener('keyup', this.keyUpMonitor)\r\n    window.addEventListener('keydown', this.keyDownMonitor)\r\n    window.addEventListener('mousedown', this.mouseDownMonitor)\r\n    window.addEventListener('resize', this.windowResizeMonitor)\r\n    // 初始化drag的替代透明图\r\n    this.$store.commit('initDragImage')\r\n    this.$nextTick(() => {\r\n      // 获取窗口初始化数值\r\n      this.windowResizeMonitor()\r\n      this.canvasVideo = this.$refs.canvasVideo\r\n      this.videoTarget = this.$refs.video\r\n      this.clipResource = this.$refs.clipResource.$el\r\n      this.clipResource.addEventListener('scroll', this.axisYScrollMonitor)\r\n      this.videoTarget.addEventListener('timeupdate', this.videoTimeUpdateMonitor)\r\n      this.videoTarget.addEventListener('play', this.drawCanvasVideo)\r\n      this.videoTarget.addEventListener('pause', this.stopCanvasVideo)\r\n      setTimeout(() => {\r\n        this.isClipLoading = false\r\n        // 关闭加载动画\r\n      }, 500)\r\n    })\r\n  },\r\n  beforeDestroy () {\r\n    clearInterval(this.canvasTimer)\r\n    this.canvasTimer = null\r\n    window.removeEventListener('keyup', this.keyUpMonitor)\r\n    window.removeEventListener('keydown', this.keyDownMonitor)\r\n    window.removeEventListener('mousedown', this.mouseDownMonitor)\r\n    window.removeEventListener('resize', this.windowResizeMonitor)\r\n    this.clipResource.removeEventListener('scroll', this.axisYScrollMonitor)\r\n    this.videoTarget.removeEventListener('timeupdate', this.videoTimeUpdateMonitor)\r\n    this.videoTarget.removeEventListener('play', this.drawCanvasVideo)\r\n    this.videoTarget.removeEventListener('pause', this.stopCanvasVideo)\r\n  }\r\n}\r\n</script>\r\n<style lang=\"stylus\" scoped>\r\n.online-clip\r\n  text-align left\r\n  user-select none // 禁止用户的选中行为\r\n.main-area\r\n.operations-area\r\n.axis-area\r\n  min-width 1310px\r\n.main-area\r\n  margin-top 0px !important\r\n  min-height 58vh\r\n  .material-area\r\n    margin-top 0px\r\n.diy-icon-t\r\n  &:hover\r\n    color #26CB51\r\n.controls-duration\r\n  display inline-block\r\n  position absolute\r\n  top 10px\r\n  left 4vw\r\n  font-size 14px\r\n  color #ccc\r\n.operations-area\r\n  position relative\r\n  height 40px\r\n  box-shadow #128430 0px -1px\r\n.operations-convenient\r\n  display inline-block\r\n  position absolute\r\n  bottom 5px\r\n  left 0px\r\n  margin-left 15px\r\n  vertical-align super\r\n  i\r\n    color #606266\r\n    margin-right 20px\r\n    font-size 20px\r\n.icon-ban\r\n  cursor default\r\n  &:hover,\r\n  &:focus\r\n    color #606266\r\n    cursor default\r\n.transition-alert\r\n  position absolute\r\n  left 100px\r\n  width 520px\r\n  >>>.el-alert__closebtn\r\n    top 10px\r\n    font-size 12px\r\n    color #D0BDA2\r\n.operations-save\r\n  position absolute\r\n  bottom 5px\r\n  right 0px\r\n  font-size 13px\r\n  color #888\r\n  span\r\n    vertical-align bottom\r\n.save-my-works\r\n  margin-left 10px\r\n  width 120px\r\n.save-clip\r\n  margin-left 15px\r\n  width 100px\r\n.save-my-works, .save-clip\r\n  height 30px\r\n  padding 5px\r\n  font-size 13px\r\n  color #fff\r\n  border 0px\r\n  background #26CB51\r\n  &:hover,\r\n  &:focus\r\n    color #fff\r\n    border 0px\r\n    background #18d747\r\n.axis-area\r\n  height 235px\r\n  overflow hidden\r\n.clip-resource-icons\r\n  position relative\r\n  margin-top 10px\r\n  text-align center\r\n  font-size 18px\r\n.empty-icon\r\n  width 100%\r\n  height 25px\r\n  position relative\r\n.multi-tracks-ul\r\n  position absolute\r\n  left 4.16667% // 紧贴图标列表\r\n  border-radius 5px\r\n  box-shadow 1px 1px 5px 1px #AAAAAA\r\n  background #FFFFFF\r\n  z-index 6\r\n.track-type-icon\r\n  display block\r\n  height 40px\r\n  line-height 40px\r\n  color #606266\r\n  &:hover,\r\n  &:focus\r\n    color #26CB51\r\n    cursor default\r\n.el-icon-video-camera\r\n  height 65px\r\n  line-height 65px\r\n.clip-resource\r\n  position relative\r\n  height 235px\r\n  overflow auto\r\n  .time-axis\r\n    margin 0px 0px 10px\r\n    position relative\r\n    z-index 2\r\n.pointer-style\r\n  position relative\r\n.tracks-container\r\n  overflow-x auto\r\n.video-cols\r\n  position relative\r\n  padding 0px !important\r\n  height 55vh\r\n  text-align center\r\n.video-frame\r\n  position relative\r\n  top 15%\r\n  width 100%\r\n.video-controls\r\n  position relative\r\n  top 15%\r\n  padding-top 10px\r\n  width 100%\r\n.video-frame,\r\n.video-controls\r\n  background #1C1D1C\r\n.canvas-video\r\n  position absolute\r\n  top 0px\r\n  left 0px\r\n  width 100%\r\n  height 100%\r\n  transform-origin 0 0\r\n.resizable-container\r\n  position absolute\r\n  top 0px\r\n  width 100%\r\n  height 100%\r\n  overflow hidden\r\n.resizable-style\r\n  position absolute\r\n  z-index 2\r\n  .el-image\r\n  video\r\n    width inherit\r\n    height inherit\r\n.picture-video\r\n  object-fit fill\r\n.video-track\r\n  text-align left\r\n.editable-target\r\n  height 55px\r\n  video\r\n    height 55px\r\n</style>\r\n<style lang=\"stylus\" scoped>\r\n.clip-resource\r\n  >>>.el-row:not(.time-axis)\r\n    margin-top 0px\r\n    margin-bottom 10px\r\n    height 30px\r\n    background #1c1d1c\r\n  .video-track\r\n    position relative\r\n    height 55px !important\r\n>>>.el-tabs__header\r\n  margin 0px\r\n  padding 0px 2px\r\n  height 0px\r\n  .el-tabs__item\r\n    margin 0px 15px\r\n    padding 0px\r\n    font-weight 400\r\n    color #888\r\n    &:hover,\r\n    &:focus\r\n      color #26CB51\r\n  .el-tabs__item.is-active\r\n    color #26CB51 !important\r\n  .el-tabs__item.is-top:nth-child(2)\r\n    padding-left 0px\r\n  .el-tabs__item.is-top:last-child\r\n    padding-right 0px\r\n  .el-tabs__nav-wrap \r\n    padding-top 10px\r\n    box-shadow #128430 0px 1px\r\n  .el-tabs__nav-wrap::after\r\n    height 0px\r\n  .el-tabs__active-bar\r\n    display none\r\n.online-clip-tabs\r\n  height 100%\r\n  >>>.el-tabs__content\r\n    height 55vh\r\n>>>.el-tabs__content\r\n  padding 10px\r\n  height 80%\r\n  overflow inherit\r\n  .el-tab-pane\r\n    position relative\r\n    margin-top 50px\r\n    height 90%\r\n>>>.el-row\r\n  margin 0px\r\n  margin-top 10px\r\ni\r\n  cursor pointer\r\n  color inherit\r\n  &:hover,\r\n  &:focus\r\n    color #26CB51\r\n.controls-icons\r\n  >>>.el-image\r\n    width 18px\r\n    height 18px\r\n    cursor pointer\r\n.el-dialog__wrapper\r\n  overflow hidden\r\n.add-material-dialog\r\n  overflow-y auto\r\n  >>>.el-dialog__body\r\n    padding 10px 20px\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OnlineClip.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OnlineClip.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OnlineClip.vue?vue&type=template&id=8008c63e&scoped=true&\"\nimport script from \"./OnlineClip.vue?vue&type=script&lang=js&\"\nexport * from \"./OnlineClip.vue?vue&type=script&lang=js&\"\nimport style0 from \"./OnlineClip.vue?vue&type=style&index=0&id=8008c63e&lang=stylus&scoped=true&\"\nimport style1 from \"./OnlineClip.vue?vue&type=style&index=1&id=8008c63e&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8008c63e\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div id=\"app\">\n    <OnlineClip></OnlineClip>\n  </div>\n</template>\n\n<script>\nimport OnlineClip from '@/components/onlineClip/OnlineClip.vue'\n\nexport default {\n  name: 'App',\n  components: {\n    OnlineClip\n  }\n}\n</script>\n\n<style>\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n}\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=19fe14db&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\r\nimport Vuex from 'vuex'\r\n\r\nVue.use(Vuex)\r\n\r\nconst state = {\r\n  // onlineClip外数据\r\n  lastestDownloadList: [],\r\n  // 常量\r\n  trackScale: 10,\r\n  defaultMaterialHeight: 55,\r\n  defaultPicWidth: 100,\r\n  defaultPicHeight: 30,\r\n  defaultTextHeight: 28,\r\n  defaultDrrHeight: 70,\r\n  // 当前操作数据\r\n  list: null, // 当前操作的数组名\r\n  vm: null, // 当前操作的this\r\n  trackId: null, // 当前操作对应的轨道id\r\n  trackIndex: null, // 当前操作的轨道块所属轨道index\r\n  targetTrackIndex: null, // 当前操作对应的轨道index\r\n  playingName: null, // 当前操作对应的playing-\r\n  // 重要公用数据\r\n  tracksTime: {\r\n    material: 0,\r\n    picture: 0,\r\n    text: 0\r\n  },\r\n  timeAxisDuration: 0, // 当前最长的轨道时长\r\n  trackDuration: 0, // 当前视频轨道时长\r\n  selected: { // 当前选择块的基本信息及对应元素\r\n    index: null,\r\n    trackIndex: null,\r\n    type: null,\r\n    target: null,\r\n    width: null,\r\n    dataURL: null,\r\n    duration: null\r\n  },\r\n  selectedTarget: {}, // 当前选择块对应数据\r\n  // 当前播放区域显示的数据\r\n  playingMaterial: {},\r\n  playingPicture: [],\r\n  playingPictureIndex: [],\r\n  playingText: [],\r\n  playingTextIndex: [],\r\n  playingTransition: {},\r\n  // 指针数据\r\n  pointerLeft: 0,\r\n  pointerDuration: 0,\r\n  // 标签页数据\r\n  materialTabList: [],\r\n  materialTabNewList: [], // 暂时的已选素材列表(用于onlineClip以外区域进行素材添加)\r\n  materialFileList: [],\r\n  materialFileLastLength: 0,\r\n  isCloseClip: false,\r\n  isMaterialUploading: false,\r\n  isEditMaterialUploading: false,\r\n  isPictureUploading: false,\r\n  // 轨道数据\r\n  materialTrackList: [],\r\n  materialTrackWidth: 500,\r\n  pictureTrackList: [[]],\r\n  textTrackList: [[]],\r\n  transitionTrackList: [],\r\n  operatingTransition: {},\r\n  tracks: [\r\n    {\r\n      list: 'pictureTrackList',\r\n      playing: 'playingPicture',\r\n      drr: 'pictureDrr'\r\n    },\r\n    {\r\n      list: 'textTrackList',\r\n      playing: 'playingText',\r\n      drr: 'textDrr'\r\n    }\r\n  ],\r\n  // 视频轨道操作动作数据\r\n  operationName: null,\r\n  operationIndex: null,\r\n  operationNewIndex: null,\r\n  // 拖拽数据\r\n  dragTranslateX: 0,\r\n  dragWidth: 0,\r\n  dragIndex: null,\r\n  direction: null,\r\n  dragImage: new Image(),\r\n  isDropZone: false,\r\n  isDragFromTab: false,\r\n  isDragging: false,\r\n  isDragDrop: false,\r\n  isConflic: false,\r\n  isTrackDrag: false,\r\n  dragPlayingName: null,\r\n  picturePosition: {\r\n    x: 0,\r\n    y: 0\r\n  },\r\n  dragTarget: {},\r\n  mouseElement: null,\r\n  originalElement: null,\r\n  // drr数据\r\n  textEditIndex: null,\r\n  originalWidth: null,\r\n  proportion: 1,\r\n  activeName: null,\r\n  isPictureActive: false,\r\n  isTextActive: false,\r\n  tabResizedTarget: {\r\n    width: 0,\r\n    height: 0\r\n  },\r\n  // 其他操作数据\r\n  isTrackResize: false,\r\n  needPointerJudge: {\r\n    isNeed: false,\r\n    target: null\r\n  }\r\n}\r\n\r\nconst getters = {\r\n}\r\n\r\nconst mutations = {\r\n  getTracksDration (state, trackList) {\r\n    // 获取同类型轨道中的最大时长\r\n    let duration = 0\r\n    for (let i = 0; i < state[trackList].length; i++) {\r\n      const list = state[trackList][i]\r\n      const last = list[list.length - 1] ? list[list.length - 1].trackEndTime : 0\r\n      if (last > duration) {\r\n        duration = last\r\n      }\r\n    }\r\n    const name = trackList.slice(0, trackList.indexOf('Track'))\r\n    this.commit('updateTracksDuration', { name: name, duration: duration })\r\n  },\r\n  updateValue (state, params) {\r\n    state[params.name] = params.value\r\n  },\r\n  updateArrayAdd (state, params) {\r\n    if (!isNaN(params.index)) {\r\n      // 指定index添加\r\n      state[params.name].splice(params.index, 0, params.value)\r\n    } else {\r\n      state[params.name].push(params.value)\r\n    }\r\n  },\r\n  updateArrayObjectAdd (state, params) {\r\n    state[params.name] = { ...params.value }\r\n  },\r\n  updateArrayRevalue (state, params) {\r\n    state[params.name] = JSON.parse(JSON.stringify(params.value))\r\n  },\r\n  updateArrayDelete (state, params) {\r\n    state[params.name].splice(params.index, params.amount)\r\n  },\r\n  updateArrayObjectAttr (state, params) {\r\n    state[params.name][params.index][params.attr] = params.value\r\n  },\r\n  updateObjectAttribute (state, params) {\r\n    state[params.name][params.attr] = params.value\r\n  },\r\n  updateTracksDuration (state, params) {\r\n    // 设置各类型轨道的最长时长 并获得最大轨道时长\r\n    state.tracksTime[params.name] = params.duration\r\n    let duration = 0\r\n    for (let item in state.tracksTime) {\r\n      if (state.tracksTime[item] > duration) {\r\n        duration = state.tracksTime[item]\r\n      }\r\n    }\r\n    state.timeAxisDuration = duration\r\n  },\r\n  updatePointer (state, params) {\r\n    state.pointerLeft = params.pointerLeft\r\n    state.pointerDuration = params.pointerDuration\r\n  },\r\n  updatePlayingTarget (state, params) {\r\n    if (params.index === undefined) {\r\n      // 兼容未多轨道化的轨道数组\r\n      state[params.target] = params.value\r\n    } else {\r\n      state[params.target] = params.value\r\n      state[params.target + 'Index'] = params.index\r\n    }\r\n  },\r\n  updateMateriaTime (state, params) {\r\n    const duration = params.duration\r\n    const index = params.index\r\n    const one = params.operator ? 1 : -1\r\n    const trackStartTime = state.materialTrackList[index].trackStartTime\r\n    const trackEndTime = state.materialTrackList[index].trackEndTime\r\n    state.materialTrackList[index].trackStartTime = (trackStartTime + duration * one).toFixed(1) * 1\r\n    state.materialTrackList[index].trackEndTime = (trackEndTime + duration * one).toFixed(1) * 1\r\n  },\r\n  updateTransitionDuration (state, duration) {\r\n    let target = state.operatingTransition\r\n    target.zoomTime = duration\r\n    target.playbackRate = target.videoDuration ? (target.videoDuration / duration).toFixed(1) * 1 : 1\r\n    target.trackStartTime = Math.floor(target.originStartTime - duration / 2)\r\n    target.trackEndTime = Math.floor(target.trackStartTime + duration)\r\n  },\r\n  updateTransitionType (state, type) {\r\n    let target = state.operatingTransition\r\n    target.transitionName = type.transitionName\r\n    target.typeId = type.id\r\n    target.videoDuration = type.duration\r\n    target.playbackRate = (target.videoDuration / target.zoomTime).toFixed(1) * 1\r\n  },\r\n  updateDrrResolution (state, params) {\r\n    state.proportion = params.width / state.originalWidth\r\n    state.tracks.forEach(item => {\r\n      const list = state[item.list]\r\n      for (let i = 0; i < list.length; i++) {\r\n        // 对相关轨道值更新数值\r\n        list[i].forEach(block => {\r\n          if (item.list !== 'textTrackList') {\r\n            // 字幕不需要改变\r\n            block.nowXAxis = params.proportion * block.nowXAxis\r\n            block.nowYAxis = params.proportion * block.nowYAxis\r\n            block.width = params.proportion * block.width\r\n            block.height = params.proportion * block.height\r\n          }\r\n        })\r\n        // 对正在显示范围的drr更新数值\r\n        const target = state[item.playing][i]\r\n        const resizableContainer = params.vm.$refs[item.drr][0].$refs.resizable\r\n        if (!target || !resizableContainer) {\r\n          return false\r\n        }\r\n        const resizable = resizableContainer[0]\r\n        resizable.left = target.nowXAxis\r\n        resizable.top = target.nowYAxis\r\n        resizable.width = target.width\r\n        resizable.height = target.height\r\n      }\r\n    })\r\n  },\r\n  initProportion (state, width) {\r\n    state.originalWidth = width\r\n  },\r\n  initTransitionList (state) {\r\n    state.materialTrackList.forEach((item, index, arr) => {\r\n      // 获取与下一个块相连的块\r\n      if (arr[index + 1] && arr[index].trackEndTime === arr[index + 1].trackStartTime) {\r\n        this.commit('transitionAdd', index)\r\n      }\r\n    })\r\n  },\r\n  isTrackResizeInvert (state) {\r\n    // 选择块是否伸缩中\r\n    state.isTrackResize = !state.isTrackResize\r\n  },\r\n  isNeedPointerJudging (state) {\r\n    state.needPointerJudge.isNeed = false\r\n    state.needPointerJudge.target = null\r\n  },\r\n  initDragImage (state) {\r\n    state.dragImage.src = 'data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg=='\r\n  },\r\n  initTrackListContainer (state, params) {\r\n    for (let i = 0; i < params.list.length; i++) {\r\n      state.list = params.list[i]\r\n      state.vm = params.vm\r\n      const nextParams = {\r\n        data: params.data[i],\r\n        videoFrame: params.videoFrame,\r\n        videoInfo: params.videoInfo\r\n      }\r\n      this.commit('initTrackList', nextParams)\r\n      this.commit('getTracksDration', state.list)\r\n    }\r\n    this.dispatch('setAllTrackDraw', params)\r\n  },\r\n  initTrackList (state, params) {\r\n    // 暂时兼容接口未通\r\n    if (!params.data) {\r\n      return false\r\n    }\r\n    const list = JSON.parse(JSON.stringify(params.data))\r\n    let realList = []\r\n    if (state.list === 'pictureTrackList') {\r\n      // 兼容未实现多轨道的贴图\r\n      realList.push(list)\r\n    } else {\r\n      realList = list\r\n    }\r\n    for (let i = 0; i < realList.length; i++) {\r\n      if (!realList[i]) {\r\n        // 跳过无值轨道数据\r\n        continue\r\n      }\r\n      realList[i].forEach(item => {\r\n        const wnh = item.zoom.split(':')\r\n        const widthScale = params.videoFrame.width / params.videoInfo.firstVideoH\r\n        const heightScale = params.videoFrame.height / params.videoInfo.firstVideoV\r\n        item.width = wnh[0] * 1\r\n        item.height = wnh[1] * 1\r\n        item.duration = item.endSecond - item.startSecond\r\n        item.range = item.duration * state.trackScale\r\n        item.realRange = item.duration * state.trackScale\r\n        item.trackStartTime = item.startSecond\r\n        item.trackEndTime = item.endSecond\r\n        item.positionXBegin = item.startSecond * state.trackScale\r\n        item.positionXEnd = item.endSecond * state.trackScale\r\n        item.nowXAxis = widthScale * item.xAxis\r\n        item.nowYAxis = heightScale * item.yAxis\r\n        item.scale = 1\r\n        item.transparency = item.transparency * 1\r\n        // 贴图的特殊属性处理\r\n        if (state.list === 'pictureTrackList') {\r\n          item.fileUrl = item.watermark\r\n          item.transparency = item.transparency * 1\r\n          if (!item.overturn) {\r\n            item.transform = ''\r\n          } else {\r\n            item.transform = item.overturn === 'vflip' ? 'rotateX(180deg)' : 'rotateY(180deg)'\r\n          }\r\n        }\r\n        // 字幕的特殊属性处理\r\n        if (state.list === 'textTrackList') {\r\n          item.fontWeight = item.bold ? 600 : 400\r\n          item.fontStyle = item.italic ? 'italic' : 'normal'\r\n          item.border = item.frame ? 'solid 1px #FFFFFF' : 'none'\r\n          item.textShadow = item.shadowY ? '0px 1.5px #000000' : 'none'\r\n          item.textDecoration = item.underLine ? 'underline' : 'none'\r\n          item.webkitTextStroke = item.borderW ? '1px #000000' : '0px'\r\n        }\r\n      })\r\n      if (i === 0) {\r\n        // 删掉初始化用的第一个空数组\r\n        state[state.list].pop()\r\n      }\r\n      state[state.list].push(realList[i])\r\n    }\r\n  },\r\n  clearSelected (state) {\r\n    // 清空选择块数据\r\n    for (let item in state.selected) {\r\n      state.selected[item] = null\r\n    }\r\n    state.selectedTarget = {}\r\n  },\r\n  clearPlaying (state, params) {\r\n    state[params.target][params.trackIndex] = undefined\r\n    state[params.target + 'Index'][params.trackIndex] = -1\r\n  },\r\n  clearAll (state) {\r\n    state.materialTabList = []\r\n    state.materialTrackList = []\r\n    state.textTrackList = [[]]\r\n    state.pictureTrackList = [[]]\r\n    state.transitionTrackList = []\r\n    state.pointerLeft = 0\r\n    state.pointerDuration = 0\r\n    state.timeAxisDuration = 0\r\n    state.tracksTime.material = 0\r\n    state.tracksTime.picture = 0\r\n    state.tracksTime.text = 0\r\n    this.commit('clearSelected')\r\n  },\r\n  clearDragData (state) {\r\n    state.trackId = null\r\n  },\r\n  trackBlockSelect (state, params) {\r\n    // 消除原选择块的boxShadow\r\n    if (state.selected.target) {\r\n      state.selected.target.style.boxShadow = ''\r\n    }\r\n    const realTarget = params.e.target ? params.e.target : params.e\r\n    state.selected.index = params.index\r\n    state.selected.trackIndex = isNaN(params.trackIndex) ? null : params.trackIndex\r\n    state.selected.type = params.list\r\n    state.selected.target = realTarget\r\n    state.selected.width = Math.round(realTarget.getBoundingClientRect().width)\r\n    state.selected.dataURL = realTarget.style ? realTarget.style.backgroundImage : ''\r\n    state.targetTrackIndex = state.selected.trackIndex\r\n    realTarget.style.boxShadow = 'inset 0px 0px 2px 1px #26CB51'\r\n    // 暂时兼容未使用vuex的视频素材轨道\r\n    const realObject = params.realList ? params.realList[params.index] : state[params.list][params.trackIndex][params.index]\r\n    state.selectedTarget = realObject\r\n  },\r\n  trackBlockResize (state, params) {\r\n    state.list = params.list\r\n    state.vm = params.vm\r\n    state.prefix = params.prefix\r\n    state.trackId = params.prefix + 'Track'\r\n\r\n    const index = state.selected.index\r\n    const target = state[params.list][state.selected.trackIndex][index]\r\n    const newWidth = params.newWidth\r\n    const nextToTarget = state[params.list][state.selected.trackIndex][index + 1]\r\n    const originalWidth = params.element.clientWidth\r\n    let rangeLimit = target.fileType === 'video' ? target.range : -1\r\n    let realRange = newWidth\r\n    if (rangeLimit === -1) {\r\n      // 非视频贴图块 - 可无限伸缩\r\n      target.positionXEnd = target.positionXBegin + newWidth\r\n    } else {\r\n      // 视频贴图受本身视频长度限制 有最大拉伸值\r\n      const realWidth = rangeLimit >= newWidth ? newWidth : rangeLimit\r\n      target.positionXEnd = target.positionXBegin + realWidth\r\n      realRange = realWidth\r\n    }\r\n    target.realRange = (target.positionXEnd - target.positionXBegin).toFixed(1) * 1\r\n    params.element.style.width = realRange + 'px'\r\n    // 选择块位置在最末时 伸缩对其他块无影响 无需后续操作\r\n    if (!nextToTarget) {\r\n      return true\r\n    }\r\n    // 当选择块拉长 且改变的长度大于两选择块之间的距离 则后块需要后移\r\n    const changeWidth = realRange - originalWidth\r\n    if (realRange > originalWidth && changeWidth > (nextToTarget.positionXBegin - target.positionXEnd)) {\r\n      this.commit('trackBlockResizeMove', changeWidth)\r\n    }\r\n  },\r\n  trackBlockResizeMove(state, changeWidth) {\r\n    // 轨道块伸长 所在间隔不够时 后移\r\n    let list = state[state.list][state.selected.trackIndex]\r\n    for (let i = state.selected.index + 1; i < list.length; i++) {\r\n      list[i].positionXBegin += changeWidth\r\n      list[i].positionXEnd += changeWidth\r\n    }\r\n    state.isTrackResize = true\r\n    this.commit('trackDraw')\r\n  },\r\n  trackBlockDelete (state, params) {\r\n    state.vm = params.vm\r\n    state.list = state.selected.type\r\n    state.prefix = params.prefix\r\n    state.trackId = params.trackId\r\n\r\n    let list = state[state.selected.type][state.selected.trackIndex]\r\n    const index = state.selected.index\r\n    // 当前轨道为空时 不操作\r\n    if (!list.length) {\r\n      return false\r\n    }\r\n    // 删除所选轨道块\r\n    list.splice(index, 1)\r\n    list.forEach((item, index) => {\r\n      item.seq = index + 1\r\n    })\r\n    if (!list.length) {\r\n      // 当前轨道删减后为空 清除选中及各种状态\r\n      this.commit('clearSelected')\r\n      return true\r\n    }\r\n    // 当前轨道还有块时 选中定位到旁边块\r\n    this.dispatch('setNextTrackBlock')\r\n  },\r\n  dragStart (state, params) {\r\n    const e = params.e\r\n    const item = params.item\r\n    const index = params.index\r\n\r\n    e.dataTransfer.setData('Text', index)\r\n    // 用全透明图片替换掉默认的半透明图片\r\n    e.dataTransfer.setDragImage(state.dragImage, 0, 0)\r\n\r\n    state.isTrackDrag = params.isTrackDrag\r\n    state.prefix = params.prefix\r\n    state.list = params.list\r\n    state.trackId = params.trackId\r\n    state.dragTarget = item\r\n    state.isDropZone = false\r\n    state.isDragDrop = false\r\n    state.isDragging = true\r\n\r\n    const positionRect = e.target.getBoundingClientRect()\r\n    if (state.isTrackDrag) {\r\n      // 当前为轨道dragStart时\r\n      state.originalElement = e.target\r\n      state.picturePosition.y = positionRect.top\r\n      state.isDragFromTab = false\r\n      state.trackIndex = params.trackIndex\r\n      state.dragIndex = index\r\n      const playingName = 'playing' + state.prefix.slice(0, 1).toUpperCase() + state.prefix.slice(1)\r\n      if (state[playingName][state.trackIndex] && state[playingName][state.trackIndex].seq === index + 1) {\r\n        state.dragPlayingName = state.prefix\r\n      }\r\n    } else {\r\n      // 当前为tabs标签页dragStart时\r\n      state.isDragFromTab = true\r\n      state.trackIndex = null\r\n      state.dragIndex = null\r\n    }\r\n\r\n    // 设置跟随鼠标的元素及样式\r\n    state.mouseElement = document.createElement('DIV')\r\n    state.dragTranslateX = positionRect.left\r\n    if (!item.duration) {\r\n      state.dragWidth = state.defaultPicWidth\r\n    } else {\r\n      state.dragWidth = item.realRange ? item.realRange : item.duration * state.trackScale\r\n    }\r\n\r\n    state.mouseElement.style = 'position: fixed; top: 0px; left: 0px; z-index: 9999; pointer-events: none; background-size: auto 100%; border-radius: 5px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;'\r\n    state.mouseElement.style.width = state.dragWidth + 'px'\r\n    state.mouseElement.style.transform = 'translate(' + positionRect.left + 'px,' + positionRect.top + 'px)'\r\n    if (state.prefix === 'picture') {\r\n      state.mouseElement.style.height = state.defaultPicHeight + 'px'\r\n      state.mouseElement.style.backgroundImage = 'url(' + item.picUrl + ')'\r\n      state.mouseElement.style.backgroundColor = '#000000'\r\n    }\r\n    if (state.prefix === 'text') {\r\n      state.mouseElement.innerText = item.text\r\n      state.mouseElement.style.fontSize = '13px'\r\n      state.mouseElement.style.height = state.defaultTextHeight + 'px'\r\n      state.mouseElement.style.lineHeight = state.defaultTextHeight + 'px'\r\n      state.mouseElement.style.backgroundColor = '#F2F2F2'\r\n      state.mouseElement.style.textAlign = 'center'\r\n      state.mouseElement.style.boxShadow = 'inset 0px 0px 2px 1px #26CB51'\r\n      state.mouseElement.style.color = '#333333'\r\n    }\r\n    // 添加元素到DOM\r\n    document.body.appendChild(state.mouseElement)\r\n  },\r\n  tabDragging (state, e) {\r\n    e.preventDefault()\r\n    // 获取拖拽移动方向及当前鼠标位置\r\n    state.direction = e.clientX - state.dragTranslateX\r\n    state.dragTranslateX = e.clientX\r\n    // 在dropZone外拖拽时 元素位置即鼠标位置\r\n    if (!state.isDropZone) {\r\n      state.mouseElement.style.transform = 'translate(' + e.clientX + 'px,' + e.clientY + 'px)'\r\n    }\r\n  },\r\n  trackDragging (state, e) {\r\n    // 获取拖拽移动方向及当前鼠标位置\r\n    state.direction = e.clientX - state.dragTranslateX\r\n    state.dragTranslateX = e.clientX\r\n    // 隐藏轨道上的拖拽目标\r\n    state.originalElement.style.visibility = 'hidden'\r\n  },\r\n  dragTrackEnter (state, e) {\r\n    // 须在对应轨道类型操作\r\n    if (e.target.className !== state.trackId) {\r\n      return false\r\n    }\r\n    // 获取对应的轨道index 5为Track字符串的长度\r\n    const index = e.target.id.indexOf('Track')\r\n    state.targetTrackIndex = e.target.id.slice(index + 5) * 1\r\n    // 拖拽元素进入dropZone 添加boxShadow\r\n    let target = state.mouseElement\r\n    target.style.boxShadow = 'inset 0px 0px 2px 1px #26CB51'\r\n  },\r\n  dragTrackOver(state, params) {\r\n    // 须在对应轨道操作\r\n    if (params.e.target.className !== state.trackId) {\r\n      return false\r\n    }\r\n    params.e.preventDefault()\r\n    state.vm = params.vm\r\n\r\n    state.isDropZone = true\r\n    this.commit('draggingMove')\r\n  },\r\n  draggingMove (state) {\r\n    const track = document.getElementById(state.trackId + state.targetTrackIndex)\r\n    const trackPosition = track.getBoundingClientRect()\r\n    const iconWidth = trackPosition.left\r\n    const dragWidth = state.dragWidth\r\n    const element = state.mouseElement\r\n    // 需减去左侧图标列表的宽度 获得轨道贴图块真正x坐标\r\n    const dragTranslateX = state.dragTranslateX\r\n    const realX = (dragTranslateX - iconWidth).toFixed(1) * 1\r\n    const endX = (realX + dragWidth).toFixed(1) * 1\r\n    const list = state[state.list][state.targetTrackIndex]\r\n    state.iconWidth = iconWidth\r\n    state.picturePosition.y = trackPosition.top\r\n\r\n    let targetOne = null // 当前块 与拖拽块产生冲突的轨道块\r\n    let targetTwo = null // 比较块 用于计算与当前块的间隔\r\n    let targetRange = null // 当前块与比较块的间隔\r\n    let lengthCompare = null // targetRange与拖拽块长度的比较\r\n    let realWidth = null // 拖拽块的新宽度\r\n    let newTranslateX = null // 拖拽块的新x坐标\r\n    let canMove = false // 冲突下是否可以产生移动\r\n\r\n    // 判断鼠标在不在 轨道块,若在 得出index\r\n    const indexOnBlock = list.findIndex((item, index) => {\r\n      const rightOne = endX >= item.positionXBegin && endX <= item.positionXEnd\r\n      const leftOne = realX >= item.positionXBegin && realX <= item.positionXEnd\r\n      const rightTwo = item.positionXBegin >= realX && item.positionXBegin <= endX\r\n      const leftTwo = item.positionXEnd >= realX && item.positionXEnd <= endX\r\n      const targetIndex = state.targetTrackIndex === state.trackIndex ? index !== state.dragIndex : 1\r\n      return targetIndex && (rightOne || leftOne || rightTwo || leftTwo)\r\n    })\r\n    // 鼠标在轨道块 获取当前块与比较块 得到块间隔\r\n    if (indexOnBlock !== -1) {\r\n      targetOne = list[indexOnBlock]\r\n      if (state.direction >= 0) {\r\n        targetTwo = (state.targetTrackIndex === state.trackIndex && indexOnBlock + 1 !== state.dragIndex) || state.targetTrackIndex !== state.trackIndex ? list[indexOnBlock + 1] : list[indexOnBlock + 2]\r\n        canMove = realX >= targetOne.positionXBegin + targetOne.realRange / 2\r\n      } else {\r\n        targetTwo = (state.targetTrackIndex === state.trackIndex && indexOnBlock - 1 !== state.dragIndex) || state.targetTrackIndex !== state.trackIndex ? list[indexOnBlock - 1] : list[indexOnBlock - 2]\r\n        canMove = realX <= targetOne.positionXBegin + targetOne.realRange / 2\r\n      }\r\n      if (state.direction === 0) {\r\n        canMove = true\r\n      }\r\n      if (state.isDragFromTab && !canMove) {\r\n        element.style.transform = 'translate(' + dragTranslateX + 'px,' + state.picturePosition.y + 'px)'\r\n      }\r\n      // 比较块undefined时\r\n      if (!targetTwo) {\r\n        // 鼠标在轨道块 且 下一个块undefined -> 当前比较块为最末\r\n        if (state.direction > 0 && canMove) {\r\n          // console.log('鼠标在轨道块 且 下一个块undefined -> 当前比较块为最末')\r\n          newTranslateX = targetOne.positionXEnd + iconWidth\r\n          element.style.transform = 'translate(' + newTranslateX + 'px,' + state.picturePosition.y + 'px)'\r\n          return true\r\n        }\r\n        if (state.direction < 0 && canMove) {\r\n          // 鼠标在轨道块 且 上一个块undefined -> 当前比较块为最前\r\n          if (targetOne.positionXBegin < 5) {\r\n            // console.log('鼠标在轨道块 且 上一个块undefined -> 当前比较块为最前 原长度挤')\r\n            // this.handleTranslateChange(indexOnBlock, list.length - 1, true, dragWidth)\r\n            // element.style.transform = 'translate(' + iconWidth + 'px,' + state.picturePosition.y + 'px)'\r\n            return true\r\n          }\r\n          lengthCompare = targetOne.positionXBegin - dragWidth\r\n          realWidth = lengthCompare > 0 ? dragWidth : targetOne.positionXBegin\r\n          newTranslateX = targetOne.positionXBegin - realWidth + iconWidth\r\n          state.dragWidth = realWidth\r\n          element.style.width = realWidth + 'px'\r\n          element.style.transform = 'translate(' + newTranslateX + 'px,' + state.picturePosition.y + 'px)'\r\n          // console.log('鼠标在轨道块 且 上一个块undefined -> 当前比较块为最前 改长度放')\r\n          return true\r\n        }\r\n      } else {\r\n        // 比较块存在时\r\n        targetRange = state.direction >= 0 ? targetTwo.positionXBegin - targetOne.positionXEnd : targetOne.positionXBegin - targetTwo.positionXEnd\r\n        if (targetRange < 5) {\r\n          // console.log('鼠标在轨道块 块间隔不够 原长度挤')\r\n          // this.handleTranslateChange(indexOnBlock, list.length - 1, true, dragWidth)\r\n          // element.style.transform = 'translate(' + (targetOne.positionXEnd + iconWidth) + 'px,' + state.picturePosition.y + 'px)'\r\n          return true\r\n        }\r\n        lengthCompare = targetRange - dragWidth\r\n        if (state.direction > 0 && canMove) {\r\n          realWidth = lengthCompare > 0 ? dragWidth : targetRange\r\n          newTranslateX = targetOne.positionXEnd + iconWidth\r\n          state.dragWidth = realWidth\r\n          element.style.width = realWidth + 'px'\r\n          element.style.transform = 'translate(' + newTranslateX + 'px,' + state.picturePosition.y + 'px)'\r\n          // console.log('鼠标在轨道块 块间隔够 方向为右 改长度放')\r\n          return true\r\n        }\r\n        if (state.direction < 0 && canMove) {\r\n          realWidth = lengthCompare > 0 ? dragWidth : targetRange\r\n          newTranslateX = targetOne.positionXBegin - realWidth + iconWidth\r\n          state.dragWidth = realWidth\r\n          element.style.width = realWidth + 'px'\r\n          element.style.transform = 'translate(' + newTranslateX + 'px,' + state.picturePosition.y + 'px)'\r\n          // console.log('鼠标在轨道块 块间隔够 方向为左 改长度放')\r\n          return true\r\n        }\r\n      }\r\n    }\r\n    if (indexOnBlock === -1) {\r\n      element.style.transform = 'translate(' + dragTranslateX + 'px,' + state.picturePosition.y + 'px)'\r\n    }\r\n  },\r\n  drop (state, e) {\r\n    e.preventDefault()\r\n\r\n    state.isDropZone = false\r\n    state.isDragDrop = true\r\n    state.isDragging = false\r\n    const target = Object.assign({}, state.dragTarget)\r\n    const positionRect = state.mouseElement.getBoundingClientRect()\r\n    // 设置当前拖拽块的新坐标\r\n    // 处理\"归零\"问题\r\n    target.positionXBegin = positionRect.left - state.iconWidth <= 0.8 ? 0 : positionRect.left - state.iconWidth\r\n    target.positionXEnd = target.positionXBegin + positionRect.width\r\n    if (state.isDragFromTab) {\r\n      state.isDragFromTab = false\r\n    }\r\n    // 不允许重叠放置\r\n    this.commit('judgeConflicBlock', target)\r\n    if (state.isConflic) {\r\n      state.vm.$message({\r\n        type: 'warning',\r\n        message: '该区域空位长度不够，不支持直接放置'\r\n      })\r\n      document.body.removeChild(state.mouseElement)\r\n      state.originalElement.style.visibility = 'visible'\r\n      state.mouseElement = null\r\n      return true\r\n    }\r\n    // 重新获得playing- 实时更新当前播放区域的drr显示\r\n    state.needPointerJudge.isNeed = true\r\n    state.needPointerJudge.target = state.list\r\n\r\n    if (state.isTrackDrag) {\r\n      state.originalElement.style.visibility = 'visible'\r\n      state.isTrackDrag = false\r\n      state.dragPlayingName = null\r\n      this.commit('trackDragRealEnd', { target: target, index: e.dataTransfer.getData('Text') })\r\n    } else {\r\n      state.dragTarget = {}\r\n      this.commit('tabDragAdd', { target: target, index: undefined })\r\n    }\r\n  },\r\n  tabDragAdd (state, params) {\r\n    if (params.iconAdd) {\r\n      state.trackIndex = null\r\n    }\r\n    for (let key in params) {\r\n      state[key] = params[key]\r\n    }\r\n    const target = params.target\r\n    if (!target.duration) {\r\n      target.duration = state.defaultPicWidth / state.trackScale\r\n    }\r\n    target.range = (target.duration * state.trackScale).toFixed(1) * 1\r\n    target.realRange = target.range\r\n    target.width = state.defaultPicWidth\r\n    target.nowXAxis = 0\r\n    target.nowYAxis = 0\r\n    target.whirl = 0\r\n    target.scale = 1\r\n    target.transparency = 1\r\n    if (state.list === 'pictureTrackList') {\r\n      target.overturn = ''\r\n    }\r\n    state.tempDragTarget = target\r\n    if (state.list === 'pictureTrackList') {\r\n      // 贴图需要根据原图比例设置显示宽高\r\n      this.dispatch('getWidthAndHeight', params.index)\r\n    } else {\r\n      this.commit('tabDragRealAdd', {\r\n        wnh: {\r\n          width: state.defaultPicWidth,\r\n          height: state.defaultDrrHeight\r\n        },\r\n        index: params.index\r\n      })\r\n    }\r\n  },\r\n  tabDragRealAdd (state, parmas) {\r\n    state.tempDragTarget.height = state.tempDragTarget.width / parmas.wnh.width * parmas.wnh.height\r\n    state.tempDragTarget.zoom = state.tempDragTarget.width + ':' + state.tempDragTarget.height\r\n    if (isNaN(parmas.index)) {\r\n      // 不定添加位置的轨道块\r\n      state[state.list][state.targetTrackIndex].push(state.tempDragTarget)\r\n      this.commit('listSort')\r\n    } else {\r\n      // 指定添加位置的轨道块\r\n      state[state.list][state.targetTrackIndex].splice(parmas.index + 1, 0, state.tempDragTarget)\r\n      this.commit('listMove', {\r\n        target: state.tempDragTarget,\r\n        index: parmas.index + 1\r\n      })\r\n    }\r\n  },\r\n  listSort (state) {\r\n    // 按照在轨时间先后进行排序\r\n    state[state.list][state.targetTrackIndex].sort((item, nextItem) => {\r\n      return item.positionXBegin - nextItem.positionXBegin\r\n    })\r\n    this.commit('getList')\r\n  },\r\n  getList (state) {\r\n    if (state.trackIndex !== null && state.targetTrackIndex !== state.trackIndex) {\r\n      this.commit('formatList', state.targetTrackIndex)\r\n      this.commit('formatList', state.trackIndex)\r\n      this.commit('getTracksDration', state.list)\r\n      this.dispatch('setTrackDraw', { way: true, clear: true})\r\n    } else {\r\n      this.commit('formatList', state.targetTrackIndex)\r\n      this.commit('getTracksDration', state.list)\r\n      this.dispatch('setTrackDraw', { way: false, clear: true})\r\n    }\r\n  },\r\n  formatList (state, listIndex) {\r\n    // 更新轨道数据\r\n    const scale = state.trackScale\r\n    state[state.list][listIndex].forEach((item, index) => {\r\n      item.positionXBegin = (item.positionXBegin).toFixed(1) * 1\r\n      item.positionXEnd = (item.positionXEnd).toFixed(1) * 1\r\n      item.realRange = (item.positionXEnd - item.positionXBegin).toFixed(1) * 1\r\n      item.trackStartTime = (item.positionXBegin / scale).toFixed(1) * 1\r\n      item.trackEndTime = (item.positionXEnd / scale).toFixed(1) * 1\r\n      item.startSecond = item.trackStartTime\r\n      item.endSecond = item.trackEndTime\r\n      item.seq = index + 1\r\n    })\r\n  },\r\n  listMove (state, params) {\r\n    const index = params.index\r\n    const list = state[state.list][state.targetTrackIndex]\r\n    const length = list.length\r\n    const moveLength = params.target.realRange\r\n    const newBeginX = list[index].positionXBegin\r\n    const newEndX = list[index].positionXEnd\r\n    const nextBeginX = list[index + 1] ? list[index + 1].positionXBegin : undefined\r\n    const newWidth = nextBeginX - newBeginX\r\n    // 指针与后一个贴图块的间隔 - 够放新贴图块 直接放\r\n    if (!nextBeginX || nextBeginX >= newEndX) {\r\n      this.commit('getList')\r\n      return true\r\n    }\r\n    // 指针与后一个贴图块的间隔 - 以5px为基准, 不完全够放新贴图块 改变新贴图块长度\r\n    if (newWidth >= 5) {\r\n      list[index].positionXEnd = nextBeginX\r\n      this.commit('getList')\r\n      return true\r\n    }\r\n    // 指针与后一个贴图块的间隔 - 不够放新贴图块 后面的贴图块后移挪位\r\n    for (let i = index + 1; i < length; i++) {\r\n      list[i].positionXBegin += moveLength\r\n      list[i].positionXEnd += moveLength\r\n    }\r\n    this.commit('getList')\r\n  },\r\n  judgeConflicBlock (state, target) {\r\n    const beginX = (target.positionXBegin).toFixed(1) * 1\r\n    const endX = (target.positionXEnd).toFixed(1) * 1\r\n    // 判断所在位置是否已有块\r\n    const coverIndex = state[state.list][state.targetTrackIndex].findIndex((item, index) => {\r\n      const track = state.targetTrackIndex === state.trackIndex ? state.dragIndex !== index : true\r\n      return track && ((beginX > item.positionXBegin && beginX < item.positionXEnd) || (endX > item.positionXBegin && endX < item.positionXEnd))\r\n    })\r\n    const containIndex = state[state.list][state.targetTrackIndex].findIndex((item, index) => {\r\n      const track = state.targetTrackIndex === state.trackIndex ? state.dragIndex !== index : true\r\n      return track && (beginX < item.positionXBegin && endX > item.positionXEnd)\r\n    })\r\n    if (coverIndex !== -1 || containIndex !== -1) {\r\n      state.isConflic = true\r\n    } else {\r\n      state.isConflic = false\r\n    }\r\n  },\r\n  tabDragEnd (state, e) {\r\n    // 拖拽元素已在dropZone 但鼠标在dropZone外松开时 也要放元素\r\n    if (state.isDropZone) {\r\n      this.commit('drop', e)\r\n    }\r\n    // 清空拖拽元素\r\n    if (state.mouseElement) {\r\n      document.body.removeChild(state.mouseElement)\r\n      state.mouseElement = null\r\n    }\r\n  },\r\n  trackDragEnd (state) {\r\n    state.isDragging = false\r\n    state.isDropZone = false\r\n    // 已在dropZone内松开并放置 无需后续处理\r\n    if (state.isDragDrop) {\r\n      return true\r\n    }\r\n    // 未在dropZone内松开并放置时\r\n    const target = Object.assign({}, state.dragTarget)\r\n    const positionRect = state.mouseElement.getBoundingClientRect()\r\n    // 处理\"归零\"问题\r\n    target.positionXBegin = positionRect.left - state.iconWidth <= 0.8 ? 0 : positionRect.left - state.iconWidth\r\n    target.positionXEnd = target.positionXBegin + positionRect.width\r\n    // 判断是否进入指针区域 重新获得playing- 实时更新当前播放区域的drr显示\r\n    if (state.pointerLeft >= target.positionXBegin && state.pointerLeft <= target.positionXEnd) {\r\n      state.needPointerJudge.isNeed = true\r\n      state.needPointerJudge.target = state.list\r\n    }\r\n    this.commit('trackDragRealEnd', { target: target, index: state.dragIndex })\r\n    state.isTrackDrag = false\r\n    state.dragPlayingName = null\r\n    state.originalElement.style.visibility = 'visible'\r\n  },\r\n  trackDragRealEnd (state, params) {\r\n    const target = params.target\r\n    const index = params.index * 1\r\n    let list = state[state.list][state.trackIndex]\r\n    // 清空拖拽元素\r\n    if (state.mouseElement) {\r\n      document.body.removeChild(state.mouseElement)\r\n    }\r\n    list[index].positionXBegin = target.positionXBegin\r\n    list[index].positionXEnd = target.positionXEnd\r\n    list[index].isSelected = true\r\n    if (state.targetTrackIndex !== state.trackIndex) {\r\n      state[state.list][state.targetTrackIndex].push(list[index])\r\n      state[state.list][state.trackIndex].splice(index, 1)\r\n    }\r\n    state.dragTranslateX = null\r\n    state.dragWidth = null\r\n    state.mouseElement = null\r\n    state.dragIndex = null\r\n    // 更新数据后需重新排序\r\n    this.commit('listSort')\r\n  },\r\n  trackDraw (state, paramsIndex) {\r\n    if (!isNaN(paramsIndex)) {\r\n      state.targetTrackIndex = paramsIndex\r\n    }\r\n    // 画轨道块\r\n    const list = state[state.list][state.targetTrackIndex]\r\n    for (let i = 0; i < list.length; i++) {\r\n      // 获取当前操作的ref名\r\n      const index = state.prefix + i\r\n\r\n      const targetPicture = list[i]\r\n      let targetElement = null\r\n      // 根据this设置获取路径\r\n      if (state.vm.$el.id === 'onlineClip') {\r\n        targetElement = state.vm.$refs[state.trackId][state.targetTrackIndex].$refs[index][0]\r\n      } else {\r\n        targetElement = document.querySelector('#' + state.trackId + state.targetTrackIndex).querySelector('#' + index)\r\n      }\r\n      if (state.isTrackDrag || state.isTrackResize) {\r\n        // 只是移动 其他样式无需改变\r\n        targetElement.style.transform = 'translateX(' + targetPicture.positionXBegin + 'px)'\r\n      } else {\r\n        targetElement.style.width = targetPicture.realRange + 'px'\r\n        targetElement.style.backgroundSize = 'auto 100%'\r\n        targetElement.style.transform = 'translateX(' + targetPicture.positionXBegin + 'px)'\r\n        if (state.prefix === 'picture') {\r\n          targetElement.style.height = state.defaultPicHeight + 'px'\r\n          targetElement.style.backgroundImage = 'url(' + targetPicture.picUrl + ')'\r\n          targetElement.style.backgroundColor = '#000'\r\n        }\r\n        if (state.prefix === 'text') {\r\n          targetElement.style.background = '#f2f2f2'\r\n          targetElement.style.height = state.defaultTextHeight + 'px'\r\n        }\r\n      }\r\n    }\r\n  },\r\n  trackAdd (state, params) {\r\n    state[params.name + 'TrackList'].splice(params.index + 1, 0, [])\r\n    this.commit('trackAfter', params)\r\n  },\r\n  trackDelete (state, params) {\r\n    state[params.name + 'TrackList'].splice(params.index, 1)\r\n    this.commit('trackAfter', params)\r\n  },\r\n  trackCopy (state, params) {\r\n    const addTarget = JSON.parse(JSON.stringify(state[params.name + 'TrackList'][params.index]))\r\n    state[params.name + 'TrackList'].splice(params.index + 1, 0, addTarget)\r\n    this.commit('trackAfter', params)\r\n  },\r\n  trackAfter (state, params) {\r\n    state.list = params.list\r\n    state.targetTrackIndex = params.index\r\n    state.vm = params.vm\r\n    state.prefix = params.name\r\n    state.trackId = params.name + 'Track'\r\n    // 重新获得playing- 实时更新当前播放区域的drr显示\r\n    state.needPointerJudge.isNeed = true\r\n    state.needPointerJudge.target = state.list\r\n    this.dispatch('setTrackDraw', { way: true, clear: true})\r\n  },\r\n  drrActive (state, params) {\r\n    state.activeName = params.activeTarget\r\n    state.list = params.list\r\n    state.playingName = params.playingName\r\n    state.vm = params.vm\r\n  },\r\n  drrDragStop (state, params) {\r\n    const resizable = params.vm.$refs.resizable[0]\r\n    let target = state.selectedTarget\r\n    state.vm = params.vm\r\n    state.playingName = params.playingName\r\n\r\n    target.nowXAxis = params.left\r\n    target.nowYAxis = params.top\r\n    target.width = resizable.width\r\n    target.height = resizable.height\r\n  },\r\n  drrResizing (state, params) {\r\n    const rect = params.rect\r\n    const resizable = params.vm.$refs.resizable[0]\r\n    state.vm = params.vm\r\n    state.playingName = params.playingName\r\n    if (params.keyCode === 16) {\r\n      const target = state.selectedTarget\r\n      const widthRange = rect.width - target.width\r\n      const heightRange = rect.height - target.height\r\n      if (rect.left !== target.nowXAxis || rect.top !== target.nowYAxis) {\r\n        resizable.left = target.nowXAxis\r\n        resizable.elmX = target.nowXAxis\r\n        resizable.top = target.nowYAxis\r\n        resizable.elmY = target.nowYAxis\r\n      }\r\n      if (widthRange > heightRange) {\r\n        resizable.height = rect.width / target.width * target.height\r\n        resizable.elmH = rect.width / target.width * target.height\r\n      } else {\r\n        resizable.width = rect.height / target.height * target.width\r\n        resizable.elmW = rect.height / target.height * target.width\r\n      }\r\n      return true\r\n    }\r\n    resizable.elmW = rect.width\r\n    resizable.elmH = rect.height\r\n  },\r\n  drrResizeStop (state, params) {\r\n    let selectedTarget = state.selectedTarget\r\n\r\n    selectedTarget.nowXAxis = params.left\r\n    selectedTarget.nowYAxis = params.top\r\n    selectedTarget.width = params.width\r\n    selectedTarget.height = params.height\r\n    selectedTarget.zoom = params.width + ':' + params.height\r\n\r\n    this.commit('drrElementData', { way: true, index: state.selected.trackIndex })\r\n  },\r\n  drrRotating (state, angle) {\r\n    state.selectedTarget.whirl = angle\r\n    state[state.list][state.selected.trackIndex][state.selectedTarget.seq - 1].whirl = angle\r\n  },\r\n  drrTextChange (state, params) {\r\n    state.textTrackList[params.trackIndex][state.textEditIndex].text = params.text\r\n  },\r\n  drrElementData (state, params) {\r\n    if (!params.way) {\r\n      state.vm = params.vm\r\n      state.playingName = params.playingName\r\n    }\r\n    if ((!params.isSubmit && !state[state.playingName][params.index]) || !state.vm.$refs.resizable || !state.vm.$refs.drrTarget) {\r\n      return false\r\n    }\r\n    const resizable = state.vm.$refs.resizable[0]\r\n    const drrTarget = state.vm.$refs.drrTarget[0]\r\n    const target = params.isSubmit ? params.target : state[state.playingName][params.index]\r\n    if (!resizable || !drrTarget) {\r\n      return false\r\n    }\r\n    const width = params.isSubmit ? target.width * params.scale.widthScale : target.width\r\n    const height = params.isSubmit ? target.height * params.scale.heightScale : target.height\r\n    const x = params.isSubmit ? target.nowXAxis * params.scale.widthScale : target.nowXAxis\r\n    const y = params.isSubmit ? target.nowYAxis * params.scale.heightScale : target.nowYAxis\r\n    resizable.elmW = width\r\n    resizable.elmH = height\r\n    resizable.width = width\r\n    resizable.height = height\r\n    resizable.rotateAngle = target.whirl\r\n    resizable.elmX = x\r\n    resizable.elmY = y\r\n    resizable.left = x\r\n    resizable.top = y\r\n    const targetStyle = drrTarget.$el ? drrTarget.$el.style : drrTarget.style\r\n    targetStyle.transform = target.transform\r\n    targetStyle.opacity = target.transparency\r\n  },\r\n  drrTabRotate (state, angle) {\r\n    const resizable = state.vm.$refs.resizable[0]\r\n    let selectedTarget = state.selectedTarget\r\n    let listTarget = state[state.list][state.selected.trackIndex][state.selectedTarget.seq - 1]\r\n\r\n    resizable.rotateAngle = angle\r\n    selectedTarget.whirl = angle\r\n    // 同步更新数组内的数据\r\n    listTarget.whirl = angle\r\n  },\r\n  drrTabBeforeResize (state, lastZoom) {\r\n    // 得到当前缩放比例下贴图的实际大小(即缩放1倍时)\r\n    const resizable = state.vm.$refs.resizable[0]\r\n    const beforeWidth = resizable.width\r\n    const beforeHeight = resizable.height\r\n\r\n    // 缩放滑块设为0时 不做事前计算\r\n    if (lastZoom !== 0) {\r\n      state.tabResizedTarget.width = beforeWidth / lastZoom\r\n      state.tabResizedTarget.height = beforeHeight / lastZoom\r\n    }\r\n  },\r\n  drrTabResize (state, zoom) {\r\n    let selectedTarget = state.selectedTarget\r\n    // 缩放为0时 需要进行特殊处理 否则drr组件报错\r\n    selectedTarget.width = state.tabResizedTarget.width * zoom === 0 ? 1 : state.tabResizedTarget.width * zoom\r\n    selectedTarget.height = state.tabResizedTarget.height * zoom === 0 ? 1 : state.tabResizedTarget.width * zoom\r\n    selectedTarget.scale = zoom\r\n    // 获取现在的宽高比\r\n    selectedTarget.zoom = selectedTarget.width + ':' + selectedTarget.height\r\n\r\n    this.commit('drrElementData', { way: true, index: state.selected.trackIndex })\r\n  },\r\n  drrTabOpacity (state, opacity) {\r\n    const realTarget = state.vm.$refs.drrTarget ? state.vm.$refs.drrTarget[0] : null\r\n    if (!realTarget) {\r\n      return false\r\n    }\r\n    const targetStyle = realTarget.$el ? realTarget.$el.style : realTarget.style\r\n    targetStyle.opacity = opacity\r\n\r\n    let selectedTarget = state.selectedTarget\r\n    selectedTarget.transparency = opacity\r\n  },\r\n  drrTabFlip (state, way) {\r\n    const realTarget = state.vm.$refs.drrTarget ? state.vm.$refs.drrTarget[0] : null\r\n    if (!realTarget) {\r\n      return false\r\n    }\r\n    const targetStyle = realTarget.$el ? realTarget.$el.style : realTarget.style\r\n    const targetOne = 'rotate' + way + '(180deg)' // 对应使用way方向的翻转\r\n    const targetTwo = 'rotate' + way + '(0deg)' // 对应取消way方向的翻转\r\n    const transform = targetStyle.transform\r\n\r\n    // 初次设置翻转 对应使用way方向的翻转\r\n    if (!transform) {\r\n      targetStyle.transform = targetOne\r\n      this.commit('drrTabFlipEnd', { transform: targetOne, way: way })\r\n      return true\r\n    }\r\n    // 非初次设置翻转 需知道前次翻转是不是当前方向\r\n    const existWay = transform.indexOf(way)\r\n    // 非初次设置翻转 且不是当前方向 累加transform\r\n    if (existWay === -1) {\r\n      targetStyle.transform += targetOne\r\n      this.commit('drrTabFlipEnd', { transform: targetStyle.transform, way: way })\r\n      return true\r\n    }\r\n    // 非初次设置翻转 且为当前方向 则需知道上次是使用还是取消\r\n    const exist = transform.indexOf(targetOne)\r\n    // 对应处理\r\n    if (exist !== -1) {\r\n      targetStyle.transform = transform.replace(targetOne, targetTwo)\r\n    } else {\r\n      targetStyle.transform = transform.replace(targetTwo, targetOne)\r\n    }\r\n    this.commit('drrTabFlipEnd', { transform: targetStyle.transform, way: way })\r\n  },\r\n  drrTabFlipEnd (state, params) {\r\n    let selectedTarget = state.selectedTarget\r\n    selectedTarget.transform = params.transform\r\n    // 根据当前翻转内容 设置规范的存值\r\n    if (params.transform.indexOf('180') === -1) {\r\n      selectedTarget.overturn = ''\r\n    } else {\r\n      selectedTarget.overturn = params.way === 'X' ? 'vflip' : 'hflip'\r\n    }\r\n  },\r\n  drrTabFontOperation (state, params) {\r\n    // 处理字幕操作标签页 无需分隔样式名的操作\r\n    // 找到正在操作的drr 更新样式 更新数值\r\n    const target = document.querySelector('#textDrr' + state.selected.trackIndex).querySelector('.drr-target')\r\n    if (target) {\r\n      const targetStyle = target.style\r\n      targetStyle[params.styleName] = params.isNeedPx ? params.styleValue + 'px' : params.styleValue\r\n      state.textTrackList[state.selected.trackIndex][state.selected.index][params.styleName] = params.styleValue\r\n    }\r\n  },\r\n  drrTabFontStyle (state, params) {\r\n    // 处理字幕操作标签页 需要分隔样式名的操作\r\n    // 找到正在操作的drr 更新样式 更新数值\r\n    const target = document.querySelector('#textDrr' + state.selected.trackIndex).querySelector('.drr-target')\r\n    if (target) {\r\n      const targetStyle = target.style\r\n      targetStyle[params.styleName] = params.styleValue\r\n      if (!params.isOnly) {\r\n        state.textTrackList[state.selected.trackIndex][state.selected.index][params.styleName] = params.styleValue\r\n      }\r\n      state.textTrackList[state.selected.trackIndex][state.selected.index][params.name] = params.value\r\n    }\r\n  },\r\n  getTransitionMaxDuration (state, params) {\r\n    const durationOne = state.materialTrackList[params.indexOne].trackEndTime - state.materialTrackList[params.indexOne].trackStartTime\r\n    const durationTwo = state.materialTrackList[params.indexTwo].trackEndTime - state.materialTrackList[params.indexTwo].trackStartTime\r\n    const maxDuration = durationOne < durationTwo ? durationOne : durationTwo\r\n    return maxDuration\r\n  },\r\n  materialClip (state) {\r\n    // 当视频轨道块进行裁剪操作时 转场需进行相关的时长更新与新增转场\r\n\r\n    const index = state.operationIndex\r\n    // 获取需要修改时长的两个转场对象\r\n    let targetOne = state.transitionTrackList[index - 1]\r\n    let targetTwo = state.transitionTrackList[index]\r\n    // 获取第一个转场对象的最大时长\r\n    const maxDurationOne = this.commit('getTransitionMaxDuration', { indexOne: index - 1, indexTwo: index })\r\n    // 获取第二个转场对象的最大时长\r\n    const maxDurationTwo = this.commit('getTransitionMaxDuration', { indexOne: index + 1, indexTwo: index + 2 })\r\n    // 获取两个转场对象的新时长 - 若原时长比最大时长大 则取最大时长 否则仍为原时长\r\n    const oneDuration = targetOne.zoomTime > maxDurationOne / 2 ? maxDurationOne / 2 : targetOne.zoomTime\r\n    const twoDuration = targetTwo.zoomTime > maxDurationTwo / 2 ? maxDurationTwo / 2 : targetTwo.zoomTime\r\n    // 设置两个转场对象的新时长与新最大时长\r\n    targetOne.zoomTime = Math.floor(oneDuration)\r\n    targetOne.maxDuration = Math.floor(maxDurationOne)\r\n    targetTwo.zoomTime = Math.floor(twoDuration)\r\n    targetTwo.maxDuration = Math.floor(maxDurationTwo)\r\n\r\n    // 新增转场对象\r\n    this.commit('transitionAdd', index)\r\n  },\r\n  materialAdd (state) {\r\n    state.transitionTrackList.splice(state.operationIndex - 1, 1)\r\n    this.commit('transitionAdd', state.operationIndex - 1)\r\n    this.commit('transitionAdd', state.operationIndex)\r\n  },\r\n  materialDelete (state) {\r\n    state.transitionTrackList.splice(state.operationIndex, 2)\r\n    this.commit('transitionAdd', state.operationIndex)\r\n  },\r\n  materialSort () {\r\n    this.commit('materialDelete')\r\n    this.commit('materialAdd')\r\n  },\r\n  transitionAdd (state, index) {\r\n    const targetOne = state.materialTrackList[index]\r\n    const targetTwo = state.materialTrackList[index + 1]\r\n    if (!targetOne || !targetTwo) {\r\n      return false\r\n    }\r\n    const trackEndTime = state.materialTrackList[index].trackEndTime\r\n    const durationOne = state.materialTrackList[index].trackEndTime - state.materialTrackList[index].trackStartTime\r\n    const durationTwo = state.materialTrackList[index + 1].trackEndTime - state.materialTrackList[index + 1].trackStartTime\r\n    // 获取新增转场对象的最大时长\r\n    const maxDuration = durationTwo < durationOne ? durationTwo : durationOne\r\n    // 获取过渡允许的的最大时长: 两边更小值的1/2\r\n    const duration = maxDuration / 2 > 1 ? 1 : maxDuration / 2\r\n    const newTarget = {\r\n      trackStartTime: trackEndTime - duration / 2,\r\n      trackEndTime: trackEndTime - duration / 2 + 1,\r\n      originStartTime: trackEndTime,\r\n      maxDuration: Math.floor(maxDuration),\r\n      typeId: 7,\r\n      playbackRate: 1,\r\n      zoomTime: Math.floor(duration),\r\n      transitionName: '',\r\n      position: index,\r\n      beforeTime: Math.floor(durationOne),\r\n      afterTime: Math.floor(durationTwo)\r\n    }\r\n    state.transitionTrackList.splice(index - 1, 0, newTarget)\r\n  }\r\n}\r\n\r\nconst actions = {\r\n  getWidthAndHeight (context, index) {\r\n    // 获取贴图比例缩放后的宽高\r\n    let wnh = {}\r\n    let img = new Image()\r\n    img.src = context.state.tempDragTarget.picUrl\r\n    let timer = setInterval(() => {\r\n      if (wnh.width) {\r\n        clearInterval(timer)\r\n        context.commit('tabDragRealAdd', {\r\n          wnh: wnh,\r\n          index: index\r\n        })\r\n      }\r\n      wnh.width = img.width\r\n      wnh.height = img.height\r\n    }, 40)\r\n  },\r\n  setTrackDraw (context, params) {\r\n    // way: 是否对当前list的所有轨道进行绘制\r\n    // clear: 是否清除相关数据\r\n    context.state.vm.$nextTick(() => {\r\n      const state = context.state\r\n      if (params.way) {\r\n        for (let i = 0; i < state[state.list].length; i++) {\r\n          context.commit('trackDraw', i)\r\n        }\r\n      } else {\r\n        context.commit('trackDraw')\r\n      }\r\n      if (params.clear) {\r\n        context.commit('clearDragData')\r\n      }\r\n    })\r\n  },\r\n  setAllTrackDraw (context, params) {\r\n    const list = params.list\r\n    const prefix = params.prefix\r\n    context.state.vm.$nextTick(() => {\r\n      const state = context.state\r\n      for (let i = 0; i < list.length; i++) {\r\n        const realList = state[list[i]]\r\n        state.trackId = prefix[i] + 'Track'\r\n        state.prefix = prefix[i]\r\n        state.list = list[i]\r\n        for (let j = 0; j < realList.length; j++) {\r\n          context.commit('trackDraw', j)\r\n        }\r\n      }\r\n      context.commit('clearDragData')\r\n    })\r\n  },\r\n  setTrackBlockSelect (context, params) {\r\n    params.vm.$nextTick(() => {\r\n      context.commit('trackBlockSelect', params)\r\n    })\r\n  },\r\n  async setNextTrackBlock (context) {\r\n    // 触发页面渲染及轨道显示更新\r\n    await this.dispatch('setTrackDraw', { way: false, clear: false })\r\n    // 选中下一个轨道块\r\n    const state = context.state\r\n    const index = state.selected.index\r\n    const newIndex = index > 0 ? index - 1 : index\r\n    const target = state.vm.$refs[state.trackId][state.selected.trackIndex].$refs[state.prefix + newIndex][0]\r\n    this.commit('trackBlockSelect', {\r\n      e: target,\r\n      index: newIndex,\r\n      trackIndex: state.selected.trackIndex,\r\n      list: state.selected.type,\r\n      vm: state.vm\r\n    })\r\n    // 判断playing-\r\n    state.needPointerJudge.isNeed = true\r\n    state.needPointerJudge.target = state.list\r\n    // 清空相关数据\r\n    context.commit('clearDragData')\r\n  }\r\n}\r\n\r\nexport default new Vuex.Store({\r\n  state,\r\n  getters,\r\n  mutations,\r\n  actions\r\n})\r\n","import Vue from 'vue'\nimport App from './App.vue'\nimport store from './vuex/store'\nimport ElementUI from 'element-ui'\nimport 'element-ui/lib/theme-chalk/index.css'\nimport './assets/fontStyleIcon/iconfont.css'\nimport '@/assets/global.styl'\n\nVue.use(ElementUI)\nVue.config.productionTip = false\n\nnew Vue({\n  store,\n  render: h => h(App),\n}).$mount('#app')\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Pointer.vue?vue&type=style&index=0&id=4b2f2475&lang=stylus&scoped=true&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PictureTrack.vue?vue&type=style&index=0&id=93ddc8ae&lang=stylus&scoped=true&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextTab.vue?vue&type=style&index=0&id=76a8732d&lang=stylus&scoped=true&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TempMessage.vue?vue&type=style&index=0&id=64763dce&lang=stylus&scoped=true&\"","module.exports = \"data:image/png;base64,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\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MaterialTab.vue?vue&type=style&index=0&id=52da4946&lang=stylus&scoped=true&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OnlineClip.vue?vue&type=style&index=0&id=8008c63e&lang=stylus&scoped=true&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TimeAxis.vue?vue&type=style&index=0&id=5c9943b6&lang=stylus&scoped=true&\"","module.exports = __webpack_public_path__ + \"img/forest.929fc2a1.jpg\";","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextTrack.vue?vue&type=style&index=0&id=630e63c4&lang=stylus&scoped=true&\"","module.exports = __webpack_public_path__ + \"media/JX3.b7226285.mp4\";","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"img/circle.37198aa6.jpg\";","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextDrr.vue?vue&type=style&index=0&id=21e03a02&lang=stylus&scoped=true&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PictureDrr.vue?vue&type=style&index=0&id=20409c3b&lang=stylus&scoped=true&\"","module.exports = __webpack_public_path__ + \"media/firework.1f1ecc1e.mp4\";","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MaterialTrack.vue?vue&type=style&index=0&id=6cb17c91&lang=stylus&scoped=true&\""],"sourceRoot":""}